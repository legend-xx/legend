<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Web API | Legend</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/L.png">
    <script language="javascript" type="text/javascript" src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script language="javascript" type="text/javascript" src="/js/MouseClickEffect.js"></script>
    <meta name="description" content="加载中...">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.d81f8fa1.css" as="style"><link rel="preload" href="/assets/js/app.c3392a55.js" as="script"><link rel="preload" href="/assets/js/3.3ec6bdf6.js" as="script"><link rel="preload" href="/assets/js/1.235dfb9e.js" as="script"><link rel="preload" href="/assets/js/13.d1f83819.js" as="script"><link rel="prefetch" href="/assets/js/10.1ef77500.js"><link rel="prefetch" href="/assets/js/11.24ca0bf8.js"><link rel="prefetch" href="/assets/js/12.74b79a79.js"><link rel="prefetch" href="/assets/js/14.18d92e29.js"><link rel="prefetch" href="/assets/js/15.5588ddac.js"><link rel="prefetch" href="/assets/js/16.ba987e47.js"><link rel="prefetch" href="/assets/js/17.6f392767.js"><link rel="prefetch" href="/assets/js/18.9ab3fd16.js"><link rel="prefetch" href="/assets/js/19.c7cff75e.js"><link rel="prefetch" href="/assets/js/20.cb77310a.js"><link rel="prefetch" href="/assets/js/21.7e3cc41f.js"><link rel="prefetch" href="/assets/js/22.6bec4e4b.js"><link rel="prefetch" href="/assets/js/23.4d218b4b.js"><link rel="prefetch" href="/assets/js/24.f295c2c2.js"><link rel="prefetch" href="/assets/js/4.ebc3396a.js"><link rel="prefetch" href="/assets/js/5.b1a276ff.js"><link rel="prefetch" href="/assets/js/6.03571bcd.js"><link rel="prefetch" href="/assets/js/7.55bafbc7.js"><link rel="prefetch" href="/assets/js/8.25dba3e4.js"><link rel="prefetch" href="/assets/js/9.9e27a514.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d81f8fa1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-1aefc0b4><div data-v-1aefc0b4><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-1aefc0b4 data-v-1aefc0b4><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-25ba6db2 data-v-1aefc0b4 data-v-1aefc0b4><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>Legend</h3> <p class="description" data-v-25ba6db2 data-v-25ba6db2>加载中...</p> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><span data-v-25ba6db2>legend</span>
            
          <span data-v-25ba6db2>2021 - </span>
          2022
        </a></span></div></div> <div class="hide" data-v-1aefc0b4><header class="navbar" data-v-1aefc0b4><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/L.png" alt="Legend" class="logo"> <span class="site-name">Legend</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/Html/" class="nav-link"><i class="undefined"></i>
  Html
</a></li><li class="dropdown-item"><!----> <a href="/categories/JavaScript/" class="nav-link"><i class="undefined"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/categories/CSS/" class="nav-link"><i class="undefined"></i>
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/categories/Other/" class="nav-link"><i class="undefined"></i>
  Other
</a></li><li class="dropdown-item"><!----> <a href="/categories/Vue/" class="nav-link"><i class="undefined"></i>
  Vue
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div><div class="nav-item"><a href="/docs/" class="nav-link"><i class="iconfont reco-other"></i>
  项目
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      关于
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/legend-xx" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-1aefc0b4></div> <aside class="sidebar" data-v-1aefc0b4><div class="personal-info-wrapper" data-v-39576ba9 data-v-1aefc0b4><img src="/legend.jpg" alt="author-avatar" class="personal-img" data-v-39576ba9> <h3 class="name" data-v-39576ba9>
    legend
  </h3> <div class="num" data-v-39576ba9><div data-v-39576ba9><h3 data-v-39576ba9>14</h3> <h6 data-v-39576ba9>Articles</h6></div> <div data-v-39576ba9><h3 data-v-39576ba9>6</h3> <h6 data-v-39576ba9>Tags</h6></div></div> <ul class="social-links" data-v-39576ba9></ul> <hr data-v-39576ba9></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/Html/" class="nav-link"><i class="undefined"></i>
  Html
</a></li><li class="dropdown-item"><!----> <a href="/categories/JavaScript/" class="nav-link"><i class="undefined"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/categories/CSS/" class="nav-link"><i class="undefined"></i>
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/categories/Other/" class="nav-link"><i class="undefined"></i>
  Other
</a></li><li class="dropdown-item"><!----> <a href="/categories/Vue/" class="nav-link"><i class="undefined"></i>
  Vue
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div><div class="nav-item"><a href="/docs/" class="nav-link"><i class="iconfont reco-other"></i>
  项目
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      关于
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/legend-xx" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-25ba6db2 data-v-1aefc0b4><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>Web API</h3> <!----> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><span data-v-25ba6db2>legend</span>
            
          <span data-v-25ba6db2>2021 - </span>
          2022
        </a></span></div></div> <div data-v-1aefc0b4><main class="page"><section><div class="page-title"><h1 class="title">Web API</h1> <div data-v-f875f3fc><i class="iconfont reco-account" data-v-f875f3fc><span data-v-f875f3fc>legend</span></i> <i class="iconfont reco-date" data-v-f875f3fc><span data-v-f875f3fc>10/2/2021</span></i> <i class="iconfont reco-eye" data-v-f875f3fc><span id="/blogs/javascript/api.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-f875f3fc><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <i class="tags iconfont reco-tag" data-v-f875f3fc><span class="tag-item" data-v-f875f3fc>JavaScript</span></i></div></div> <div class="theme-reco-content content__default"><h2 id="web-api"><a href="#web-api" class="header-anchor">#</a> Web API</h2> <h3 id="一-入门了解"><a href="#一-入门了解" class="header-anchor">#</a> （一） 入门了解</h3> <h4 id="_1-web-apis-和-js-基础关联性"><a href="#_1-web-apis-和-js-基础关联性" class="header-anchor">#</a> 1. Web APIs 和 JS 基础关联性</h4> <h5 id="_1-1-js-组成"><a href="#_1-1-js-组成" class="header-anchor">#</a> 1.1 JS 组成</h5> <ul><li>ECMAScript: JS 语法</li> <li>BOM: Web API</li> <li>DOM: Web API</li></ul> <h4 id="_2-api-和-web-api"><a href="#_2-api-和-web-api" class="header-anchor">#</a> 2. API 和 Web API</h4> <h5 id="_2-1-api"><a href="#_2-1-api" class="header-anchor">#</a> 2.1 API</h5> <p>API：Application Programming Interface，应用程序接口。</p> <h5 id="_2-2-web-api"><a href="#_2-2-web-api" class="header-anchor">#</a> 2.2 Web API</h5> <p>Web API 是浏览器提供得一套操作浏览器功能和页面元素得 API（BOM 和 DOM）。</p> <h3 id="二-dom-基础"><a href="#二-dom-基础" class="header-anchor">#</a> （二）DOM 基础</h3> <h4 id="_1-dom-简介"><a href="#_1-dom-简介" class="header-anchor">#</a> 1. DOM 简介</h4> <h5 id="_1-1-什么是-dom"><a href="#_1-1-什么是-dom" class="header-anchor">#</a> 1.1 什么是 DOM</h5> <p>文档对象模型（Document Object Model，简称DOM )，是W3C组织推荐的处理可扩展标记语言（HTML或者XML)的标准编程接口。</p> <p>W3C已经定义了一系列的DOM接口，通过这些DOM接口可以改变网页的内容、结构和样式。</p> <h5 id="_1-2-dom-树"><a href="#_1-2-dom-树" class="header-anchor">#</a> 1.2 DOM 树</h5> <ul><li>文档：一个页面就是一个文档，DOM中使用document表示</li> <li>元素：页面中的所有标签都是元素，DOM中使用element表示</li> <li>节点：网页中的所有内容都是节点（标签、属性、文本、注释等），DOM中使用node表示</li></ul> <p>以上内容都称之为对象</p> <h4 id="_2-获取元素"><a href="#_2-获取元素" class="header-anchor">#</a> 2. 获取元素</h4> <h5 id="_2-1-如何获取页面元素"><a href="#_2-1-如何获取页面元素" class="header-anchor">#</a> 2.1 如何获取页面元素</h5> <p>DOM 在我们实际开发中主要用来操作元素。我们如何来获取页面中的元素呢?</p> <p>获取页面中的元素可以使用以下几种方式:</p> <ul><li>根据ID获取</li> <li>根据标签名获取</li> <li>通过HTML5新增的方法获取</li> <li>特殊元素获取</li></ul> <h5 id="_2-2-根据-id-获取"><a href="#_2-2-根据-id-获取" class="header-anchor">#</a> 2.2 根据 ID 获取</h5> <p>使用 <code>getElementByld()</code> 方法可以获取带有 ID 的元素对象，并返回一个 <code>Element</code> 对象。</p> <ul><li><code>console.dir()</code> 可打印元素的属性和方法</li></ul> <h5 id="_2-3-根据标签名获取"><a href="#_2-3-根据标签名获取" class="header-anchor">#</a> 2.3 根据标签名获取</h5> <p>使用 <code>getElementsByTagName()</code> 方法可以返回带有指定标签名的对象的集合。</p> <ul><li>返回的是 <strong>元素对象的集合，伪数组形式表示</strong>。</li> <li>可以遍历返回的伪数组。</li> <li>得到的元素对象是动态的。</li> <li>若没有元素，则返回空的伪数组 <code>[]</code>。</li></ul> <p>指定父元素，父元素必须是指定的单个元素。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> ol <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'ol'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ol<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Copy to clipboardErrorCopied

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>若给 <code>ol</code> 指定了 id: <code>ol</code>:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> ol <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'ol'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ol<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Copy to clipboardErrorCopied

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h5 id="_2-4-通过-html5-新增方法获取"><a href="#_2-4-通过-html5-新增方法获取" class="header-anchor">#</a> 2.4 通过 HTML5 新增方法获取</h5> <ol><li><p>根据类名返回元素对象集合。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'类名'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> Copy to clipboardErrorCopied

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>根据指定选择器返回第一个元素对象。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'选择器'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> Copy to clipboardErrorCopied

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>返回指定选择器的所有元素集合。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'选择器'</span><span class="token punctuation">)</span> Copy to clipboardErrorCopied

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ol> <p>Tip</p> <p>对于这些获取事件，要不就是返回一个元素对象，要不就是返回一个对象集合。对于返回的对象集合，都可以是作为一种伪数组，可以通过 <code>elems.length</code> 来获取元素对象个数。</p> <h5 id="_2-5-获取特殊元素"><a href="#_2-5-获取特殊元素" class="header-anchor">#</a> 2.5 获取特殊元素</h5> <ol><li><p>获取 <code>body</code> 元素</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>document<span class="token punctuation">.</span>body<span class="token punctuation">;</span>Copy to clipboardErrorCopied

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>获取 <code>html</code> 元素</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">;</span>Copy to clipboardErrorCopied

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ol> <h4 id="_3-事件基础"><a href="#_3-事件基础" class="header-anchor">#</a> 3. 事件基础</h4> <h5 id="_3-1-事件概述"><a href="#_3-1-事件概述" class="header-anchor">#</a> 3.1 事件概述</h5> <p>JavaScript 使我们有能力创建动态页面，而事件是可以被 JavaScript 侦测到的行为。</p> <p>简单理解︰触发--响应机制。</p> <p>网页中的每个元素都可以产生某些可以触发 JavaScript 的事件，例如，我们可以在用户点击某按钮时产生一个事件，然后去执行某些操作。</p> <h5 id="_3-2-事件三要素"><a href="#_3-2-事件三要素" class="header-anchor">#</a> 3.2 事件三要素</h5> <ul><li>事件源：事件被触发的对象（按钮）。</li> <li>事件类型：如何触发、什么事件（点击按钮）。</li> <li>事件处理程序：可通过一个函数赋值的方式实现。</li></ul> <ol><li><p>获取事件源</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>唐伯虎<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>Copy to clipboardErrorCopied

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>注册事件</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code> <span class="token keyword">let</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'btn'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>添加事件处理程序</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'点秋香'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ol> <p>Tip</p> <p>执行事件的步骤</p> <ol><li>获取事件源</li> <li>注册事件（绑定事件）</li> <li>添加事件处理程序（函数赋值）</li></ol> <h5 id="_3-4-常见鼠标事件"><a href="#_3-4-常见鼠标事件" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch02?id=_34-%E5%B8%B8%E8%A7%81%E9%BC%A0%E6%A0%87%E4%BA%8B%E4%BB%B6" target="_blank" rel="noopener noreferrer">3.4 常见鼠标事件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <table><thead><tr><th>鼠标事件</th> <th>触发条件</th></tr></thead> <tbody><tr><td><code>onclick</code></td> <td>鼠标点击左键触发</td></tr> <tr><td><code>onmouseover</code></td> <td>鼠标经过触发</td></tr> <tr><td><code>onmouseout</code></td> <td>鼠标离开触发</td></tr> <tr><td><code>onfocus</code></td> <td>获得鼠标焦点触发</td></tr> <tr><td><code>onblur</code></td> <td>失去鼠标焦点触发</td></tr> <tr><td><code>onmousemove</code></td> <td>鼠标移动触发</td></tr> <tr><td><code>onmouseup</code></td> <td>鼠标弹起触发</td></tr> <tr><td><code>onmousedown</code></td> <td>鼠标按下触发</td></tr></tbody></table> <h4 id="_4-操作元素"><a href="#_4-操作元素" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch02?id=_4-%E6%93%8D%E4%BD%9C%E5%85%83%E7%B4%A0" target="_blank" rel="noopener noreferrer">4. 操作元素<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <p>使用 JavaScript DOM 可以改变网页内容、结构和样式。以下是元素的属性。</p> <h5 id="_4-1-改变元素内容"><a href="#_4-1-改变元素内容" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch02?id=_41-%E6%94%B9%E5%8F%98%E5%85%83%E7%B4%A0%E5%86%85%E5%AE%B9" target="_blank" rel="noopener noreferrer">4.1 改变元素内容<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p>从起始位置到终止位置的内容,但它去除html标签，同时空格和换行也会去掉</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>element<span class="token punctuation">.</span>innerTextCopy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>起始位置到终止位置的全部内容，包括html标签，同时保留空格和换行</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>element<span class="token punctuation">.</span>innerHTMLCopy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h5 id="_4-2-innertext-和-innerhtml-的区别"><a href="#_4-2-innertext-和-innerhtml-的区别" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch02?id=_42-innertext-%E5%92%8C-innerhtml-%E7%9A%84%E5%8C%BA%E5%88%AB" target="_blank" rel="noopener noreferrer">4.2 innerText 和 innerHTML 的区别<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <ol><li><div class="language- line-numbers-mode"><pre class="language-text"><code>innerText


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>不识别 html 标签，</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>innerHTML


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>识别 html 标签。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>div<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">' &lt;strong&gt;今天是：&lt;/strong&gt;2021-3-23'</span><span class="token punctuation">;</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p><code>innerText</code> 会取出空格和换行，<code>innerHTML</code> 保留换行和空格。</p></li></ol> <h5 id="_4-3-常用元素的属性操作"><a href="#_4-3-常用元素的属性操作" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch02?id=_43-%E5%B8%B8%E7%94%A8%E5%85%83%E7%B4%A0%E7%9A%84%E5%B1%9E%E6%80%A7%E6%93%8D%E4%BD%9C" target="_blank" rel="noopener noreferrer">4.3 常用元素的属性操作<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <ol><li><code>innerText</code>、<code>innerHTML</code> 改变元素内容</li> <li><code>src</code>、<code>href</code></li> <li><code>id</code>、<code>alt</code>、<code>title</code></li></ol> <p>示例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> vsc <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'vsc'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> zh <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'zh'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> img <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'img'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
vsc<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">'images/vscode.jpg'</span><span class="token punctuation">;</span>
    img<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">'vscode'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h5 id="_4-4-表单元素的属性操作"><a href="#_4-4-表单元素的属性操作" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch02?id=_44-%E8%A1%A8%E5%8D%95%E5%85%83%E7%B4%A0%E7%9A%84%E5%B1%9E%E6%80%A7%E6%93%8D%E4%BD%9C" target="_blank" rel="noopener noreferrer">4.4 表单元素的属性操作<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p>利用 DOM 可以操控以下表单元素的属性。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>type, value, checked, selected, disabledCopy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h5 id="_4-5-样式属性操作"><a href="#_4-5-样式属性操作" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch02?id=_45-%E6%A0%B7%E5%BC%8F%E5%B1%9E%E6%80%A7%E6%93%8D%E4%BD%9C" target="_blank" rel="noopener noreferrer">4.5 样式属性操作<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p>我们可以通过JS修改元素的大小、颜色、位置等样式。</p> <ol><li><code>element.style</code>：行内样式操作</li> <li><code>element.className</code>：类名样式操作</li></ol> <p>Tip</p> <ol><li>Js 里面的样式采取驼峰命名法比如 <code>fontSize</code>、<code>backgroundColor</code></li> <li>JS修改 <code>style</code> 样式操作，产生的是行内样式，css 权重比较高</li> <li>如果样式修改较多，可以采取操作类名方式更改元素样式</li> <li>class 因为是个保留字，因此使用 <code>className</code> 来操作元素类名属性</li> <li><code>className</code> 会直接更改元素的类名，会覆盖原先的类名。</li></ol> <h5 id="_4-6-排他思想"><a href="#_4-6-排他思想" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch02?id=_46-%E6%8E%92%E4%BB%96%E6%80%9D%E6%83%B3" target="_blank" rel="noopener noreferrer">4.6 排他思想<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p>如果有同一组元素，我们想要某一个元素实现某种样式，需要用到循环的排他思想算法：</p> <ol><li>所有元素全部清除样式（干掉其他人）</li> <li>给当前元素设置样式（留下我自己）</li> <li>注意顺序不能颠倒，首先干掉其他人，再设置自己。</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code> <span class="token keyword">const</span> btns <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> btns<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        btns<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>btns<span class="token punctuation">.</span>length<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                btns<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">'pink'</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>Tip</p> <p>根据这个算法可以用来实现鼠标经过每一行时背景变色。</p> <h5 id="_4-7-h5自定义属性"><a href="#_4-7-h5自定义属性" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch02?id=_47-h5%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B1%9E%E6%80%A7" target="_blank" rel="noopener noreferrer">4.7 H5自定义属性<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p>自定义属性目的：是为了保存并使用数据，有些数据可以保存到页面中而不用保存到数据库中。</p> <h6 id="_4-7-1-设置h5自定义属性"><a href="#_4-7-1-设置h5自定义属性" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch02?id=_471-%E8%AE%BE%E7%BD%AEh5%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B1%9E%E6%80%A7" target="_blank" rel="noopener noreferrer">4.7.1 设置H5自定义属性<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <p>H5规定自定义属性以 <code>data-</code> 开头作为属性名并赋值。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h6 id="_4-7-2-获取h5自定义属性"><a href="#_4-7-2-获取h5自定义属性" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch02?id=_472-%E8%8E%B7%E5%8F%96h5%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B1%9E%E6%80%A7" target="_blank" rel="noopener noreferrer">4.7.2 获取H5自定义属性<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <ol><li>兼容性获取 <code>element.getAttribute('data-index')</code></li> <li>H5新增方法 <code>element.dataset.index</code> 或 <code>element.dataset['index']</code> 获取。（&gt;=ie11）</li> <li>如果自定义属性里面有多个链接的单词，则使用驼峰命名法获取。</li></ol> <p>Warning</p> <p>对于 <code>element.dataset.index</code> 和 <code>element.dataset['index']</code> 方法，注意 <code>index</code> 和 <code>data-index</code> 中的要对应。</p> <h5 id="_4-8-元素属性操作"><a href="#_4-8-元素属性操作" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch02?id=_48-%E5%85%83%E7%B4%A0%E5%B1%9E%E6%80%A7%E6%93%8D%E4%BD%9C" target="_blank" rel="noopener noreferrer">4.8 元素属性操作<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <h6 id="_4-8-1-获取属性值"><a href="#_4-8-1-获取属性值" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch02?id=_481-%E8%8E%B7%E5%8F%96%E5%B1%9E%E6%80%A7%E5%80%BC" target="_blank" rel="noopener noreferrer">4.8.1 获取属性值<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <ul><li><code>element.属性</code>;：一般用于获取本身自带属性值。</li> <li><code>element.getAttribute('属性');</code>：主要获得自定义的属性（标准）我们程序员自定义的属性。</li></ul> <h6 id="_4-8-2-设置属性值"><a href="#_4-8-2-设置属性值" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch02?id=_482-%E8%AE%BE%E7%BD%AE%E5%B1%9E%E6%80%A7%E5%80%BC" target="_blank" rel="noopener noreferrer">4.8.2 设置属性值<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <ul><li><code>element.属性='值';</code>：设置内置属性值。</li> <li><code>element.setAttribute('属性', '值');</code>：设置自定义属性。</li></ul> <p>Tip</p> <p>对于 <code>element.setAttribute</code> 方法，若属已存在，则更新该属性值；否则，创建一个新属性。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>div<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'index'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'class'</span><span class="token punctuation">,</span> <span class="token string">'footer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Warning</p> <p>使用 <code>element.属性</code> 获取或设置类名时，要用 <code>className</code>，而对于 <code>element.setAttribute()</code> 方法，直接使用 <code>class</code>，即：<code>div.setAttribute('class', 'footer')</code>。</p> <h6 id="_4-8-3-移除属性"><a href="#_4-8-3-移除属性" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch02?id=_483-%E7%A7%BB%E9%99%A4%E5%B1%9E%E6%80%A7" target="_blank" rel="noopener noreferrer">4.8.3 移除属性<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <ul><li><code>element.removeAttribute(属性);</code></li></ul> <h4 id="_5-结点操作"><a href="#_5-结点操作" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch02?id=_5-%E7%BB%93%E7%82%B9%E6%93%8D%E4%BD%9C" target="_blank" rel="noopener noreferrer">5. 结点操作<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <h5 id="_5-1为什么学节点操作"><a href="#_5-1为什么学节点操作" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch02?id=_51%E4%B8%BA%E4%BB%80%E4%B9%88%E5%AD%A6%E8%8A%82%E7%82%B9%E6%93%8D%E4%BD%9C" target="_blank" rel="noopener noreferrer">5.1为什么学节点操作<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p>获取元素通常使用两种方式:</p> <ol><li>利用DOM提供的方法获取元素，缺点：逻辑性不强、繁琐
<ul><li><code>document.getElementByld()</code></li> <li><code>document.getElementsByTagName()</code></li> <li><code>document.querySelector()</code></li></ul></li> <li>利用 <strong>节点层级关系</strong> 获取元素
<ul><li>利用父子兄节点关系获取元素</li> <li>优点：逻辑性强</li> <li>缺点：兼容性稍差</li></ul></li></ol> <h5 id="_5-2-节点概述"><a href="#_5-2-节点概述" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch02?id=_52-%E8%8A%82%E7%82%B9%E6%A6%82%E8%BF%B0" target="_blank" rel="noopener noreferrer">5.2 节点概述<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p>网页中的所有内容都是节点(标签、属性、文本、注释等），在DOM中，节点使用 <code>node</code> 来表示。</p> <p>HTML DOM 树中的所有节点均可通过 JavaScript 进行访问，所有 HTML 元素（节点）均可被修改，也可以创建或删除。</p> <p>一般地，节点至少拥有 <code>nodeType</code> (节点类型)、<code>nodeName</code> (节点名称）和 <code>nodeValue</code> (节点值）这三个基本属性。</p> <p><strong>三种基本节点类型：</strong></p> <ul><li>元素节点 <code>nodeType</code> 为 <code>1</code></li> <li>属性节点 <code>nodeType</code> 为 <code>2</code></li> <li>文本节点 <code>nodeType</code> 为 <code>3</code>（文字、空格、换行）</li></ul> <p>实际开发中，主要操作的还是元素节点。</p> <h5 id="_5-3-节点层级"><a href="#_5-3-节点层级" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch02?id=_53-%E8%8A%82%E7%82%B9%E5%B1%82%E7%BA%A7" target="_blank" rel="noopener noreferrer">5.3 节点层级<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <h6 id="_5-3-1-父级节点"><a href="#_5-3-1-父级节点" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch02?id=_531-%E7%88%B6%E7%BA%A7%E8%8A%82%E7%82%B9" target="_blank" rel="noopener noreferrer">5.3.1 父级节点<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <p>获取离元素最近的父节点，若找不到则返回 <code>null</code>。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>node<span class="token punctuation">.</span>parentNodeCopy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h6 id="_5-3-2-子节点"><a href="#_5-3-2-子节点" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch02?id=_532-%E5%AD%90%E8%8A%82%E7%82%B9" target="_blank" rel="noopener noreferrer">5.3.2 子节点<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <div class="language-js line-numbers-mode"><pre class="language-js"><code>parentNode<span class="token punctuation">.</span>childNodesCopy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>parentNode.childNodes</code> 返回包含指定 <strong>节点的子节点的集合</strong>，该集合为即时更新的集合。</p> <p>Warning</p> <p>注意：<code>parentNode.childNodes</code> 包含了所有的子节点，包括元素节点，文本节点等。 如果只想要获得里面的元素节点，则需要专门处理。所以我们一般不提倡使用 <code>childNodes</code>。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 筛选元素节点</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> ul<span class="token punctuation">.</span>childNodes<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>ul<span class="token punctuation">.</span>childNodes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ul<span class="token punctuation">.</span>childNodes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>更加好的方法：获取子元素节点</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>parentNode<span class="token punctuation">.</span>children<span class="token punctuation">;</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>子节点方法：</p> <p>① 获取 <strong>所有结点</strong> 中的第一个和最后一个：</p> <ul><li><code>parentNode.firstChild</code></li> <li><code>parentNode.lastChild</code></li></ul> <p>② 获取 <strong>元素节点</strong>中第一个和最后一个</p> <ul><li><code>parentNode.firstElementChild</code></li> <li><code>parentNode.lastElementChild</code></li></ul> <p>（&gt;=IE9）</p> <p>③ <strong>实际开发</strong>：</p> <ul><li><code>parentNode.children[0]</code></li> <li><code>parentNode.children[parentNode.children.length -1]</code></li></ul> <h6 id="_5-3-3-兄弟节点"><a href="#_5-3-3-兄弟节点" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch02?id=_533-%E5%85%84%E5%BC%9F%E8%8A%82%E7%82%B9" target="_blank" rel="noopener noreferrer">5.3.3 兄弟节点<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <ol><li><p>返回下一个兄弟节点：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>node<span class="token punctuation">.</span>nextSiblingCopy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>返回上一个的兄弟节点：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>node.previousSiblingCopy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>nextsibling</code> / <code>previousSibling</code> 返回当前元素的下/上一个兄弟节点，找不到则返回 <code>null</code>。这个兄弟节点可能是是所有的节点之一（即元素节点、文本节点等）。</p></li> <li><p>返回下一个 <strong>兄弟元素节点</strong>（≥IE9）</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>node<span class="token punctuation">.</span>nextElementSiblingCopy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>返回上一个 <strong>兄弟元素节点</strong>（≥IE9）</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>node<span class="token punctuation">.</span>previousElementSiblingCopy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>nextElementSibling</code> / <code>previousElementSibling</code> 返回当前元素下/上一个兄弟元素节点，找不到则返回 <code>null</code>。</p></li></ol> <p>Warning</p> <p>这两个方法（<code>nextElementSibling</code> / <code>previousElementSibling</code>）有兼容性问题，IE9 以上才支持。</p> <p>解决方法：封装一个函数。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 处理 &lt;IE9 兼容性问题</span>
<span class="token keyword">function</span> <span class="token function">getNextElementSibling</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> n <span class="token operator">=</span> node<span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>n <span class="token operator">=</span> n<span class="token punctuation">.</span>nextSibling<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>n<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> n<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h6 id="_5-3-4-创建并添加节点"><a href="#_5-3-4-创建并添加节点" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch02?id=_534-%E5%88%9B%E5%BB%BA%E5%B9%B6%E6%B7%BB%E5%8A%A0%E8%8A%82%E7%82%B9" target="_blank" rel="noopener noreferrer">5.3.4 创建并添加节点<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <div class="language-js line-numbers-mode"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;tagName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>document.createElement()</code> 方法创建由 <code>tagName</code> 指定的 HTML 元素。因为这些元素原先不存在，是根据我们的需求动态生成的，所以我们也称为 <strong>动态创建元素节点</strong>。</p> <p>在创建了元素节点后，还需要将节点添加到页面中。<code>appendChild()</code> 方法可以给元素节点添加子元素节点，若某元素已存在则重复添加，在页面已存在的元素 <strong>后面追加新节点</strong>。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code> parentNode<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>chileNode<span class="token punctuation">)</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>类似的，也可以使用 <code>insertBefore()</code> 方法在指定元素的前面插入节点。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> insertedNode <span class="token operator">=</span> parentNode<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>newNode<span class="token punctuation">,</span> referenceNode<span class="token punctuation">)</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>参数说明：</p> <ul><li><code>insertedNode</code>：同 <code>newNode</code>，待插入的新节点。</li> <li><code>parentNode</code>：被插入的父节点。</li> <li><code>newNode</code>：待插入的新节点。</li> <li><code>referenceNode</code>：指定元素节点，新节点将插入到该元素节点的前面。</li></ul> <p>Tip</p> <p>在一个页面中要添加元素节点，先创建节点，然后添加节点。</p> <h6 id="_5-3-5-删除节点"><a href="#_5-3-5-删除节点" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch02?id=_535-%E5%88%A0%E9%99%A4%E8%8A%82%E7%82%B9" target="_blank" rel="noopener noreferrer">5.3.5 删除节点<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <p>DOM 提供了 <code>removeChild(childNode)</code> 方法，删除一个子节点，并返回删除的节点。其中 <code>childNode</code> 为待删除的子节点。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 方式一</span>
parentNode<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>childNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 方式二</span>
<span class="token keyword">let</span> oldChild <span class="token operator">=</span> parentNode<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>childNode<span class="token punctuation">)</span><span class="token punctuation">;</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h6 id="_5-3-6-复制节点"><a href="#_5-3-6-复制节点" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch02?id=_536-%E5%A4%8D%E5%88%B6%E8%8A%82%E7%82%B9" target="_blank" rel="noopener noreferrer">5.3.6 复制节点<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <p><code>node.cloneNode()</code> 方法返回调用该方法的节点的一个副本。也称为克隆节点/拷贝节点。其中 <code>node</code> 为被克隆的元素节点。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>node<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token punctuation">[</span>deep<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>或者</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> newClone <span class="token operator">=</span> node<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token punctuation">[</span>deep<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>对于 <code>deep</code> 参数，可以为 <code>true</code> 或 <code>false</code>，或为空的：</p> <table><thead><tr><th><code>deep</code> 参数值</th> <th>含义</th></tr></thead> <tbody><tr><td><code>true</code></td> <td>深拷贝，同时复制节点本身和里面的子节点</td></tr> <tr><td><code>false</code></td> <td>浅拷贝，只复制节点本身，不复制子节点</td></tr> <tr><td><code>空</code></td> <td>空，同 <code>false</code></td></tr></tbody></table> <h6 id="_5-3-7-三种动态创建元素的区别"><a href="#_5-3-7-三种动态创建元素的区别" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch02?id=_537-%E4%B8%89%E7%A7%8D%E5%8A%A8%E6%80%81%E5%88%9B%E5%BB%BA%E5%85%83%E7%B4%A0%E7%9A%84%E5%8C%BA%E5%88%AB" target="_blank" rel="noopener noreferrer">5.3.7 三种动态创建元素的区别<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <ul><li><code>document.write()</code></li> <li><code>element.innerHTML</code></li> <li><code>element.createElement()</code></li></ul> <p>区别：</p> <ol><li><code>document.write()</code> 创建元素，是直接将内容写入页面的内容流，但是 <strong>当文档流执行完毕，会导致页面全部重绘</strong>。即覆盖原本的页面。</li> <li><code>innerHTML</code> 是将内容写入某个 DOM 节点，不会导致页面全部重绘。</li> <li><code>innerHTML</code> 创建多个元素效率更高（<strong>不要拼接字符串，采取数组形式拼接</strong>），结构稍微复杂。</li> <li><code>createElement()</code> 创建多个元素效率稍低一点点，但是结构更清晰。</li></ol> <p>总结：不同浏览器下，<code>innerHTML</code> 效率要比 <code>creatElement</code>高。</p> <h4 id="_6-dom-学习阶段核心总结"><a href="#_6-dom-学习阶段核心总结" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch02?id=_6-dom-%E5%AD%A6%E4%B9%A0%E9%98%B6%E6%AE%B5%E6%A0%B8%E5%BF%83%E6%80%BB%E7%BB%93" target="_blank" rel="noopener noreferrer">6. DOM 学习阶段核心总结<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <p>关于 dom 操作，我们主要针对于元素的操作。主要有创（建）、增、删、改、查、属性操作、事件操作。</p> <h5 id="_6-1-创"><a href="#_6-1-创" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch02?id=_61-%E5%88%9B" target="_blank" rel="noopener noreferrer">6.1 创<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <ul><li><code>document.write</code></li> <li><code>innerHTML</code></li> <li><code>createElement</code></li></ul> <h5 id="_6-2-增"><a href="#_6-2-增" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch02?id=_62-%E5%A2%9E" target="_blank" rel="noopener noreferrer">6.2 增<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <ul><li><code>appendChild</code></li> <li><code>insertBefore</code></li></ul> <h5 id="_6-3-删"><a href="#_6-3-删" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch02?id=_63-%E5%88%A0" target="_blank" rel="noopener noreferrer">6.3 删<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <ul><li><code>removeChild</code></li></ul> <h5 id="_6-4-改"><a href="#_6-4-改" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch02?id=_64-%E6%94%B9" target="_blank" rel="noopener noreferrer">6.4 改<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p>主要修改 dom 的元素属性，dom 元素的内容、属性，表单的值等。</p> <ul><li>修改元素属性：<code>src</code>、<code>href</code>、<code>title</code> 等</li> <li>修改普通元素内容：<code>innerHTML</code>、<code>innerText</code></li> <li>修改表单元素：<code>value</code>、<code>type</code>、<code>disabled</code> 等</li> <li>修改元素样式：<code>style</code>、<code>className</code></li></ul> <h5 id="_6-5-查"><a href="#_6-5-查" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch02?id=_65-%E6%9F%A5" target="_blank" rel="noopener noreferrer">6.5 查<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p>主要获取查询dom的元素</p> <ul><li>DOM提供的API 方法：<code>getElementById</code>、<code>getElementsByTagName</code>（<strong>古老用法不太推荐</strong>）</li> <li>H5提供的新方法：<code>querySelector</code>、<code>querySelectorAll</code> 提倡</li> <li>利用节点操作获取元素：父（<code>parentNode</code>)、子（<code>children</code>）、兄（<code>previousElementSibling</code>、 <code>nextElementSibling</code>）提倡</li></ul> <h5 id="_6-6-属性操作"><a href="#_6-6-属性操作" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch02?id=_66-%E5%B1%9E%E6%80%A7%E6%93%8D%E4%BD%9C" target="_blank" rel="noopener noreferrer">6.6 属性操作<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p>主要针对于自定义属性</p> <ul><li><code>setAttribute</code>：设置dom的属性值</li> <li><code>getAttribute</code>：得到dom的属性值</li> <li><code>removeAttribute</code>：移除属性</li></ul> <h5 id="_6-7-事件操作"><a href="#_6-7-事件操作" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch02?id=_67-%E4%BA%8B%E4%BB%B6%E6%93%8D%E4%BD%9C" target="_blank" rel="noopener noreferrer">6.7 事件操作<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p>给元素注册事件，格式：<code>事件源.事件类型 = 事件处理程序</code></p> <table><thead><tr><th>鼠标事件</th> <th>触发条件</th></tr></thead> <tbody><tr><td><code>onclick</code></td> <td>鼠标点击左键触发</td></tr> <tr><td><code>onmouseover</code></td> <td>鼠标经过触发</td></tr> <tr><td><code>onmouseout</code></td> <td>鼠标离开触发</td></tr> <tr><td><code>onfocus</code></td> <td>获得鼠标焦点触发</td></tr> <tr><td><code>onblur</code></td> <td>失去鼠标焦点触发</td></tr> <tr><td><code>onmousemove</code></td> <td>鼠标移动触发</td></tr> <tr><td><code>onmouseup</code></td> <td>鼠标弹起触发</td></tr> <tr><td><code>onmousedown</code></td> <td>鼠标按下触发</td></tr></tbody></table> <h3 id="三-事件高级"><a href="#三-事件高级" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch03?id=%EF%BC%88%E4%B8%89%EF%BC%89%E4%BA%8B%E4%BB%B6%E9%AB%98%E7%BA%A7" target="_blank" rel="noopener noreferrer">（三）事件高级<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <h4 id="_1-注册事件-绑定事件"><a href="#_1-注册事件-绑定事件" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch03?id=_1-%E6%B3%A8%E5%86%8C%E4%BA%8B%E4%BB%B6%EF%BC%88%E7%BB%91%E5%AE%9A%E4%BA%8B%E4%BB%B6%EF%BC%89" target="_blank" rel="noopener noreferrer">1. 注册事件（绑定事件）<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <h5 id="_1-1-注册事件概述"><a href="#_1-1-注册事件概述" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch03?id=_11-%E6%B3%A8%E5%86%8C%E4%BA%8B%E4%BB%B6%E6%A6%82%E8%BF%B0" target="_blank" rel="noopener noreferrer">1.1 注册事件概述<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p>给元素添加事件，称为注册事件或者绑定事件。 注册事件有两种方式：<strong>传统方式</strong> 和 <strong>事件监听注册方式</strong>。</p> <h6 id="_1-1-1-传统注册方式"><a href="#_1-1-1-传统注册方式" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch03?id=_111-%E4%BC%A0%E7%BB%9F%E6%B3%A8%E5%86%8C%E6%96%B9%E5%BC%8F" target="_blank" rel="noopener noreferrer">1.1.1 传统注册方式<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <ul><li>利用on 开头的事件onclick</li> <li>``</li> <li><code>btn.onclick = function() {};</code></li> <li>特点：注册事件的 <strong>唯一性</strong></li> <li>同一个元素同一个事件只能设置一个处理函数，最 后注册的处理函数将会 <strong>覆盖</strong> 前面注册的处理函数。</li></ul> <h6 id="_1-1-2-事件监听注册方式"><a href="#_1-1-2-事件监听注册方式" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch03?id=_112-%E4%BA%8B%E4%BB%B6%E7%9B%91%E5%90%AC%E6%B3%A8%E5%86%8C%E6%96%B9%E5%BC%8F" target="_blank" rel="noopener noreferrer">1.1.2 事件监听注册方式<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <ul><li>w3c 标准推荐方式</li> <li><code>addEventListener()</code> 它是一个方法</li> <li>IE9 之前的 IE 不支持此方法，可使用 <code>attachEvent()</code> 代替</li> <li>特点：<strong>同一个元素同一个事件可以注册多个监听器</strong></li> <li>按注册顺序依次执行</li></ul> <h5 id="_1-2-addeventlistener-事件监听方式"><a href="#_1-2-addeventlistener-事件监听方式" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch03?id=_12-addeventlistener-%E4%BA%8B%E4%BB%B6%E7%9B%91%E5%90%AC%E6%96%B9%E5%BC%8F" target="_blank" rel="noopener noreferrer">1.2 addEventListener 事件监听方式<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <div class="language-js line-numbers-mode"><pre class="language-js"><code>eventTarget<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> listener<span class="token punctuation">[</span><span class="token punctuation">,</span> useCapture<span class="token punctuation">]</span><span class="token punctuation">)</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>eventTarget.addEventListener()</code> 方法将指定的监听器注册到 <code>eventTarget</code>（目标对象）上，当该对 象触发指定的事件时，就会执行事件处理函数。</p> <p>该方法接收三个参数：</p> <ul><li><code>type</code>：事件类型字符串，比如 <code>click</code> 、<code>mouseover</code>，注意这里不要带 on。</li> <li><code>listener</code>：事件处理函数，事件发生时，会调用该监听函数</li> <li><code>useCapture</code>：可选参数，是一个布尔值，默认是 <code>false</code>。学完 DOM 事件流后，我们再进一步学习。</li></ul> <p>Warning</p> <p>≥IE9 版本支持</p> <h5 id="_1-3-attachevent-事件监听方式-ie8以及早期版本独有"><a href="#_1-3-attachevent-事件监听方式-ie8以及早期版本独有" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch03?id=_13-attachevent-%E4%BA%8B%E4%BB%B6%E7%9B%91%E5%90%AC%E6%96%B9%E5%BC%8F%EF%BC%88ie8%E4%BB%A5%E5%8F%8A%E6%97%A9%E6%9C%9F%E7%89%88%E6%9C%AC%E7%8B%AC%E6%9C%89%EF%BC%89" target="_blank" rel="noopener noreferrer">1.3 attachEvent 事件监听方式（IE8以及早期版本独有）<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <div class="language-js line-numbers-mode"><pre class="language-js"><code>eventTarget<span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span>eventNameWithOn<span class="token punctuation">,</span> callback<span class="token punctuation">)</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>eventTarget.attachEvent()</code> 方法将指定的监听器注册到 <code>eventTarget</code>（目标对象）上，当该对象触 发指定的事件时，指定的回调函数就会被执行。 该方法接收两个参数：</p> <ul><li><code>eventNameWithOn</code>：事件类型字符串，比如 <code>onclick</code>、<code>onmouseover</code>，这里要带 <code>on</code></li> <li><code>callback</code>：事件处理函数，当目标触发事件时回调函数被调用</li></ul> <p>Warning</p> <p>IE8 及早期版本独有，在 chrome 不起作用。如要兼容，可自定义兼容新函数。</p> <h4 id="_2-删除事件-解绑事件"><a href="#_2-删除事件-解绑事件" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch03?id=_2-%E5%88%A0%E9%99%A4%E4%BA%8B%E4%BB%B6%EF%BC%88%E8%A7%A3%E7%BB%91%E4%BA%8B%E4%BB%B6%EF%BC%89" target="_blank" rel="noopener noreferrer">2. 删除事件（解绑事件）<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <h5 id="_2-1-传统注册方式"><a href="#_2-1-传统注册方式" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch03?id=_21-%E4%BC%A0%E7%BB%9F%E6%B3%A8%E5%86%8C%E6%96%B9%E5%BC%8F" target="_blank" rel="noopener noreferrer">2.1 传统注册方式<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <div class="language-js line-numbers-mode"><pre class="language-js"><code>eventTarget<span class="token punctuation">.</span>onclick <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h5 id="_2-2-方法监听注册方式"><a href="#_2-2-方法监听注册方式" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch03?id=_22-%E6%96%B9%E6%B3%95%E7%9B%91%E5%90%AC%E6%B3%A8%E5%86%8C%E6%96%B9%E5%BC%8F" target="_blank" rel="noopener noreferrer">2.2 方法监听注册方式<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <h6 id="_2-2-1-removeeventlistener-≥ie9"><a href="#_2-2-1-removeeventlistener-≥ie9" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch03?id=_221-removeeventlistener%EF%BC%88%E2%89%A5ie9%EF%BC%89" target="_blank" rel="noopener noreferrer">2.2.1 removeEventListener（≥IE9）<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <div class="language-js line-numbers-mode"><pre class="language-js"><code>eventTarget<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> listener<span class="token punctuation">[</span><span class="token punctuation">,</span> useCapture<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Tip</p> <p>一个对象可能绑定了很多事件，对于 <code>removeEventListener</code> 方法，需要指定要删除的事件 <code>listener</code>。所以在注册事件的时候需要提前将事件函数封装在一个变量里。然后把变量传给 <code>removeEventListener</code> 方法。</p> <p>例如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> btns <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&quot;button&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token function-variable function">func1</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;I \'m click(addEventListener)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    btns<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> func1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
btns<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> func1<span class="token punctuation">)</span><span class="token punctuation">;</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h6 id="_2-2-2-detachevent-仅适用于ie8及以下"><a href="#_2-2-2-detachevent-仅适用于ie8及以下" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch03?id=_222-detachevent%EF%BC%88%E4%BB%85%E9%80%82%E7%94%A8%E4%BA%8Eie8%E5%8F%8A%E4%BB%A5%E4%B8%8B%EF%BC%89" target="_blank" rel="noopener noreferrer">2.2.2 detachEvent（仅适用于IE8及以下）<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <div class="language-js line-numbers-mode"><pre class="language-js"><code>eventTarget<span class="token punctuation">.</span><span class="token function">detachEvent</span><span class="token punctuation">(</span>eventNameWithOn<span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="_3-dom-事件流"><a href="#_3-dom-事件流" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch03?id=_3-dom-%E4%BA%8B%E4%BB%B6%E6%B5%81" target="_blank" rel="noopener noreferrer">3. DOM 事件流<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <h5 id="_3-1-定义"><a href="#_3-1-定义" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch03?id=_31-%E5%AE%9A%E4%B9%89" target="_blank" rel="noopener noreferrer">3.1 定义<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p><strong>事件流</strong> 描述的是从页面中接收事件的顺序。</p> <p><strong>事件</strong> 发生时会在元素节点之间 <strong>按照特定的顺序</strong> 传播，这个传播过程即 <strong>DOM 事件流</strong>。</p> <p>比如我们给一个 <code>div</code> 注册了点击事件。
DOM 事件流分为3个阶段：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>捕获阶段 =&gt; 当前目标阶段 =&gt; 冒泡阶段Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li><p><strong>事件冒泡</strong>：IE 最早提出，事件开始时由最具体的元素接收，然后逐级向上传播到到 DOM 最顶层节点的过程。</p></li> <li><p><strong>事件捕获</strong>：网景最早提出，由DOM 最顶层节点开始，然后逐级向下传播到到最具体的元素接收的过程。</p> <p>我们向水里面扔一块石头，首先它会有一个下降的过程，这个过程就可以理解为从最顶层向事件发生的最具 体元素（目标点）的捕获过程；之后会产生泡泡，会在最低点（最具体元素）之后漂浮到水面上，这个过 程相当于事件冒泡。</p></li></ul> <p><img src="https://cdn.jsdelivr.net/gh/Hacker-C/Picture-Bed@main/FrontEnd/js1.3f1t9u88n880.png" alt="js1"></p> <h5 id="_3-2-注意"><a href="#_3-2-注意" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch03?id=_32-%E6%B3%A8%E6%84%8F" target="_blank" rel="noopener noreferrer">3.2 注意<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <ol><li>JS 代码中只能执行捕获或者冒泡其中的一个阶段。</li> <li><code>onclick</code> 和 <code>attachEvent</code> 只能得到冒泡阶段。</li> <li><code>addEventListener(type, listener[, useCapture])</code> 第三个参数如果是 <code>true</code>，表示在事件捕 获阶段调用事件处理程序；如果是 <code>false</code>（不写默认就是 <code>false</code>），表示在事件冒泡阶段调用事件处理 程序。</li> <li>实际开发中我们很少使用事件捕获，我们 <strong>更关注事件冒泡</strong>。</li> <li><strong>有些事件是没有冒泡的</strong>，比如 <code>onblur</code>、<code>onfocus</code>、<code>onmouseenter</code>、<code>onmouseleave</code></li> <li><strong>事件冒泡有时候会带来麻烦，有时候又会帮助很巧妙的做某些事件，我们后面讲解</strong>。</li></ol> <h4 id="_4-事件对象"><a href="#_4-事件对象" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch03?id=_4-%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1" target="_blank" rel="noopener noreferrer">4. 事件对象<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <h5 id="_4-1-什么是事件对象"><a href="#_4-1-什么是事件对象" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch03?id=_41-%E4%BB%80%E4%B9%88%E6%98%AF%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1" target="_blank" rel="noopener noreferrer">4.1 什么是事件对象<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <div class="language-js line-numbers-mode"><pre class="language-js"><code>eventTarget<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
eventTarget<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>）
<span class="token comment">// 这个event 就是事件对象，我们还喜欢的写成 e 或者evtCopy to clipboardErrorCopied</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>官方解释：<code>event</code> 对象代表事件的状态，比如键盘按键的状态、鼠标的位置、鼠标按钮的状态。</li> <li>简单理解：事件发生后，跟 <strong>事件相关的一系列信息数据的集合</strong> 都放到这个对象里面，这个对象就是事件对象 <code>event</code>，它有很多属性和方法。</li></ul> <p>比如：</p> <ol><li>谁绑定了这个事件。</li> <li>鼠标触发事件的话，会得到鼠标的相关信息，如鼠标位置。</li> <li>键盘触发事件的话，会得到键盘的相关信息，如按了哪个键。</li></ol> <h5 id="_4-2-事件对象的使用语法"><a href="#_4-2-事件对象的使用语法" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch03?id=_42-%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%BD%BF%E7%94%A8%E8%AF%AD%E6%B3%95" target="_blank" rel="noopener noreferrer">4.2 事件对象的使用语法<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <div class="language-js line-numbers-mode"><pre class="language-js"><code>eventTarget<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">// 这个event 就是事件对象，我们还喜欢的写成e 或者evt</span>
<span class="token punctuation">}</span>
eventTarget<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">// 这个event 就是事件对象，我们还喜欢的写成e 或者evt</span>
<span class="token punctuation">}</span>）Copy to clipboardErrorCopied

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>这个 <code>event</code> 是个形参，系统帮我们设定为事件对象，不需要传递实参过去。
当我们注册事件时，<code>event</code> 对象就会被系统自动创建，并依次传递给事件监听器（事件处理函数）。</p> <h5 id="_4-3-事件对象的兼容性方案"><a href="#_4-3-事件对象的兼容性方案" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch03?id=_43-%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%85%BC%E5%AE%B9%E6%80%A7%E6%96%B9%E6%A1%88" target="_blank" rel="noopener noreferrer">4.3 事件对象的兼容性方案<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p>事件对象本身的获取存在兼容问题：</p> <ol><li>标准浏览器中是浏览器给方法传递的参数，只需要定义形参 <code>e</code> 就可以获取到。</li> <li>在IE6~8 中，浏览器不会给方法传递参数，如果需要的话，需要到 <code>window.event</code> 中获取查找。</li></ol> <p>解决方法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>e <span class="token operator">=</span> e <span class="token operator">||</span> window<span class="token punctuation">.</span>event<span class="token punctuation">;</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h5 id="_4-4-事件对象的常见属性和方法"><a href="#_4-4-事件对象的常见属性和方法" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch03?id=_44-%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B8%B8%E8%A7%81%E5%B1%9E%E6%80%A7%E5%92%8C%E6%96%B9%E6%B3%95" target="_blank" rel="noopener noreferrer">4.4 事件对象的常见属性和方法<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <table><thead><tr><th>事件对象属性方法</th> <th>说明</th></tr></thead> <tbody><tr><td><code>e.target</code></td> <td>返回触发事件的对象（标准）</td></tr> <tr><td><code>e.srcElement</code></td> <td>返回触发事件的对象（非标准）</td></tr> <tr><td><code>e.type</code></td> <td>返回事件类型</td></tr> <tr><td><code>e.preventDefault()</code></td> <td>阻止默认事件（标准）</td></tr> <tr><td><code>e.returnValue = true</code></td> <td>阻止默认事件（非标准，IE678）</td></tr> <tr><td><code>e.stopPropagation()</code></td> <td>阻止冒泡（标准）</td></tr> <tr><td><code>e.cancelBubble</code></td> <td>阻止冒泡（非标准，IE678）</td></tr></tbody></table> <p>Warning</p> <p>非标准（IE678）方案只需要了解。</p> <h6 id="_4-4-1-事件对象属性-e-target-和-this-的比较"><a href="#_4-4-1-事件对象属性-e-target-和-this-的比较" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch03?id=_441-%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7-etarget-%E5%92%8C-this-%E7%9A%84%E6%AF%94%E8%BE%83" target="_blank" rel="noopener noreferrer">4.4.1 事件对象属性 <code>e.target</code> 和 <code>this</code> 的比较<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <ul><li><code>e.target</code>：<code>e.target</code> 返回的是触发事件的对象（元素），点击了哪个元素触发了事件，就返回那个元素。</li> <li><code>this</code>：事件绑定的元素，这个事件函数的调用者。</li></ul> <p>Tip</p> <p>点击了某一个元素节点，这个节点不一定绑定了事件。但是由于 DOM 事件流的冒泡现象，会触发其父节点所绑定的事件。</p> <p>一个简单的例子：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>123<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>456<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>789<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token keyword">let</span> ul <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;ul&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ul<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 点击 li 中的 123</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &lt;li&gt;...&lt;/li&gt;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &lt;ul&gt;...&lt;/ul&gt;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h6 id="_4-4-2-阻止事件默认行为"><a href="#_4-4-2-阻止事件默认行为" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch03?id=_442-%E9%98%BB%E6%AD%A2%E4%BA%8B%E4%BB%B6%E9%BB%98%E8%AE%A4%E8%A1%8C%E4%B8%BA" target="_blank" rel="noopener noreferrer">4.4.2 阻止事件默认行为<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <p>阻止 a 链接跳转:</p> <ul><li><p>标准</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>a<span class="token punctuation">.</span><span class="token function">addEventListener</span> <span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li> <li><p>兼容IE678</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>a<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    e<span class="token punctuation">.</span>returnValue<span class="token punctuation">;</span>
    <span class="token comment">// 或者</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li></ul> <h4 id="_5-阻止事件冒泡"><a href="#_5-阻止事件冒泡" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch03?id=_5-%E9%98%BB%E6%AD%A2%E4%BA%8B%E4%BB%B6%E5%86%92%E6%B3%A1" target="_blank" rel="noopener noreferrer">5. 阻止事件冒泡<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <h5 id="_5-1-阻止事件冒泡的两种方式"><a href="#_5-1-阻止事件冒泡的两种方式" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch03?id=_51-%E9%98%BB%E6%AD%A2%E4%BA%8B%E4%BB%B6%E5%86%92%E6%B3%A1%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F" target="_blank" rel="noopener noreferrer">5.1 阻止事件冒泡的两种方式<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p>事件冒泡：开始时由最具体的元素接收，然后逐级向上传播到到 DOM 最顶层节点。 事件冒泡本身的特性，会带来的坏处，也会带来的好处，需要我们灵活掌握。</p> <p>阻止事件冒泡：</p> <ul><li><p>标准写法：利用事件对象里面的</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>stopPropagation()


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>方法。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>非标准写法：IE 6-8 利用事件对象</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>cancelBubble


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>属性</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>e<span class="token punctuation">.</span>cancelBubble <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul> <p>Tip</p> <p>给相应的子元素节点设置事件的 <code>stopPropagation()</code> 方法，相当于在这个节点阻断了事件冒泡。事件无法继续传递至父节点。</p> <p>一个例子：点击 son 子盒子，在设置阻断事件冒泡前，点击子盒子也触发了父盒子 fahter 的事件。设置了之后，打印台不再输出 father。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>father<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>son<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">let</span> father <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.father&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> son <span class="token operator">=</span> father<span class="token punctuation">.</span>firstElementChild<span class="token punctuation">;</span>
    father<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;fahter&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    son<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h5 id="_5-2-阻止事件冒泡的兼容性解决方案"><a href="#_5-2-阻止事件冒泡的兼容性解决方案" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch03?id=_52-%E9%98%BB%E6%AD%A2%E4%BA%8B%E4%BB%B6%E5%86%92%E6%B3%A1%E7%9A%84%E5%85%BC%E5%AE%B9%E6%80%A7%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88" target="_blank" rel="noopener noreferrer">5.2 阻止事件冒泡的兼容性解决方案<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">if</span><span class="token punctuation">(</span>e <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>stopPropagation<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span>event<span class="token punctuation">.</span>cancelBubble <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="_6-事件委托-代理、委派"><a href="#_6-事件委托-代理、委派" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch03?id=_6-%E4%BA%8B%E4%BB%B6%E5%A7%94%E6%89%98%EF%BC%88%E4%BB%A3%E7%90%86%E3%80%81%E5%A7%94%E6%B4%BE%EF%BC%89" target="_blank" rel="noopener noreferrer">6. 事件委托（代理、委派）<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <h5 id="_6-1-前言"><a href="#_6-1-前言" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch03?id=_61-%E5%89%8D%E8%A8%80" target="_blank" rel="noopener noreferrer">6.1 前言<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p>事件冒泡本身的特性，会带来的坏处，也会带来的好处，需要我们灵活掌握。生活中有如下场景：</p> <ul><li>咱们班有100个学生，快递员有100个快递，如果一个个的送花费时间较长。同时每个学生领取的时候，也需 要排队领取，也花费时间较长，何如？</li> <li><strong>解决方案</strong>：快递员把100个快递，委托给班主任，班主任把这些快递放到办公室，同学们下课自行领取即可。</li> <li><strong>优势</strong>：快递员省事，委托给班主任就可以走了。同学们领取也方便，因为相信班主任。</li></ul> <p>事件冒泡本身的特性，<strong>会带来的坏处，也会带来的好处</strong>，需要我们灵活掌握。程序中也有如此场景：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>知否知否，应该有弹框在手<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>知否知否，应该有弹框在手<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>知否知否，应该有弹框在手<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>知否知否，应该有弹框在手<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>知否知否，应该有弹框在手<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>点击每个 <code>li</code> 都会弹出对话框，以前需要给每个 <code>li</code> 注册事件，是非常辛苦的，而且访问 DOM 的次数越多，这就会延长整个页面的交互就绪时间。</p> <h5 id="_6-2-事件委托的原理"><a href="#_6-2-事件委托的原理" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch03?id=_62-%E4%BA%8B%E4%BB%B6%E5%A7%94%E6%89%98%E7%9A%84%E5%8E%9F%E7%90%86" target="_blank" rel="noopener noreferrer">6.2 事件委托的原理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <ul><li>事件委托：也称为事件代理，在jQuery 里面称为事件委派。</li> <li>原理：<strong>不是每个子节点单独设置事件监听器，而是事件监听器设置在其父节点上，然后利用冒泡原理影响设置每个子节点</strong>。
以上案例：给 <code>ul</code> 注册点击事件，然后利用事件对象的 <code>target</code> 来找到当前点击的 <code>li</code>，因为点击 <code>li</code>，事件会冒泡到ul 上，<code>ul</code> 有注册事件，就会触发事件监听器。</li> <li>作用：我们 <strong>只操作了一次 DOM ，提高了程序的性能。</strong></li></ul> <h4 id="_7-常用的鼠标事件"><a href="#_7-常用的鼠标事件" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch03?id=_7-%E5%B8%B8%E7%94%A8%E7%9A%84%E9%BC%A0%E6%A0%87%E4%BA%8B%E4%BB%B6" target="_blank" rel="noopener noreferrer">7. 常用的鼠标事件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <h5 id="_7-1-常用的鼠标事件"><a href="#_7-1-常用的鼠标事件" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch03?id=_71-%E5%B8%B8%E7%94%A8%E7%9A%84%E9%BC%A0%E6%A0%87%E4%BA%8B%E4%BB%B6" target="_blank" rel="noopener noreferrer">7.1 常用的鼠标事件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <ol><li><p>禁止鼠标右键菜单
<code>contextmenu</code> 主要控制应该何时显示上下文菜单，主要用于程序员取消默认的上下文菜单。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'contextmenu'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li> <li><p>禁止鼠标选中（<code>selectstart</code> 开始选中）</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'selectstart'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ol> <h5 id="_7-2-鼠标事件对象"><a href="#_7-2-鼠标事件对象" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch03?id=_72-%E9%BC%A0%E6%A0%87%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1" target="_blank" rel="noopener noreferrer">7.2 鼠标事件对象<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p><code>event</code> 对象代表事件的状态，跟事件相关的一系列信息的集合。现阶段我们主要是用鼠标事件对象 <code>MouseEvent</code> 和键盘事件对象 <code>KeyboardEvent</code>。</p> <table><thead><tr><th>鼠标事件对象</th> <th>说明</th></tr></thead> <tbody><tr><td><code>e.clientX</code></td> <td>返回鼠标相对于浏览器窗口可视区的 <code>X</code> 坐标</td></tr> <tr><td><code>e.clientY</code></td> <td>返回鼠标相对于浏览器窗口可视区的 <code>Y</code> 坐标</td></tr> <tr><td><code>e.pageX</code></td> <td>返回鼠标相对于文档页面的 <code>X</code> 坐标IE9+支持</td></tr> <tr><td><code>e.pageY</code></td> <td>返回鼠标相对于文档页面的 <code>Y</code> 坐标IE9+支持</td></tr> <tr><td><code>e.screenX</code></td> <td>返回鼠标相对于电脑屏幕的 <code>X</code> 坐标</td></tr> <tr><td><code>e.screenY</code></td> <td>返回鼠标相对于电脑屏幕的 <code>Y</code> 坐标</td></tr></tbody></table> <h4 id="_8-常用的键盘事件"><a href="#_8-常用的键盘事件" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch03?id=_8-%E5%B8%B8%E7%94%A8%E7%9A%84%E9%94%AE%E7%9B%98%E4%BA%8B%E4%BB%B6" target="_blank" rel="noopener noreferrer">8. 常用的键盘事件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <h5 id="_8-1-常用的键盘事件"><a href="#_8-1-常用的键盘事件" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch03?id=_81-%E5%B8%B8%E7%94%A8%E7%9A%84%E9%94%AE%E7%9B%98%E4%BA%8B%E4%BB%B6" target="_blank" rel="noopener noreferrer">8.1 常用的键盘事件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p>事件除了使用鼠标触发，还可以使用键盘触发。</p> <table><thead><tr><th>键盘事件</th> <th>触发事件</th></tr></thead> <tbody><tr><td><code>onkeyup</code></td> <td>某个键盘按键被松开时触发</td></tr> <tr><td><code>onkeydown</code></td> <td>某个键盘按键被按下时触发</td></tr> <tr><td><code>onkeypress</code></td> <td>某个键盘按键被按下时触发，但是不识别功能键（ctrl、shif、箭头等）</td></tr></tbody></table> <p>Warning</p> <p><code>onkeypress</code> 已废弃。虽然还是有浏览器支持，但是未来可能会停止支持。请使用 <code>keydown</code> 代替。</p> <h5 id="_8-2-键盘事件对象"><a href="#_8-2-键盘事件对象" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch03?id=_82-%E9%94%AE%E7%9B%98%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1" target="_blank" rel="noopener noreferrer">8.2 键盘事件对象<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <table><thead><tr><th>键盘事件对象属性</th> <th>说明</th></tr></thead> <tbody><tr><td><code>key</code></td> <td>返回物理按键的名称值（推荐使用）</td></tr> <tr><td><code>keyCode</code></td> <td>返回该键的ASCII值</td></tr></tbody></table> <p>Warning</p> <p><code>keyCode</code> 已废弃: 该特性已经从 Web 标准中删除，虽然一些浏览器目前仍然支持它，但也许会在未来的某个时间停止支持，请尽量不要使用该特性。一定要用，请使用 <code>key</code> 代替。——MDN</p> <h3 id="四-bom-基础"><a href="#四-bom-基础" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch04?id=%EF%BC%88%E5%9B%9B%EF%BC%89bom-%E5%9F%BA%E7%A1%80" target="_blank" rel="noopener noreferrer">（四）BOM 基础<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <h4 id="_1-bom-概述"><a href="#_1-bom-概述" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch04?id=_1-bom-%E6%A6%82%E8%BF%B0" target="_blank" rel="noopener noreferrer">1. BOM 概述<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <h5 id="_1-1-bom-概述"><a href="#_1-1-bom-概述" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch04?id=_11-bom-%E6%A6%82%E8%BF%B0" target="_blank" rel="noopener noreferrer">1.1 BOM 概述<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p>BOM（Browser Object Model）即浏览器对象模型，它提供了独立于内容而与浏览器窗口进行交互的对象，其核心对象是 <code>window</code>。</p> <p>BOM 由一系列相关的对象构成，并且每个对象都提供了很多方法与属性。</p> <p>BOM 缺乏标准，JavaScript 语法的标准化组织是ECMA，DOM 的标准化组织是 W3C，BOM 最初是Netscape 浏览器标准的一部分</p> <h5 id="_1-2-dom-vs-bom"><a href="#_1-2-dom-vs-bom" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch04?id=_12-dom-vs-bom" target="_blank" rel="noopener noreferrer">1.2 DOM vs BOM<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <table><thead><tr><th>DOM</th> <th>BOM</th></tr></thead> <tbody><tr><td>文档对象模型</td> <td>浏览器对象模型</td></tr> <tr><td>DOM 就是把「文档」当做一个「对象」来看待</td> <td>把「浏览器」当做一个「对象」来看待</td></tr> <tr><td>DOM 的顶级对象是 <code>document</code></td> <td>BOM 的顶级对象是 <code>window</code></td></tr> <tr><td>DOM 主要学习的是操作页面元素</td> <td>BOM 学习的是浏览器窗口交互的一些对象</td></tr> <tr><td>DOM 是W3C 标准规范</td> <td>BOM 是浏览器厂商在各自浏览器上定义的，兼容性较差</td></tr></tbody></table> <h5 id="_1-3-bom-的构成"><a href="#_1-3-bom-的构成" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch04?id=_13-bom-%E7%9A%84%E6%9E%84%E6%88%90" target="_blank" rel="noopener noreferrer">1.3 BOM 的构成<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p>BOM 比 DOM 更加强大，包含了 DOM。</p> <p><img src="https://cdn.jsdelivr.net/gh/Hacker-C/Picture-Bed@main/JavaScript/bom1.3ss67gfjn6c.png" alt="bom1"></p> <p><strong><code>window</code> 对象是浏览器的顶级对象</strong>，它具有双重角色。</p> <ol><li>它是JS 访问浏览器窗口的一个接口。</li> <li>它是一个全局对象。定义在全局作用域中的变量、函数都会变成 <code>window</code> 对象的属性和方法。 在调用的时候可以省略 <code>window</code>，前面学习的对话框都属于 <code>window</code> 对象方法，如 <code>alert()</code>、<code>prompt()</code> 等。</li></ol> <p>Tip</p> <p><code>window</code> 下的一个特殊属性 <code>window.name</code>。</p> <h4 id="_2-window-对象的常见事件"><a href="#_2-window-对象的常见事件" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch04?id=_2-window-%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B8%B8%E8%A7%81%E4%BA%8B%E4%BB%B6" target="_blank" rel="noopener noreferrer">2. window 对象的常见事件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <h5 id="_2-1-窗口加载事件"><a href="#_2-1-窗口加载事件" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch04?id=_21-%E7%AA%97%E5%8F%A3%E5%8A%A0%E8%BD%BD%E4%BA%8B%E4%BB%B6" target="_blank" rel="noopener noreferrer">2.1 窗口加载事件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <h6 id="_2-1-1-onload"><a href="#_2-1-1-onload" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch04?id=_211-onload" target="_blank" rel="noopener noreferrer">2.1.1 onload<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <div class="language-js line-numbers-mode"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>Copy to clipboardErrorCopied

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>或者</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;load&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Copy to clipboardErrorCopied

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>window.onload</code> 是窗口（页面）加载事件,当文档内容完全加载完成会触发该事件（<strong>包括图像、脚本文件、CSS文件等</strong>）, 就调用的处理函数。</p> <p>注意：</p> <ol><li>有了 <code>window.onload</code> 就可以把 JS 代码写到页面元素的上方，因为onload 是等页面内容全部加载完毕， 再去执行处理函数。</li> <li><code>window.onload</code> 传统注册事件方式只能写一次，如果有多个，会以最后一个 <code>window.onload</code> 为准。</li> <li>如果使用 <code>addEventListener</code> 则没有限制。</li></ol> <h6 id="_2-1-2-domcontentloaded"><a href="#_2-1-2-domcontentloaded" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch04?id=_212-domcontentloaded" target="_blank" rel="noopener noreferrer">2.1.2 DOMContentLoaded<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <div class="language-js line-numbers-mode"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'DOMContentLoaded'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Copy to clipboardErrorCopied

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>DOMContentLoaded</code> 事件触发时，仅当DOM加载完成，<strong>不包括样式表，图片，flash等等</strong>。（Ie9以上才支持。）</p> <p>Tip</p> <p>如果页面的图片很多的话, 从用户访问到 <code>onload</code> 触发可能需要较长的时间, 交互效果就不能实现，必然影响用户的体验，此时用 <code>DOMContentLoaded</code> 事件比较合适。</p> <h4 id="_2-2-调整窗口大小事件"><a href="#_2-2-调整窗口大小事件" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch04?id=_22-%E8%B0%83%E6%95%B4%E7%AA%97%E5%8F%A3%E5%A4%A7%E5%B0%8F%E4%BA%8B%E4%BB%B6" target="_blank" rel="noopener noreferrer">2.2 调整窗口大小事件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function-variable function">onresize</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;resize&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Copy to clipboardErrorCopied

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>window.onresize</code> 是调整窗口大小加载事件, 当触发时就调用的处理函数。 注意：</p> <ol><li>只要窗口大小发生像素变化，就会触发这个事件。</li> <li>我们经常 <strong>利用这个事件完成响应式布局</strong>。</li> <li><code>window.innerWidth</code> 是当前屏幕的宽度</li></ol> <h4 id="_3-定时器"><a href="#_3-定时器" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch04?id=_3-%E5%AE%9A%E6%97%B6%E5%99%A8" target="_blank" rel="noopener noreferrer">3. 定时器<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <h5 id="_3-1-两种定时器"><a href="#_3-1-两种定时器" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch04?id=_31-%E4%B8%A4%E7%A7%8D%E5%AE%9A%E6%97%B6%E5%99%A8" target="_blank" rel="noopener noreferrer">3.1 两种定时器<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p><code>window</code> 对象给我们提供了2 个非常好用的方法——定时器。</p> <ul><li><code>setTimeout()</code></li> <li><code>setInterval()</code></li></ul> <h5 id="_3-2-settimeout-定时器"><a href="#_3-2-settimeout-定时器" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch04?id=_32-settimeout-%E5%AE%9A%E6%97%B6%E5%99%A8" target="_blank" rel="noopener noreferrer">3.2 setTimeout() 定时器<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <div class="language-js line-numbers-mode"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function">setTimeout</span><span class="token punctuation">(</span>调用函数 <span class="token punctuation">[</span><span class="token punctuation">,</span> 延迟的毫秒数<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>setTimeout()</code> 方法用于设置一个定时器，该定时器在定时器到期后执行调用函数。</p> <p>注意：</p> <ol><li><code>window</code> 可以省略。</li> <li>这个调用函数可以 <strong>直接写函数，或者写函数名或者采取字符串'函数名()'</strong> 三种形式。第三种不推荐。</li> <li>延迟的毫秒数省略默认是 <code>0</code>，如果写，<strong>必须是毫秒</strong>。</li> <li>因为定时器可能有很多，所以我们 <strong>经常给定时器赋值一个标识符</strong>。</li></ol> <p><code>setTimeout()</code> 这个调用函数我们也称为 <strong>回调函数callback</strong>。 普通函数是按照代码顺序直接调用。而这个函数，需要等待时间，时间到了才去调用这个函数，因此称为回调函数。</p> <p>简单理解：回调，就是回头调用的意思。上一件事干完，再回头再调用这个函数。</p> <p>以前我们讲的 <code>element.onclick = function(){}</code> 或者 <code>element.addEventListener(“click”, fn);</code> 里面的函数也是回调函数。</p> <h5 id="_3-3-停止-settimeout-定时器"><a href="#_3-3-停止-settimeout-定时器" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch04?id=_33-%E5%81%9C%E6%AD%A2-settimeout-%E5%AE%9A%E6%97%B6%E5%99%A8" target="_blank" rel="noopener noreferrer">3.3 停止 setTimeout() 定时器<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <div class="language-js line-numbers-mode"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function">clearTimeout</span><span class="token punctuation">(</span>timeoutID<span class="token punctuation">)</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>clearTimeout()</code> 方法用于取消先前通过调用 <code>setTimeout()</code> 建立的定时器。</p> <p>Tip</p> <ol><li><code>window</code> 可以省略。</li> <li>里面的 <strong>参数就是定时器的标识符</strong>。</li></ol> <h5 id="_3-4-setinterval-定时器"><a href="#_3-4-setinterval-定时器" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch04?id=_34-setinterval-%E5%AE%9A%E6%97%B6%E5%99%A8" target="_blank" rel="noopener noreferrer">3.4 setInterval() 定时器<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <div class="language-js line-numbers-mode"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function">setInterval</span><span class="token punctuation">(</span>回调函数 <span class="token punctuation">[</span><span class="token punctuation">,</span> 间隔的毫秒数<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>setInterval()</code> 方法重复调用一个函数，每隔这个时间，就去调用一次回调函数。</p> <p>注意：</p> <ol><li><code>window</code> 可以省略。</li> <li>这个调用函数可以 <strong>直接写函数，或者写函数名或者采取字符串'函数名()'</strong> 三种形式。</li> <li>间隔的毫秒数省略默认是 <code>0</code>，如果写，必须是毫秒，表示每隔多少毫秒就自动调用这个函数。</li> <li>因为定时器可能有很多，所以我们经常给定时器赋值一个标识符。</li> <li><strong>第一次执行也是间隔毫秒数之后执行，之后每隔毫秒数就执行一次</strong>。</li></ol> <h5 id="_3-4-倒计时案例分析"><a href="#_3-4-倒计时案例分析" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch04?id=_34-%E5%80%92%E8%AE%A1%E6%97%B6%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90" target="_blank" rel="noopener noreferrer">3.4 倒计时案例分析<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p>Tip</p> <p>定时器案例分析：三个盒子分别放时、分、秒。</p> <ol><li>这个倒计时是不断变化的，因此需要定时器来自动变化（setInterval）</li> <li>三个黑色盒子里面分别存放时分秒</li> <li>三个黑色盒子利用innerHTML 放入计算的小时分钟秒数</li> <li>第一次执行也是间隔毫秒数，因此刚刷新页面会有空白</li> <li>最好采取封装函数的方式，这样可以先调用一次这个函数，防止刚开始刷新页面有空白问题</li></ol> <h5 id="_3-5-停止-setinterval-定时器"><a href="#_3-5-停止-setinterval-定时器" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch04?id=_35-%E5%81%9C%E6%AD%A2-setinterval-%E5%AE%9A%E6%97%B6%E5%99%A8" target="_blank" rel="noopener noreferrer">3.5 停止 setInterval() 定时器<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <div class="language-js line-numbers-mode"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function">clearInterval</span><span class="token punctuation">(</span>intervalID<span class="token punctuation">)</span><span class="token punctuation">;</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>clearInterval()</code> 方法取消了先前通过调用 <code>setInterval()</code> 建立的定时器。</p> <p>注意：</p> <ol><li><code>window</code> 可以省略。</li> <li>里面的参数就是定时器的标识符。</li></ol> <h5 id="_3-6-this-指向问题"><a href="#_3-6-this-指向问题" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch04?id=_36-this-%E6%8C%87%E5%90%91%E9%97%AE%E9%A2%98" target="_blank" rel="noopener noreferrer">3.6 this 指向问题<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p><code>this</code> 的指向在函数定义的时候是确定不了的，只有函数执行的时候才能确定 <code>this</code> 到底指向谁，一般情况下的最终指向的是那个调用它的对象 现阶段，我们先了解一下几个 <code>this</code> 指向：</p> <ol><li>全局作用域或者普通函数中 <code>this</code> 指向全局对象 <code>window</code>（注意定时器里面的 <code>this</code> 指向 <code>window</code>）</li> <li>方法调用中谁调用 <code>this</code> 指向谁</li> <li>构造函数中 <code>this</code> 指向构造函数的实例</li></ol> <h4 id="_4-js-执行机制"><a href="#_4-js-执行机制" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch04?id=_4-js-%E6%89%A7%E8%A1%8C%E6%9C%BA%E5%88%B6" target="_blank" rel="noopener noreferrer">4. JS 执行机制<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <h5 id="_4-1-js-是单线程"><a href="#_4-1-js-是单线程" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch04?id=_41-js-%E6%98%AF%E5%8D%95%E7%BA%BF%E7%A8%8B" target="_blank" rel="noopener noreferrer">4.1 JS 是单线程<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p>JavaScript 语言的一大特点就是 <strong>单线程</strong>，也就是说，<strong>同一个时间只能做一件事</strong>。这是因为 Javascript 这门脚 本语言诞生的使命所致——JavaScript 是为处理页面中用户的交互，以及操作DOM 而诞生的。比如我们对 某个DOM 元素进行添加和删除操作，不能同时进行。应该先进行添加，之后再删除。</p> <p>单线程就意味着，所有任务需要排队，前一个任务结束，才会执行后一个任务。这样所导致的问题是：如果 JS 执行的时间过长，这样就会造成页面的渲染不连贯，导致页面渲染加载阻塞的感觉。</p> <h5 id="_4-2-同步和异步概述"><a href="#_4-2-同步和异步概述" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch04?id=_42-%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5%E6%A6%82%E8%BF%B0" target="_blank" rel="noopener noreferrer">4.2 同步和异步概述<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p>先来看一个问题：以下代码执行的结果是什么？</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>那么以下代码执行的结果又是什么？</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>为了解决这个问题，利用多核 CPU 的计算能力，HTML5 提出 Web Worker 标准，允许 JavaScript 脚本创 建多个线程。于是，JS 中出现了 <strong>同步和异步</strong>。</p> <h6 id="_4-2-1-同步"><a href="#_4-2-1-同步" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch04?id=_421-%E5%90%8C%E6%AD%A5" target="_blank" rel="noopener noreferrer">4.2.1 同步<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <p>前一个任务结束后再执行后一个任务，程序的执行顺序与任务的排列顺序是一致的、同步的。比如做饭的同步做 法：我们要烧水煮饭，等水开了（10分钟之后），再去切菜，炒菜。</p> <h6 id="_4-2-2-异步"><a href="#_4-2-2-异步" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch04?id=_422-%E5%BC%82%E6%AD%A5" target="_blank" rel="noopener noreferrer">4.2.2 异步<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <p>你在做一件事情时，因为这件事情会花费很长时间，在做这件事的同时，你还可以去处理其他事情。比如做 饭的异步做法，我们在烧水的同时，利用这10分钟，去切菜，炒菜。</p> <p><strong>他们的本质区别：这条流水线上各个流程的执行顺序不同</strong>。</p> <h5 id="_4-3-同步和异步任务"><a href="#_4-3-同步和异步任务" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch04?id=_43-%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5%E4%BB%BB%E5%8A%A1" target="_blank" rel="noopener noreferrer">4.3 同步和异步任务<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <h6 id="_4-3-1-同步任务"><a href="#_4-3-1-同步任务" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch04?id=_431-%E5%90%8C%E6%AD%A5%E4%BB%BB%E5%8A%A1" target="_blank" rel="noopener noreferrer">4.3.1 同步任务<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <p>同步任务都在主线程上执行，形成一个 <strong>执行栈</strong>。</p> <h6 id="_4-3-2-异步任务"><a href="#_4-3-2-异步任务" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch04?id=_432-%E5%BC%82%E6%AD%A5%E4%BB%BB%E5%8A%A1" target="_blank" rel="noopener noreferrer">4.3.2 异步任务<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <p>JS 的异步是通过回调函数实现的。 一般而言，异步任务有以下三种类型：</p> <ol><li>普通事件，如 <code>click</code>、<code>resize</code> 等</li> <li>资源加载，如 <code>load</code>、<code>error</code> 等</li> <li>定时器，包括 <code>setInterval</code>、<code>setTimeout</code> 等异步任务相关回调函数添加到任务队列中（任务队列也称为消息队列）。</li></ol> <h5 id="_4-4-js-执行机制"><a href="#_4-4-js-执行机制" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch04?id=_44-js-%E6%89%A7%E8%A1%8C%E6%9C%BA%E5%88%B6" target="_blank" rel="noopener noreferrer">4.4 JS 执行机制<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <ol><li>先执行 <strong>执行栈中的同步任务</strong>。</li> <li>异步任务（回调函数）放入任务队列中。</li> <li>一旦执行栈中的所有同步任务执行完毕，系统就会按次序读取 <strong>任务队列</strong> 中的异步任务，于是被读取的异步务结束等待状态，进入执行栈，开始执行。</li></ol> <p><img src="https://cdn.jsdelivr.net/gh/Hacker-C/Picture-Bed@main/JavaScript/bom2.40uo3yu1dv20.png" alt="bom2"></p> <p>举例分析：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span>  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Copy to clipboardErrorCopied

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li>若不触发点击事件，结果将依次输出 <code>1</code>、<code>2</code>、<code>3</code>；</li> <li>若点击事件在 3 秒前触发，则依次输出 <code>1</code>、<code>2</code>、<code>click</code>、<code>3</code></li> <li>若点击事件在 3 秒后触发，则依次输出 <code>1</code>、<code>2</code>、<code>3</code>、<code>click</code></li></ul> <h5 id="_4-5-事件循环"><a href="#_4-5-事件循环" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch04?id=_45-%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF" target="_blank" rel="noopener noreferrer">4.5 事件循环<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p>由于主线程不断的重复获得任务、执行任务、再获取任务、再执行，所以这种机制被称为 <strong>事件循环（event loop）</strong>。</p> <p><img src="https://cdn.jsdelivr.net/gh/Hacker-C/Picture-Bed@main/JavaScript/bom3.720uz5f9vh00.png" alt="bom3"></p> <h4 id="_5-location-对象"><a href="#_5-location-对象" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch04?id=_5-location-%E5%AF%B9%E8%B1%A1" target="_blank" rel="noopener noreferrer">5. location 对象<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <h5 id="_5-1-什么是-location-对象"><a href="#_5-1-什么是-location-对象" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch04?id=_51-%E4%BB%80%E4%B9%88%E6%98%AF-location-%E5%AF%B9%E8%B1%A1" target="_blank" rel="noopener noreferrer">5.1 什么是 location 对象<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p><code>window</code> 对象给我们提供了一个 <code>location</code> 属性用于 <strong>获取或设置窗体的URL</strong>，并且可以用于 <strong>解析 URL</strong>。因为这个属性返回的是一个对象，所以我们将这个属性也称为 <code>location</code> 对象。</p> <h5 id="_5-2-url"><a href="#_5-2-url" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch04?id=_52-url" target="_blank" rel="noopener noreferrer">5.2 URL<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p>统一资源定位符（Uniform Resource Locator, URL）是互联网上标准资源的地址。互联网上的每个文件都有 一个唯一的 URL，它包含的信息指出文件的位置以及浏览器应该怎么处理它。 URL 的一般语法格式为：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>格式
protocol://host[:port]/path/[?query]#fragment
举例
http://www.itcast.cn/index.html?name=andy&amp;age=18#linkCopy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><table><thead><tr><th>组成</th> <th>说明</th></tr></thead> <tbody><tr><td><code>protocol</code></td> <td>通信协议（http、ftp）</td></tr> <tr><td><code>host</code></td> <td>主机（域名）</td></tr> <tr><td><code>port</code></td> <td>端口号（可选），省略时使用方案的默认端口，如http默认端口80</td></tr> <tr><td><code>path</code></td> <td>路径，由零或多个 <code>/</code> 隔开的字符串，一般表示主机上的一个目录或文件地址</td></tr> <tr><td><code>query</code></td> <td>参数，以键值对的形式，通过 <code>&amp;</code> 符号分隔开</td></tr> <tr><td><code>fragment</code></td> <td>片段，<code>#</code> 后面内容，常见于链接、锚点</td></tr></tbody></table> <h5 id="_5-3-location-对象的属性"><a href="#_5-3-location-对象的属性" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch04?id=_53-location-%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%9E%E6%80%A7" target="_blank" rel="noopener noreferrer">5.3 location 对象的属性<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <table><thead><tr><th>location对象属性</th> <th>返回值</th></tr></thead> <tbody><tr><td><code>location.href</code></td> <td>获取或者设置 整个URL</td></tr> <tr><td><code>location.host</code></td> <td>返回主机（域名）</td></tr> <tr><td><code>location.port</code></td> <td>返回端口号，未写则返回空字符串</td></tr> <tr><td><code>location.pathname</code></td> <td>返回路径</td></tr> <tr><td><code>location.search</code></td> <td>返回参数</td></tr> <tr><td><code>location.hash</code></td> <td>返回片段，<code>#</code> 后面内容，常见于链接、锚点</td></tr></tbody></table> <p>Tip</p> <p>重点记住：<code>href</code> 和 <code>search</code></p> <h5 id="_5-4-location-对象的方法"><a href="#_5-4-location-对象的方法" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch04?id=_54-location-%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%96%B9%E6%B3%95" target="_blank" rel="noopener noreferrer">5.4 location 对象的方法<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <table><thead><tr><th>location对象方法</th> <th>返回值</th></tr></thead> <tbody><tr><td><code>location.assign()</code></td> <td>跟 <code>href</code> 一样，可以跳转页面（也称为重定向页面）</td></tr> <tr><td><code>location.replace()</code></td> <td>替换当前页面，因为不记录历史，所以不能后退页面</td></tr> <tr><td><code>location.reload()</code></td> <td>重新加载页面，相当于刷新按钿或者 f5 如果参数为 <code>true</code> 强制刷新 ctrl+f5</td></tr></tbody></table> <h4 id="_6-navigator-对象"><a href="#_6-navigator-对象" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch04?id=_6-navigator-%E5%AF%B9%E8%B1%A1" target="_blank" rel="noopener noreferrer">6. navigator 对象<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <p><code>navigator</code> 对象包含有关浏览器的信息，它有很多属性，我们最常用的是 <code>userAgent</code>，该属性可以返回由客 户机发送服务器的 <code>user-agent</code> 头部的值。 下面前端代码可以判断用户那个终端打开页面，实现跳转：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>userAgent<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span> <span class="token comment">//手机</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span> <span class="token comment">//电脑</span>
<span class="token punctuation">}</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="_7-history-对象"><a href="#_7-history-对象" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch04?id=_7-history-%E5%AF%B9%E8%B1%A1" target="_blank" rel="noopener noreferrer">7. history 对象<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <p><code>window</code> 对象给我们提供了一个 <code>history</code> 对象，与浏览器历史记录进行交互。该对象包含用户（在浏览器窗口中）访问过的URL。</p> <table><thead><tr><th><code>history</code>对象方法</th> <th>作用</th></tr></thead> <tbody><tr><td><code>back()</code></td> <td>网页地址后退功能</td></tr> <tr><td><code>forward()</code></td> <td>前进功能</td></tr> <tr><td><code>go(参数)</code></td> <td>前进后退功能，参数为 <code>1</code>，前进一个页面，<code>-1</code> 后退一个页面</td></tr></tbody></table> <p><code>history</code> 对象一般在实际开发中比较少用，但是会在一些OA 办公系统中见到。</p> <h3 id="五-pc端网页特效"><a href="#五-pc端网页特效" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=%EF%BC%88%E4%BA%94%EF%BC%89pc%E7%AB%AF%E7%BD%91%E9%A1%B5%E7%89%B9%E6%95%88" target="_blank" rel="noopener noreferrer">（五）PC端网页特效<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p>Tip</p> <p>在前面学习了JS基础、DOM 和 BOM 的基本操作后，这部分主要学习这些知识的拓展应用。</p> <h4 id="_1-元素偏移量-offset-系列"><a href="#_1-元素偏移量-offset-系列" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_1-%E5%85%83%E7%B4%A0%E5%81%8F%E7%A7%BB%E9%87%8F-offset-%E7%B3%BB%E5%88%97" target="_blank" rel="noopener noreferrer">1. 元素偏移量 offset 系列<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <h5 id="_1-1-offset-概述"><a href="#_1-1-offset-概述" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_11-offset-%E6%A6%82%E8%BF%B0" target="_blank" rel="noopener noreferrer">1.1 offset 概述<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p><code>offset</code> 翻译过来就是偏移量，我们使用 <code>offset</code> 系列相关属性可以动态的得到该元素的位置（偏移）、大小等。</p> <ul><li>获得元素距离带有定位父元素的位置</li> <li>获得元素自身的大小（宽度高度）</li> <li>注意：返回的数值都不带单位</li></ul> <p><code>offset</code> 系列常用属性： <img src="https://cdn.jsdelivr.net/gh/Hacker-C/Picture-Bed@main/JavaScript/offset1.33r96uboi540.jpg" alt="offset1"></p> <h5 id="_1-2-offset-与-style-区别"><a href="#_1-2-offset-与-style-区别" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_12-offset-%E4%B8%8E-style-%E5%8C%BA%E5%88%AB" target="_blank" rel="noopener noreferrer">1.2 offset 与 style 区别<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <h6 id="_1-2-1-offset"><a href="#_1-2-1-offset" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_121-offset" target="_blank" rel="noopener noreferrer">1.2.1 offset<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <ul><li><code>offset</code> 可以得到任意样式表中的样式值</li> <li><code>offset</code> 系列获得的数值是没有单位的</li> <li><code>offsetWidt</code>h 包含 <code>padding+border+width</code></li> <li><code>offsetWidth</code> 等属性是只读属性，只能获取不能赋值</li> <li><strong>所以，我们想要获取元素大小位置，用 <code>offset</code>更合适</strong></li></ul> <h6 id="_1-2-2-style"><a href="#_1-2-2-style" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_122-style" target="_blank" rel="noopener noreferrer">1.2.2 style<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <ul><li><code>style</code> 只能得到行内样式表中的样式值</li> <li><code>style.width</code> 获得的是带有单位的字符串</li> <li><code>style.width</code> 获得不包含 <code>padding</code> 和 <code>border</code> 的值</li> <li><code>style.width</code> 是可读写属性，可以获取也可以赋值</li> <li><strong>所以，我们想要给元素更改值，则需要用 <code>style</code> 改变</strong></li></ul> <h5 id="_1-3-案例1-获取鼠标在盒子内部的坐标"><a href="#_1-3-案例1-获取鼠标在盒子内部的坐标" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_13-%E6%A1%88%E4%BE%8B1%EF%BC%9A%E8%8E%B7%E5%8F%96%E9%BC%A0%E6%A0%87%E5%9C%A8%E7%9B%92%E5%AD%90%E5%86%85%E9%83%A8%E7%9A%84%E5%9D%90%E6%A0%87" target="_blank" rel="noopener noreferrer">1.3 案例1：获取鼠标在盒子内部的坐标<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <h6 id="_1-3-1-分析"><a href="#_1-3-1-分析" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_131-%E5%88%86%E6%9E%90" target="_blank" rel="noopener noreferrer">1.3.1 分析<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <ol><li>我们在盒子内点击，想要得到鼠标距离盒子左右的距离。</li> <li>首先得到鼠标在页面中的坐标（e.pageX, e.pageY）</li> <li>其次得到盒子在页面中的距离( box.offsetLeft, box.offsetTop)</li> <li>用鼠标距离页面的坐标减去盒子在页面中的距离，得到鼠标在盒子内的坐标</li> <li>如果想要移动一下鼠标，就要获取最新的坐标，使用鼠标移动事件mousemove</li></ol> <h6 id="_1-3-2-代码"><a href="#_1-3-2-代码" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_132-%E4%BB%A3%E7%A0%81" target="_blank" rel="noopener noreferrer">1.3.2 代码<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
box<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;mousemove&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> x <span class="token operator">=</span> e<span class="token punctuation">.</span>pageX <span class="token operator">-</span> box<span class="token punctuation">.</span>offsetLeft<span class="token punctuation">;</span>
    <span class="token keyword">let</span> y <span class="token operator">=</span> e<span class="token punctuation">.</span>pageY <span class="token operator">-</span> box<span class="token punctuation">.</span>offsetTop<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span>  <span class="token string">&quot;鼠标距离盒子坐标是：(&quot;</span> <span class="token operator">+</span>x <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> y <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h5 id="_1-4-案例2-模态框拖拽"><a href="#_1-4-案例2-模态框拖拽" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_14-%E6%A1%88%E4%BE%8B2%EF%BC%9A%E6%A8%A1%E6%80%81%E6%A1%86%E6%8B%96%E6%8B%BD" target="_blank" rel="noopener noreferrer">1.4 案例2：模态框拖拽<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p>弹出框，我们也称为模态框。</p> <ol><li>点击弹出层，会弹出模态框，并且显示灰色半透明的遮挡层。</li> <li>点击关闭按钮，可以关闭模态框，并且同时关闭灰色半透明遮挡层。</li> <li>鼠标放到模态框最上面一行，可以按住鼠标拖拽模态框在页面中移动。</li> <li>鼠标松开，可以停止拖动模态框移动。</li></ol> <h6 id="_1-4-1-分析"><a href="#_1-4-1-分析" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_141-%E5%88%86%E6%9E%90" target="_blank" rel="noopener noreferrer">1.4.1 分析<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <ol><li>点击弹出层，模态框和遮挡层就会显示出来 display:block;</li> <li>点击关闭按钮，模态框和遮挡层就会隐藏起来 display:none;</li> <li>在页面中拖拽的原理：鼠标按下并且移动，之后松开鼠标</li> <li>触发事件是鼠标按下 mousedown，鼠标移动 mousemove 鼠标松开 mouseup</li> <li>拖拽过程: 鼠标移动过程中，获得最新的值赋值给模态框的left和top值，这样模态框可以跟着鼠标走了</li> <li>鼠标按下触发的事件源是最上面一行，就是id 为 title</li> <li>鼠标的坐标减去鼠标在盒子内的坐标，才是模态框真正的位置。</li> <li>鼠标按下，我们要得到鼠标在盒子的坐标。</li> <li>鼠标移动，就让模态框的坐标设置为：鼠标坐标减去盒子坐标即可，注意移动事件写到按下事件里面。</li> <li>鼠标松开，就停止拖拽，就是可以让鼠标移动事件解除</li></ol> <h6 id="_1-4-2-代码"><a href="#_1-4-2-代码" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_142-%E4%BB%A3%E7%A0%81" target="_blank" rel="noopener noreferrer">1.4.2 代码<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <p>Tip</p> <p>我用阿里云盘分享了「模态框拖拽案例」，你可以不限速下载，链接：https://www.aliyundrive.com/s/uQHM8DpTh5F</p> <h5 id="_1-5-案例2-京东放大镜"><a href="#_1-5-案例2-京东放大镜" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_15-%E6%A1%88%E4%BE%8B2%EF%BC%9A%E4%BA%AC%E4%B8%9C%E6%94%BE%E5%A4%A7%E9%95%9C" target="_blank" rel="noopener noreferrer">1.5 案例2：京东放大镜<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p>Tip</p> <p>代码：我用阿里云盘分享了「04-京东放大镜效果」，你可以不限速下载🚀 链接：https://www.aliyundrive.com/s/M9eJn6rAR28</p> <h4 id="_2-元素可视区-client-系列"><a href="#_2-元素可视区-client-系列" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_2-%E5%85%83%E7%B4%A0%E5%8F%AF%E8%A7%86%E5%8C%BA-client-%E7%B3%BB%E5%88%97" target="_blank" rel="noopener noreferrer">2. 元素可视区 client 系列<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <h5 id="_2-1-定义"><a href="#_2-1-定义" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_21-%E5%AE%9A%E4%B9%89" target="_blank" rel="noopener noreferrer">2.1 定义<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p><code>client</code> 翻译过来就是客户端，我们使用 <code>client</code> 系列的相关属性来获取元素可视区的相关信息。通过<code>client</code> 系列的相关属性可以动态的得到该元素的边框大小、元素大小等。</p> <table><thead><tr><th>client系列属性</th> <th>作用</th></tr></thead> <tbody><tr><td><code>element.clientTop</code></td> <td>返回元素上边框的大小</td></tr> <tr><td><code>element.clientLeft</code></td> <td>返回元素左边框大大小</td></tr> <tr><td><code>element.clientWidth</code></td> <td>返回自身包括 <code>padding</code>、内容区的宽度，不含边框，返回数值不带单位</td></tr> <tr><td><code>element.clientHeight</code></td> <td>返回自身包括 <code>padding</code>、内容区的高度，不含边框，返回数值不带单位</td></tr></tbody></table> <p><img src="https://cdn.jsdelivr.net/gh/Hacker-C/Picture-Bed@main/JavaScript/client1.6bor0qa82lk0.png" alt="client1"></p> <h5 id="_2-2-案例-淘宝-flexible-js-源码分析"><a href="#_2-2-案例-淘宝-flexible-js-源码分析" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_22-%E6%A1%88%E4%BE%8B%EF%BC%9A%E6%B7%98%E5%AE%9D-flexiblejs-%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90" target="_blank" rel="noopener noreferrer">2.2 案例：淘宝 flexible.js 源码分析<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p>flexible 项目地址：https://github.com/amfe/lib-flexible</p> <h6 id="_2-2-1-立即执行函数"><a href="#_2-2-1-立即执行函数" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_221-%E7%AB%8B%E5%8D%B3%E6%89%A7%E8%A1%8C%E5%87%BD%E6%95%B0" target="_blank" rel="noopener noreferrer">2.2.1 立即执行函数<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <p>立即执行函数是指函数定义好后，不需要调用直接执行。即一引入 JS 文件，则该函数自动执行。</p> <p>语法：<code>(function() {})()</code> 或者 <code>(function(){}())</code></p> <p>主要作用：</p> <ul><li>创建一个独立的作用域</li> <li>避免了命名冲突问题</li></ul> <p>举例：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// helloCopy to clipboardErrorCopied</span>


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>可以传参数：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10Copy to clipboardErrorCopied</span>


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h6 id="_2-2-2-pageshow-事件"><a href="#_2-2-2-pageshow-事件" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_222-pageshow-%E4%BA%8B%E4%BB%B6" target="_blank" rel="noopener noreferrer">2.2.2 pageShow 事件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <p>下面三种情况都会刷新页面都会触发load 事件。</p> <ol><li>a标签的超链接</li> <li>F5或者刷新按钮（强制刷新）</li> <li>前进后退按钮</li></ol> <p>但是火狐中，有个特点，有个“往返缓存”，这个缓存中不仅保存着页面数据，还保存了 DOM 和 JavaScript 的状态；实际上是将整个页面都保存在了内存里。</p> <p>所以此时后退按钮不能刷新页面。</p> <p>此时可以使用 <code>pageshow</code> 事件来触发。，这个事件在页面显示时触发，无论页面是否来自缓存。在重新加载页 面中，<code>pageshow</code> 会在 <code>load</code> 事件触发后触发；根据事件对象中的 <code>persisted</code> 来判断是否是缓存中的页面触发的<code>pageshow</code> 事件，注意这个事件给 <code>window</code> 添加。</p> <p>Warning</p> <p>多个立即执行函数间要加分号 <code>;</code> 隔开。</p> <h4 id="_3-元素滚动-scroll-系列"><a href="#_3-元素滚动-scroll-系列" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_3-%E5%85%83%E7%B4%A0%E6%BB%9A%E5%8A%A8-scroll-%E7%B3%BB%E5%88%97" target="_blank" rel="noopener noreferrer">3. 元素滚动 scroll 系列<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <h5 id="_3-1-元素scroll-系列属性"><a href="#_3-1-元素scroll-系列属性" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_31-%E5%85%83%E7%B4%A0scroll-%E7%B3%BB%E5%88%97%E5%B1%9E%E6%80%A7" target="_blank" rel="noopener noreferrer">3.1 元素scroll 系列属性<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p><code>scroll</code> 翻译过来就是滚动的，我们使用 <code>scroll</code> 系列的相关属性可以动态的得到该元素的大小、滚动距离等。</p> <table><thead><tr><th>scroll系列属性</th> <th>作用</th></tr></thead> <tbody><tr><td><code>element.scrollTop</code></td> <td>返回被卷上去的上侧距离，返回数值不带单位</td></tr> <tr><td><code>element.scrollLeft</code></td> <td>返回被卷上去的左侧距离，返回数值不带单位</td></tr> <tr><td><code>element.scrollWidth</code></td> <td>返回自身实际宽度，不含边框，返回数值不带单位</td></tr> <tr><td><code>element.scrollHeight</code></td> <td>返回自身实际高度，不含边框，返回数值不带单位</td></tr></tbody></table> <p>如下图所示 <img src="https://cdn.jsdelivr.net/gh/Hacker-C/Picture-Bed@main/JavaScript/scroll1.4xrvppmwt800.png" alt="scroll1"></p> <h5 id="_3-2-页面被卷去的头部"><a href="#_3-2-页面被卷去的头部" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_32-%E9%A1%B5%E9%9D%A2%E8%A2%AB%E5%8D%B7%E5%8E%BB%E7%9A%84%E5%A4%B4%E9%83%A8" target="_blank" rel="noopener noreferrer">3.2 页面被卷去的头部<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p>如果浏览器的高（或宽）度不足以显示整个页面时，会自动出现滚动条。当滚动条向下滚动时，页面上面被隐藏 掉的高度，我们就称为页面被卷去的头部。滚动条在滚动时会触发 <code>onscroll</code> 事件。</p> <p><strong>获取页面被卷去的头部</strong>：</p> <ul><li><strong>页面</strong> 被卷去的头部：可以通过 <code>window.pageYOffset</code> 获得，如果是被卷去的左侧 <code>window.pageXOffset</code></li> <li>注意，元素被卷去的头部是 <code>element.scrollTop</code>，左侧 <code>element.scrollLeft</code></li></ul> <h5 id="_3-3-案例-仿淘宝固定右侧侧边栏"><a href="#_3-3-案例-仿淘宝固定右侧侧边栏" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_33-%E6%A1%88%E4%BE%8B%EF%BC%9A%E4%BB%BF%E6%B7%98%E5%AE%9D%E5%9B%BA%E5%AE%9A%E5%8F%B3%E4%BE%A7%E4%BE%A7%E8%BE%B9%E6%A0%8F" target="_blank" rel="noopener noreferrer">3.3 案例：仿淘宝固定右侧侧边栏<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p>Tip</p> <p>我用阿里云盘分享了「05-仿淘宝侧边栏.html」，你可以不限速下载🚀 链接：https://www.aliyundrive.com/s/c1sic4RxuLf</p> <p>需求（自己动手实践）：</p> <ol><li>原先侧边栏是绝对定位</li> <li>当页面滚动到一定位置，侧边栏改为固定定位</li> <li>页面继续滚动，会让返回顶部显示出来</li></ol> <p>要点：</p> <ol><li>需要用到页面滚动事件 <code>scroll</code> 因为是页面滚动，所以事件源是 <code>document</code></li> <li>滚动到某个位置，就是判断页面被卷去的上部值。</li> <li>页面被卷去的头部：可以通过 <code>window.pageYOffset</code> 获得如果是被卷去的左侧 <code>window.pageXOffset</code></li> <li>注意，元素被卷去的头部是 <code>element.scrollTop</code> , 如果是页面被卷去的头部则是 <code>window.pageYOffset</code></li> <li>其实这个值可以通过盒子的 <code>offsetTop</code> 可以得到，如果大于等于这个值，就可以让盒子固定定位了</li></ol> <h5 id="_3-4-三大系列总结"><a href="#_3-4-三大系列总结" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_34-%E4%B8%89%E5%A4%A7%E7%B3%BB%E5%88%97%E6%80%BB%E7%BB%93" target="_blank" rel="noopener noreferrer">3.4 三大系列总结<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <h6 id="_3-4-1-对比"><a href="#_3-4-1-对比" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_341-%E5%AF%B9%E6%AF%94" target="_blank" rel="noopener noreferrer">3.4.1 对比<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <table><thead><tr><th>三大系列大小对比</th> <th>作用</th></tr></thead> <tbody><tr><td><code>element.offsetWidth</code></td> <td>返回自身包括 <code>padding</code>、边框、内容区的宽度，返回数值不带单位</td></tr> <tr><td><code>element.clientWidth</code></td> <td>返回自身包括 <code>padding</code>、内容区的宽度，不含边框，返回数值不带单位</td></tr> <tr><td><code>element.scrollWidth</code></td> <td>返回自身实际的宽度，不含边框，返回数值不带单位</td></tr></tbody></table> <h6 id="_3-4-2-主要用法"><a href="#_3-4-2-主要用法" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_342-%E4%B8%BB%E8%A6%81%E7%94%A8%E6%B3%95" target="_blank" rel="noopener noreferrer">3.4.2 主要用法<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <ol><li><code>offset</code> 系列经常用于获得元素位置 <code>offsetLeft</code>、<code>offsetTop</code></li> <li><code>client</code> 经常用于获取元素大小 <code>clientWidth</code> 、<code>clientHeight</code></li> <li><code>scroll</code> 经常用于获取滚动距离 <code>scrollTop</code>、<code>scrollLeft</code></li> <li>注意页面滚动的距离通过 <code>window.pageXOffset</code> 获得</li></ol> <h6 id="_3-5-mouseenter-和-mouseover-的区别"><a href="#_3-5-mouseenter-和-mouseover-的区别" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_35-mouseenter-%E5%92%8C-mouseover-%E7%9A%84%E5%8C%BA%E5%88%AB" target="_blank" rel="noopener noreferrer">3.5 mouseenter 和 mouseover 的区别<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <ul><li>当鼠标移动到元素上时就会触发 <code>mouseenter</code> 事件</li> <li>类似 <code>mouseover</code>，它们两者之间的差别是</li> <li><code>mouseover</code> 鼠标经过自身盒子会触发，经过子盒子还会触发。<code>mouseenter</code> 只会经过自身盒子触发</li> <li>之所以这样，就是因为 <code>mouseenter</code> 不会冒泡</li> <li>跟 <code>mouseenter</code> 搭配鼠标离开 <code>mouseleave</code> 同样不会冒泡</li></ul> <h4 id="_4-动画函数封装"><a href="#_4-动画函数封装" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_4-%E5%8A%A8%E7%94%BB%E5%87%BD%E6%95%B0%E5%B0%81%E8%A3%85" target="_blank" rel="noopener noreferrer">4. 动画函数封装<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <h5 id="_4-1-动画实现原理"><a href="#_4-1-动画实现原理" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_41-%E5%8A%A8%E7%94%BB%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86" target="_blank" rel="noopener noreferrer">4.1 动画实现原理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p>核心原理：通过定时器 <code>setInterval()</code> 不断移动盒子位置。 实现步骤：</p> <ol><li>获得盒子当前位置</li> <li>让盒子在当前位置加上 1 个移动距离</li> <li>利用定时器不断重复这个操作</li> <li>加一个结束定时器的条件</li> <li>注意此元素需要添加定位（<code>position: absolute</code>），才能使用 <code>element.style.left</code></li></ol> <h5 id="_4-2-动画函数简单封装"><a href="#_4-2-动画函数简单封装" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_42-%E5%8A%A8%E7%94%BB%E5%87%BD%E6%95%B0%E7%AE%80%E5%8D%95%E5%B0%81%E8%A3%85" target="_blank" rel="noopener noreferrer">4.2 动画函数简单封装<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p>注意函数需要传递 2 个参数，<strong>动画对象和移动到的距离</strong>。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">animate</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 设置定时器</span>
    <span class="token keyword">let</span> timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span>offsetLeft <span class="token operator">&lt;=</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            obj<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> obj<span class="token punctuation">.</span>offsetLeft <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// 清除定时器</span>
            <span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h5 id="_4-3-动画函数给不同元素记录不同定时器"><a href="#_4-3-动画函数给不同元素记录不同定时器" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_43-%E5%8A%A8%E7%94%BB%E5%87%BD%E6%95%B0%E7%BB%99%E4%B8%8D%E5%90%8C%E5%85%83%E7%B4%A0%E8%AE%B0%E5%BD%95%E4%B8%8D%E5%90%8C%E5%AE%9A%E6%97%B6%E5%99%A8" target="_blank" rel="noopener noreferrer">4.3 动画函数给不同元素记录不同定时器<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p>如果多个元素都使用这个动画函数，每次都要 <code>var</code> 声明定时器。我们可以给不同的元素使用不同的定时器（自己专门用自己的定时器）。</p> <p>核心原理：利用 JS 是一门动态语言，可以很方便的给当前对象添加属性。</p> <p>举例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 封装动画函数</span>
<span class="token keyword">function</span> <span class="token function">animate</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 给不同节点对象 obj 设置定时器</span>
    obj<span class="token punctuation">.</span>timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span>offsetLeft <span class="token operator">&lt;=</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            obj<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> obj<span class="token punctuation">.</span>offsetLeft <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// 清除对象自己的定时器</span>
            <span class="token function">clearInterval</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h5 id="_4-4-缓动效果原理"><a href="#_4-4-缓动效果原理" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_44-%E7%BC%93%E5%8A%A8%E6%95%88%E6%9E%9C%E5%8E%9F%E7%90%86" target="_blank" rel="noopener noreferrer">4.4 缓动效果原理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p>之前讲的是匀速动画：盒子当前位置 = 盒子当前位置 + 固定值盒子当前位置=盒子当前位置+固定值</p> <p>缓动动画就是让元素运动速度有所变化，最常见的是让速度慢慢停下来
思路：</p> <ol><li>让盒子每次移动的距离慢慢变小，速度就会慢慢落下来。</li> <li><strong>核心算法</strong>：每次移动的距离步长 = (目标值 - 现在的位置) / 10每次移动的距离步长=(目标值−现在的位置)/10</li> <li>停止的条件是：让当前盒子位置等于目标位置就停止定时器</li> <li>注意步长值需要取整</li></ol> <p>举例：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">animate</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">clearInterval</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
    obj<span class="token punctuation">.</span>timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 缓冲动画核心算法</span>
        <span class="token keyword">let</span> step <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span><span class="token punctuation">(</span>target <span class="token operator">-</span> obj<span class="token punctuation">.</span>offsetLeft<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span>offsetLeft <span class="token operator">===</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">clearInterval</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        obj<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> obj<span class="token punctuation">.</span>offsetLeft <span class="token operator">+</span> step <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h5 id="_4-5-动画函数多个目标值之间移动"><a href="#_4-5-动画函数多个目标值之间移动" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_45-%E5%8A%A8%E7%94%BB%E5%87%BD%E6%95%B0%E5%A4%9A%E4%B8%AA%E7%9B%AE%E6%A0%87%E5%80%BC%E4%B9%8B%E9%97%B4%E7%A7%BB%E5%8A%A8" target="_blank" rel="noopener noreferrer">4.5 动画函数多个目标值之间移动<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p>可以让动画函数从 <code>800</code> 移动到 <code>500</code>。
当我们点击按钮时候，判断步长是正值还是负值：</p> <ol><li>如果是正值，则步长往大了取整（<code>Math.ceil()</code>）</li> <li>如果是负值，则步长向小了取整（<code>Math.floor()</code>）</li></ol> <p>举例：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">animate</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">clearInterval</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
    obj<span class="token punctuation">.</span>timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 缓冲动画核心算法</span>
        <span class="token keyword">let</span> step <span class="token operator">=</span> target <span class="token operator">-</span> obj<span class="token punctuation">.</span>offsetLeft<span class="token punctuation">;</span>
        <span class="token comment">// 左右移动步值正负处理</span>
        step <span class="token operator">=</span> step <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">?</span>  Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>step <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">:</span>  Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>step <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span>offsetLeft <span class="token operator">===</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">clearInterval</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        obj<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> obj<span class="token punctuation">.</span>offsetLeft <span class="token operator">+</span> step <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h5 id="_4-6-动画函数添加回调函数"><a href="#_4-6-动画函数添加回调函数" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_46-%E5%8A%A8%E7%94%BB%E5%87%BD%E6%95%B0%E6%B7%BB%E5%8A%A0%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0" target="_blank" rel="noopener noreferrer">4.6 动画函数添加回调函数<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <ul><li><strong>回调函数原理</strong>：函数可以作为一个参数。将这个函数作为参数传到另一个函数里面，当那个函数执行完之后， 再执行传进去的这个函数，这个过程就叫做 <strong>回调（<code>callback</code>）</strong>。</li> <li><strong>回调函数写的位置：定时器结束的位置</strong>。</li></ul> <p>案例：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 增加回调函数形参 callback</span>
<span class="token keyword">function</span> <span class="token function">animate</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> target<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">clearInterval</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
    obj<span class="token punctuation">.</span>timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 缓冲动画核心算法</span>
        <span class="token keyword">let</span> step <span class="token operator">=</span> target <span class="token operator">-</span> obj<span class="token punctuation">.</span>offsetLeft<span class="token punctuation">;</span>
        <span class="token comment">// 左右移动步值正负处理</span>
        step <span class="token operator">=</span> step <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">?</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>step <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>step <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span>offsetLeft <span class="token operator">===</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">clearInterval</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 判断，回调函数 callback 存在则调用</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>callback<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        obj<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> obj<span class="token punctuation">.</span>offsetLeft <span class="token operator">+</span> step <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 回调函数作为实参传入</span>
<span class="token function">animate</span><span class="token punctuation">(</span>span<span class="token punctuation">,</span> <span class="token number">800</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    span<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">'pink'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h5 id="_4-7-动画函数封装到单独js文件里面"><a href="#_4-7-动画函数封装到单独js文件里面" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_47-%E5%8A%A8%E7%94%BB%E5%87%BD%E6%95%B0%E5%B0%81%E8%A3%85%E5%88%B0%E5%8D%95%E7%8B%ACjs%E6%96%87%E4%BB%B6%E9%87%8C%E9%9D%A2" target="_blank" rel="noopener noreferrer">4.7 动画函数封装到单独JS文件里面<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p>因为以后经常使用这个动画函数，可以单独封装到一个JS文件里面，使用的时候引用这个JS文件即可。</p> <ol><li>单独新建一个 JS 文件。</li> <li>HTML文件引入 JS 文件。</li></ol> <h5 id="_5-常见网页特效案例"><a href="#_5-常见网页特效案例" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_5-%E5%B8%B8%E8%A7%81%E7%BD%91%E9%A1%B5%E7%89%B9%E6%95%88%E6%A1%88%E4%BE%8B" target="_blank" rel="noopener noreferrer">5. 常见网页特效案例<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <h5 id="_5-1-案例1-轮播图"><a href="#_5-1-案例1-轮播图" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_51-%E6%A1%88%E4%BE%8B1%EF%BC%9A%E8%BD%AE%E6%92%AD%E5%9B%BE" target="_blank" rel="noopener noreferrer">5.1 案例1：轮播图<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p>Tip</p> <p>轮播图是JS的一个经典案例，建议自己动手实践一遍，项目源码地址：https://hacker-c.github.io/PinYouGou-Shopping/</p> <p>轮播图也称为焦点图，是网页中比较常见的网页特效。</p> <p>功能需求：</p> <ol><li>鼠标经过轮播图模块，左右按钮显示，离开隐藏左右按钮。</li> <li>点击右侧按钮一次，图片往左播放一张，以此类推，左侧按钮同理。</li> <li>图片播放的同时，下面小圆圈模块跟随一起变化。</li> <li>点击小圆圈，可以播放相应图片。</li> <li>鼠标不经过轮播图，轮播图也会自动播放图片。</li> <li>鼠标经过，轮播图模块，自动播放停止。</li></ol> <details style="-webkit-font-smoothing:antialiased;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);text-size-adjust:none;box-sizing:border-box;font-size:15px;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-style:normal;font-variant-ligatures:normal;font-variant-caps:normal;font-weight:400;letter-spacing:normal;orphans:2;text-align:start;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;background-color:rgb(255, 255, 255);text-decoration-thickness:initial;text-decoration-style:initial;text-decoration-color:initial;cursor:pointer;"><summary style="-webkit-font-smoothing:antialiased;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);text-size-adjust:none;box-sizing:border-box;">思路分析点击展开</summary></details> <h5 id="_5-2-案例2-返回顶部"><a href="#_5-2-案例2-返回顶部" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_52-%E6%A1%88%E4%BE%8B2%EF%BC%9A%E8%BF%94%E5%9B%9E%E9%A1%B6%E9%83%A8" target="_blank" rel="noopener noreferrer">5.2 案例2：返回顶部<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <h6 id="_5-2-1-window-scroll"><a href="#_5-2-1-window-scroll" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_521-windowscroll" target="_blank" rel="noopener noreferrer">5.2.1 window.scroll<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <p>滚动窗口至文档中的特定位置：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function">scroll</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>注意：里面的 <code>x</code> 和 <code>y</code> 不跟单位，直接写数字。</p> <h6 id="_5-2-2-带有动画的返回顶部"><a href="#_5-2-2-带有动画的返回顶部" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_522-%E5%B8%A6%E6%9C%89%E5%8A%A8%E7%94%BB%E7%9A%84%E8%BF%94%E5%9B%9E%E9%A1%B6%E9%83%A8" target="_blank" rel="noopener noreferrer">5.2.2 带有动画的返回顶部<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <ol><li>此时可以继续使用我们封装的动画函数</li> <li>只需要把所有的 <code>left</code> 相关的值改为跟页面垂直滚动距离相关就可以了</li> <li>页面滚动了多少，可以通过 <code>window.pageYOffset</code> 得到</li> <li>最后是页面滚动，使用 <code>window.scroll(x, y)</code></li></ol> <h6 id="_5-2-3-修改后的缓存动画函数"><a href="#_5-2-3-修改后的缓存动画函数" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_523-%E4%BF%AE%E6%94%B9%E5%90%8E%E7%9A%84%E7%BC%93%E5%AD%98%E5%8A%A8%E7%94%BB%E5%87%BD%E6%95%B0" target="_blank" rel="noopener noreferrer">5.2.3 修改后的缓存动画函数<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">animate</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> target<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">clearInterval</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
    obj<span class="token punctuation">.</span>timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 缓冲动画核心算法</span>
        <span class="token keyword">let</span> step <span class="token operator">=</span> target <span class="token operator">-</span> window<span class="token punctuation">.</span>pageYOffset<span class="token punctuation">;</span>
        step <span class="token operator">=</span> step <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">?</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>step <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>step <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>pageYOffset <span class="token operator">===</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">clearInterval</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
            callback <span class="token operator">&amp;&amp;</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        window<span class="token punctuation">.</span><span class="token function">scroll</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> window<span class="token punctuation">.</span>pageYOffset <span class="token operator">+</span> step<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>调用：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">animate</span><span class="token punctuation">(</span>window<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h5 id="_5-3-案例3-筋斗云"><a href="#_5-3-案例3-筋斗云" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_53-%E6%A1%88%E4%BE%8B3%EF%BC%9A%E7%AD%8B%E6%96%97%E4%BA%91" target="_blank" rel="noopener noreferrer">5.3 案例3：筋斗云<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <h6 id="_5-3-1-效果"><a href="#_5-3-1-效果" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_531-%E6%95%88%E6%9E%9C" target="_blank" rel="noopener noreferrer">5.3.1 效果<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <ul><li>鼠标经过某个小 <code>li</code>，筋斗云跟这到当前小 <code>li</code> 位置</li> <li>鼠标离开这个小 <code>li</code>，筋斗云复原为原来的位置</li> <li>鼠标点击了某个小 <code>li</code>，筋斗云就会留在点击这个小 <code>li</code> 的位置</li></ul> <h6 id="_5-3-2-实现"><a href="#_5-3-2-实现" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch05?id=_532-%E5%AE%9E%E7%8E%B0" target="_blank" rel="noopener noreferrer">5.3.2 实现<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <ol><li>利用动画函数做动画效果</li> <li>原先筋斗云的起始位置是 <code>0</code></li> <li>鼠标经过某个小 <code>li</code>，把当前小 <code>li</code> 的 <code>offsetLeft</code> 位置做为目标值即可</li> <li>鼠标离开某个小 <code>li</code>，就把目标值设为 <code>0</code></li> <li>如果点击了某个小 <code>li</code>，就把 <code>li</code> 当前的位置存储起来，做为筋斗云的起始位置</li></ol> <p>核心代码：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> current <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> lis<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// (1) 鼠标经过把当前小li 的位置做为目标值</span>
    lis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mouseenter'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">animate</span><span class="token punctuation">(</span>cloud<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>offsetLeft<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// (2) 鼠标离开就回到起始的位置 </span>
    lis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mouseleave'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">animate</span><span class="token punctuation">(</span>cloud<span class="token punctuation">,</span> current<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// (3) 当我们鼠标点击，就把当前位置做为目标值</span>
    lis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        current <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>offsetLeft<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="六-移动端特效"><a href="#六-移动端特效" class="header-anchor">#</a> （六）移动端特效</h3> <h3 id="七-本地存储"><a href="#七-本地存储" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch07?id=%EF%BC%88%E4%B8%83%EF%BC%89%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8" target="_blank" rel="noopener noreferrer">（七）本地存储<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <h4 id="_1-本地存储概述"><a href="#_1-本地存储概述" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch07?id=_1-%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E6%A6%82%E8%BF%B0" target="_blank" rel="noopener noreferrer">1. 本地存储概述<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <h5 id="_1-1-背景"><a href="#_1-1-背景" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch07?id=_11-%E8%83%8C%E6%99%AF" target="_blank" rel="noopener noreferrer">1.1 背景<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p>随着互联网的快速发展，基于网页的应用越来越普遍，同时也变的越来越复杂，为了满足各种各样的需求，会经 常性在本地存储大量的数据，HTML5 规范提出了相关解决方案。</p> <h5 id="_1-2-本地存储特性"><a href="#_1-2-本地存储特性" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch07?id=_12-%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E7%89%B9%E6%80%A7" target="_blank" rel="noopener noreferrer">1.2 本地存储特性<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <ul><li>数据存储在用户浏览器中</li> <li>设置、读取方便、甚至页面刷新不丢失数据</li> <li>容量较大，<code>sessionStorage</code> 约5M、<code>localStorage</code> 约20M</li> <li>只能存储字符串，可以将对象 <code>JSON.stringify()</code> 编码后存储</li></ul> <h4 id="_2-window-sessionstorage"><a href="#_2-window-sessionstorage" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch07?id=_2-windowsessionstorage" target="_blank" rel="noopener noreferrer">2. window.sessionStorage<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <h5 id="_2-1-特点"><a href="#_2-1-特点" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch07?id=_21-%E7%89%B9%E7%82%B9" target="_blank" rel="noopener noreferrer">2.1 特点<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <ul><li>生命周期为 <strong>关闭浏览器窗口</strong></li> <li>在同一个窗口（页面）下数据可以共享</li> <li>以键值对的形式存储使用</li></ul> <h5 id="_2-2-相关操作"><a href="#_2-2-相关操作" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch07?id=_22-%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C" target="_blank" rel="noopener noreferrer">2.2 相关操作<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <ol><li><p>存储数据：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>获取数据：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>删除数据：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>sessionStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>Copy to clipboardErrorCopied


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>删除所有数据：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>sessionStorage<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>Copy to clipboardErrorCopied

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ol> <h4 id="_3-window-localstorage"><a href="#_3-window-localstorage" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch07?id=_3-windowlocalstorage" target="_blank" rel="noopener noreferrer">3. window.localStorage<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <h5 id="_3-1-特点"><a href="#_3-1-特点" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch07?id=_31-%E7%89%B9%E7%82%B9" target="_blank" rel="noopener noreferrer">3.1 特点<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <ul><li>生命周期 <strong>永久生效</strong>，除非手动删除否则关闭页面也会存在</li> <li>可以多窗口（页面）共享（同一浏览器可以共享）</li> <li>以键值对的形式存储使用</li></ul> <h5 id="_3-2-相关操作"><a href="#_3-2-相关操作" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch07?id=_32-%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C" target="_blank" rel="noopener noreferrer">3.2 相关操作<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <ol><li><p>存储数据：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span>Copy to clipboardErrorCopied

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>获取数据：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>Copy to clipboardErrorCopied

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>删除数据：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>loaclStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>Copy to clipboardErrorCopied

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>删除所有数据：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>localStorage<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>Copy to clipboardErrorCopied

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ol> <h4 id="_4-案例-记住用户名"><a href="#_4-案例-记住用户名" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch07?id=_4-%E6%A1%88%E4%BE%8B%EF%BC%9A%E8%AE%B0%E4%BD%8F%E7%94%A8%E6%88%B7%E5%90%8D" target="_blank" rel="noopener noreferrer">4. 案例：记住用户名<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <h5 id="_4-1-分析"><a href="#_4-1-分析" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch07?id=_41-%E5%88%86%E6%9E%90" target="_blank" rel="noopener noreferrer">4.1 分析<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p>如果勾选记住用户名，下次用户打开浏览器，就在文本框里面自动显示上次登录的用户名。</p> <ul><li>把数据存起来，用到本地存储</li> <li>关闭页面，也可以显示用户名，所以用到 <code>localStorage</code></li> <li>打开页面，先判断是否有这个用户名，如果有，就在表单里面显示用户名，并且勾选复选框</li> <li>当复选框发生改变的时候 <code>change</code> 事件</li> <li>如果勾选，就存储，否则就移除</li></ul> <h5 id="_4-2-代码"><a href="#_4-2-代码" class="header-anchor">#</a> <a href="https://docs.mphy.top/#/WebApi/ch07?id=_42-%E4%BB%A3%E7%A0%81" target="_blank" rel="noopener noreferrer">4.2 代码<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> nameInput <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#username'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> remember <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#remember'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'username'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    nameInput<span class="token punctuation">.</span>value <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'username'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    remember<span class="token punctuation">.</span>checked <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
remember<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'change'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>remember<span class="token punctuation">.</span>checked<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'username'</span><span class="token punctuation">,</span> nameInput<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token string">'username'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></div></section> <footer class="page-edit"><!----> <!----></footer> <!----> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-cb1513f6><li class="level-2" data-v-cb1513f6><a href="/blogs/javascript/api.html#web-api" class="sidebar-link reco-side-web-api" data-v-cb1513f6>Web API</a></li><li class="level-3" data-v-cb1513f6><a href="/blogs/javascript/api.html#一-入门了解" class="sidebar-link reco-side-一-入门了解" data-v-cb1513f6>（一） 入门了解</a></li><li class="level-3" data-v-cb1513f6><a href="/blogs/javascript/api.html#二-dom-基础" class="sidebar-link reco-side-二-dom-基础" data-v-cb1513f6>（二）DOM 基础</a></li><li class="level-3" data-v-cb1513f6><a href="/blogs/javascript/api.html#三-事件高级" class="sidebar-link reco-side-三-事件高级" data-v-cb1513f6>（三）事件高级</a></li><li class="level-3" data-v-cb1513f6><a href="/blogs/javascript/api.html#四-bom-基础" class="sidebar-link reco-side-四-bom-基础" data-v-cb1513f6>（四）BOM 基础</a></li><li class="level-3" data-v-cb1513f6><a href="/blogs/javascript/api.html#五-pc端网页特效" class="sidebar-link reco-side-五-pc端网页特效" data-v-cb1513f6>（五）PC端网页特效</a></li><li class="level-3" data-v-cb1513f6><a href="/blogs/javascript/api.html#六-移动端特效" class="sidebar-link reco-side-六-移动端特效" data-v-cb1513f6>（六）移动端特效</a></li><li class="level-3" data-v-cb1513f6><a href="/blogs/javascript/api.html#七-本地存储" class="sidebar-link reco-side-七-本地存储" data-v-cb1513f6>（七）本地存储</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><div class="reco-bgm-panel" data-v-b1d3339e><audio id="bgm" src="http://music.163.com/song/media/outer/url?id=428095913.mp3" data-v-b1d3339e></audio> <div class="reco-float-box" style="bottom:200px;z-index:999999;display:none;" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><img src="http://p1.music.126.net/q4F0SxegKqK0ouytAa5oQw==/18718085951419530.jpg" data-v-b1d3339e></div> <div class="reco-bgm-box" style="left:10px;bottom:10px;z-index:999999;" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><div class="reco-bgm-cover" style="background-image:url(http://p1.music.126.net/q4F0SxegKqK0ouytAa5oQw==/18718085951419530.jpg);" data-v-b1d3339e><div class="mini-operation" style="display:none;" data-v-b1d3339e><i class="reco-bgm reco-bgm-pause" style="display:none;" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-play" style="display:none;" data-v-b1d3339e></i></div> <div class="falut-message" style="display:none;" data-v-b1d3339e>
          播放失败
        </div></div> <div class="reco-bgm-info" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><div class="info-box" data-v-b1d3339e><i class="reco-bgm reco-bgm-music music" data-v-b1d3339e></i>江湖</div> <div class="info-box" data-v-b1d3339e><i class="reco-bgm reco-bgm-artist" data-v-b1d3339e></i>许嵩</div> <div class="reco-bgm-progress" data-v-b1d3339e><div class="progress-bar" data-v-b1d3339e><div class="bar" data-v-b1d3339e></div></div></div> <div class="reco-bgm-operation" data-v-b1d3339e><i class="reco-bgm reco-bgm-last last" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-pause pause" style="display:none;" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-play play" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-next next" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-volume1 volume" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-mute mute" style="display:none;" data-v-b1d3339e></i> <div class="volume-bar" data-v-b1d3339e><div class="bar" data-v-b1d3339e></div></div></div></div> <div class="reco-bgm-left-box" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><i class="reco-bgm reco-bgm-left" data-v-b1d3339e></i></div></div></div><div id="live2d-widget" class="live2d-widget-container" style="position:fixed;right:65px;bottom:0px;width:135px;height:300px;z-index:99999;opacity:0.8;pointer-events:none;"><canvas id="live2d_canvas" width="135" height="300" class="live2d_canvas" style="position:absolute;left:0px;top:0px;width:135px;height:300px;"></canvas></div></div></div>
    <script src="/assets/js/app.c3392a55.js" defer></script><script src="/assets/js/3.3ec6bdf6.js" defer></script><script src="/assets/js/1.235dfb9e.js" defer></script><script src="/assets/js/13.d1f83819.js" defer></script>
  </body>
</html>
