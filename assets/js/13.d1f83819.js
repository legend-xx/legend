(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{621:function(t,s,a){"use strict";a.r(s);var n=a(10),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"web-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#web-api"}},[t._v("#")]),t._v(" Web API")]),t._v(" "),a("h3",{attrs:{id:"一-入门了解"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-入门了解"}},[t._v("#")]),t._v(" （一） 入门了解")]),t._v(" "),a("h4",{attrs:{id:"_1-web-apis-和-js-基础关联性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-web-apis-和-js-基础关联性"}},[t._v("#")]),t._v(" 1. Web APIs 和 JS 基础关联性")]),t._v(" "),a("h5",{attrs:{id:"_1-1-js-组成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-js-组成"}},[t._v("#")]),t._v(" 1.1 JS 组成")]),t._v(" "),a("ul",[a("li",[t._v("ECMAScript: JS 语法")]),t._v(" "),a("li",[t._v("BOM: Web API")]),t._v(" "),a("li",[t._v("DOM: Web API")])]),t._v(" "),a("h4",{attrs:{id:"_2-api-和-web-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-api-和-web-api"}},[t._v("#")]),t._v(" 2. API 和 Web API")]),t._v(" "),a("h5",{attrs:{id:"_2-1-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-api"}},[t._v("#")]),t._v(" 2.1 API")]),t._v(" "),a("p",[t._v("API：Application Programming Interface，应用程序接口。")]),t._v(" "),a("h5",{attrs:{id:"_2-2-web-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-web-api"}},[t._v("#")]),t._v(" 2.2 Web API")]),t._v(" "),a("p",[t._v("Web API 是浏览器提供得一套操作浏览器功能和页面元素得 API（BOM 和 DOM）。")]),t._v(" "),a("h3",{attrs:{id:"二-dom-基础"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-dom-基础"}},[t._v("#")]),t._v(" （二）DOM 基础")]),t._v(" "),a("h4",{attrs:{id:"_1-dom-简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-dom-简介"}},[t._v("#")]),t._v(" 1. DOM 简介")]),t._v(" "),a("h5",{attrs:{id:"_1-1-什么是-dom"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-什么是-dom"}},[t._v("#")]),t._v(" 1.1 什么是 DOM")]),t._v(" "),a("p",[t._v("文档对象模型（Document Object Model，简称DOM )，是W3C组织推荐的处理可扩展标记语言（HTML或者XML)的标准编程接口。")]),t._v(" "),a("p",[t._v("W3C已经定义了一系列的DOM接口，通过这些DOM接口可以改变网页的内容、结构和样式。")]),t._v(" "),a("h5",{attrs:{id:"_1-2-dom-树"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-dom-树"}},[t._v("#")]),t._v(" 1.2 DOM 树")]),t._v(" "),a("ul",[a("li",[t._v("文档：一个页面就是一个文档，DOM中使用document表示")]),t._v(" "),a("li",[t._v("元素：页面中的所有标签都是元素，DOM中使用element表示")]),t._v(" "),a("li",[t._v("节点：网页中的所有内容都是节点（标签、属性、文本、注释等），DOM中使用node表示")])]),t._v(" "),a("p",[t._v("以上内容都称之为对象")]),t._v(" "),a("h4",{attrs:{id:"_2-获取元素"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-获取元素"}},[t._v("#")]),t._v(" 2. 获取元素")]),t._v(" "),a("h5",{attrs:{id:"_2-1-如何获取页面元素"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-如何获取页面元素"}},[t._v("#")]),t._v(" 2.1 如何获取页面元素")]),t._v(" "),a("p",[t._v("DOM 在我们实际开发中主要用来操作元素。我们如何来获取页面中的元素呢?")]),t._v(" "),a("p",[t._v("获取页面中的元素可以使用以下几种方式:")]),t._v(" "),a("ul",[a("li",[t._v("根据ID获取")]),t._v(" "),a("li",[t._v("根据标签名获取")]),t._v(" "),a("li",[t._v("通过HTML5新增的方法获取")]),t._v(" "),a("li",[t._v("特殊元素获取")])]),t._v(" "),a("h5",{attrs:{id:"_2-2-根据-id-获取"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-根据-id-获取"}},[t._v("#")]),t._v(" 2.2 根据 ID 获取")]),t._v(" "),a("p",[t._v("使用 "),a("code",[t._v("getElementByld()")]),t._v(" 方法可以获取带有 ID 的元素对象，并返回一个 "),a("code",[t._v("Element")]),t._v(" 对象。")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("console.dir()")]),t._v(" 可打印元素的属性和方法")])]),t._v(" "),a("h5",{attrs:{id:"_2-3-根据标签名获取"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-根据标签名获取"}},[t._v("#")]),t._v(" 2.3 根据标签名获取")]),t._v(" "),a("p",[t._v("使用 "),a("code",[t._v("getElementsByTagName()")]),t._v(" 方法可以返回带有指定标签名的对象的集合。")]),t._v(" "),a("ul",[a("li",[t._v("返回的是 "),a("strong",[t._v("元素对象的集合，伪数组形式表示")]),t._v("。")]),t._v(" "),a("li",[t._v("可以遍历返回的伪数组。")]),t._v(" "),a("li",[t._v("得到的元素对象是动态的。")]),t._v(" "),a("li",[t._v("若没有元素，则返回空的伪数组 "),a("code",[t._v("[]")]),t._v("。")])]),t._v(" "),a("p",[t._v("指定父元素，父元素必须是指定的单个元素。")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" ol "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementsByTagName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ol'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ol"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementsByTagName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'li'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("Copy to clipboardErrorCopied\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("若给 "),a("code",[t._v("ol")]),t._v(" 指定了 id: "),a("code",[t._v("ol")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" ol "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ol'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ol"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementsByTagName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'li'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("Copy to clipboardErrorCopied\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("h5",{attrs:{id:"_2-4-通过-html5-新增方法获取"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-通过-html5-新增方法获取"}},[t._v("#")]),t._v(" 2.4 通过 HTML5 新增方法获取")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("根据类名返回元素对象集合。")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementsByClassName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'类名'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" Copy to clipboardErrorCopied\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])])]),t._v(" "),a("li",[a("p",[t._v("根据指定选择器返回第一个元素对象。")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'选择器'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" Copy to clipboardErrorCopied\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])])]),t._v(" "),a("li",[a("p",[t._v("返回指定选择器的所有元素集合。")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelectorAll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'选择器'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Copy to clipboardErrorCopied\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])])])]),t._v(" "),a("p",[t._v("Tip")]),t._v(" "),a("p",[t._v("对于这些获取事件，要不就是返回一个元素对象，要不就是返回一个对象集合。对于返回的对象集合，都可以是作为一种伪数组，可以通过 "),a("code",[t._v("elems.length")]),t._v(" 来获取元素对象个数。")]),t._v(" "),a("h5",{attrs:{id:"_2-5-获取特殊元素"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-获取特殊元素"}},[t._v("#")]),t._v(" 2.5 获取特殊元素")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("获取 "),a("code",[t._v("body")]),t._v(" 元素")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("Copy to clipboardErrorCopied\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])])]),t._v(" "),a("li",[a("p",[t._v("获取 "),a("code",[t._v("html")]),t._v(" 元素")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("Copy to clipboardErrorCopied\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])])])]),t._v(" "),a("h4",{attrs:{id:"_3-事件基础"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-事件基础"}},[t._v("#")]),t._v(" 3. 事件基础")]),t._v(" "),a("h5",{attrs:{id:"_3-1-事件概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-事件概述"}},[t._v("#")]),t._v(" 3.1 事件概述")]),t._v(" "),a("p",[t._v("JavaScript 使我们有能力创建动态页面，而事件是可以被 JavaScript 侦测到的行为。")]),t._v(" "),a("p",[t._v("简单理解︰触发--响应机制。")]),t._v(" "),a("p",[t._v("网页中的每个元素都可以产生某些可以触发 JavaScript 的事件，例如，我们可以在用户点击某按钮时产生一个事件，然后去执行某些操作。")]),t._v(" "),a("h5",{attrs:{id:"_3-2-事件三要素"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-事件三要素"}},[t._v("#")]),t._v(" 3.2 事件三要素")]),t._v(" "),a("ul",[a("li",[t._v("事件源：事件被触发的对象（按钮）。")]),t._v(" "),a("li",[t._v("事件类型：如何触发、什么事件（点击按钮）。")]),t._v(" "),a("li",[t._v("事件处理程序：可通过一个函数赋值的方式实现。")])]),t._v(" "),a("ol",[a("li",[a("p",[t._v("获取事件源")]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("btn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("唐伯虎"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Copy to clipboardErrorCopied\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])])]),t._v(" "),a("li",[a("p",[t._v("注册事件")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" btn "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'btn'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])])]),t._v(" "),a("li",[a("p",[t._v("添加事件处理程序")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("btn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onclick")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'点秋香'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])])])]),t._v(" "),a("p",[t._v("Tip")]),t._v(" "),a("p",[t._v("执行事件的步骤")]),t._v(" "),a("ol",[a("li",[t._v("获取事件源")]),t._v(" "),a("li",[t._v("注册事件（绑定事件）")]),t._v(" "),a("li",[t._v("添加事件处理程序（函数赋值）")])]),t._v(" "),a("h5",{attrs:{id:"_3-4-常见鼠标事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-常见鼠标事件"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch02?id=_34-%E5%B8%B8%E8%A7%81%E9%BC%A0%E6%A0%87%E4%BA%8B%E4%BB%B6",target:"_blank",rel:"noopener noreferrer"}},[t._v("3.4 常见鼠标事件"),a("OutboundLink")],1)]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("鼠标事件")]),t._v(" "),a("th",[t._v("触发条件")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("onclick")])]),t._v(" "),a("td",[t._v("鼠标点击左键触发")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("onmouseover")])]),t._v(" "),a("td",[t._v("鼠标经过触发")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("onmouseout")])]),t._v(" "),a("td",[t._v("鼠标离开触发")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("onfocus")])]),t._v(" "),a("td",[t._v("获得鼠标焦点触发")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("onblur")])]),t._v(" "),a("td",[t._v("失去鼠标焦点触发")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("onmousemove")])]),t._v(" "),a("td",[t._v("鼠标移动触发")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("onmouseup")])]),t._v(" "),a("td",[t._v("鼠标弹起触发")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("onmousedown")])]),t._v(" "),a("td",[t._v("鼠标按下触发")])])])]),t._v(" "),a("h4",{attrs:{id:"_4-操作元素"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-操作元素"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch02?id=_4-%E6%93%8D%E4%BD%9C%E5%85%83%E7%B4%A0",target:"_blank",rel:"noopener noreferrer"}},[t._v("4. 操作元素"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("使用 JavaScript DOM 可以改变网页内容、结构和样式。以下是元素的属性。")]),t._v(" "),a("h5",{attrs:{id:"_4-1-改变元素内容"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-改变元素内容"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch02?id=_41-%E6%94%B9%E5%8F%98%E5%85%83%E7%B4%A0%E5%86%85%E5%AE%B9",target:"_blank",rel:"noopener noreferrer"}},[t._v("4.1 改变元素内容"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("从起始位置到终止位置的内容,但它去除html标签，同时空格和换行也会去掉")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerTextCopy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("起始位置到终止位置的全部内容，包括html标签，同时保留空格和换行")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTMLCopy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("h5",{attrs:{id:"_4-2-innertext-和-innerhtml-的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-innertext-和-innerhtml-的区别"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch02?id=_42-innertext-%E5%92%8C-innerhtml-%E7%9A%84%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"}},[t._v("4.2 innerText 和 innerHTML 的区别"),a("OutboundLink")],1)]),t._v(" "),a("ol",[a("li",[a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("innerText\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("不识别 html 标签，")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("innerHTML\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("识别 html 标签。")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("div"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("' <strong>今天是：</strong>2021-3-23'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("innerText")]),t._v(" 会取出空格和换行，"),a("code",[t._v("innerHTML")]),t._v(" 保留换行和空格。")])])]),t._v(" "),a("h5",{attrs:{id:"_4-3-常用元素的属性操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-常用元素的属性操作"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch02?id=_43-%E5%B8%B8%E7%94%A8%E5%85%83%E7%B4%A0%E7%9A%84%E5%B1%9E%E6%80%A7%E6%93%8D%E4%BD%9C",target:"_blank",rel:"noopener noreferrer"}},[t._v("4.3 常用元素的属性操作"),a("OutboundLink")],1)]),t._v(" "),a("ol",[a("li",[a("code",[t._v("innerText")]),t._v("、"),a("code",[t._v("innerHTML")]),t._v(" 改变元素内容")]),t._v(" "),a("li",[a("code",[t._v("src")]),t._v("、"),a("code",[t._v("href")])]),t._v(" "),a("li",[a("code",[t._v("id")]),t._v("、"),a("code",[t._v("alt")]),t._v("、"),a("code",[t._v("title")])])]),t._v(" "),a("p",[t._v("示例")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" vsc "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vsc'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" zh "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'zh'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" img "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'img'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nvsc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onclick")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    img"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'images/vscode.jpg'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    img"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vscode'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])]),a("h5",{attrs:{id:"_4-4-表单元素的属性操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-表单元素的属性操作"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch02?id=_44-%E8%A1%A8%E5%8D%95%E5%85%83%E7%B4%A0%E7%9A%84%E5%B1%9E%E6%80%A7%E6%93%8D%E4%BD%9C",target:"_blank",rel:"noopener noreferrer"}},[t._v("4.4 表单元素的属性操作"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("利用 DOM 可以操控以下表单元素的属性。")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("type, value, checked, selected, disabledCopy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("h5",{attrs:{id:"_4-5-样式属性操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-样式属性操作"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch02?id=_45-%E6%A0%B7%E5%BC%8F%E5%B1%9E%E6%80%A7%E6%93%8D%E4%BD%9C",target:"_blank",rel:"noopener noreferrer"}},[t._v("4.5 样式属性操作"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("我们可以通过JS修改元素的大小、颜色、位置等样式。")]),t._v(" "),a("ol",[a("li",[a("code",[t._v("element.style")]),t._v("：行内样式操作")]),t._v(" "),a("li",[a("code",[t._v("element.className")]),t._v("：类名样式操作")])]),t._v(" "),a("p",[t._v("Tip")]),t._v(" "),a("ol",[a("li",[t._v("Js 里面的样式采取驼峰命名法比如 "),a("code",[t._v("fontSize")]),t._v("、"),a("code",[t._v("backgroundColor")])]),t._v(" "),a("li",[t._v("JS修改 "),a("code",[t._v("style")]),t._v(" 样式操作，产生的是行内样式，css 权重比较高")]),t._v(" "),a("li",[t._v("如果样式修改较多，可以采取操作类名方式更改元素样式")]),t._v(" "),a("li",[t._v("class 因为是个保留字，因此使用 "),a("code",[t._v("className")]),t._v(" 来操作元素类名属性")]),t._v(" "),a("li",[a("code",[t._v("className")]),t._v(" 会直接更改元素的类名，会覆盖原先的类名。")])]),t._v(" "),a("h5",{attrs:{id:"_4-6-排他思想"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-6-排他思想"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch02?id=_46-%E6%8E%92%E4%BB%96%E6%80%9D%E6%83%B3",target:"_blank",rel:"noopener noreferrer"}},[t._v("4.6 排他思想"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("如果有同一组元素，我们想要某一个元素实现某种样式，需要用到循环的排他思想算法：")]),t._v(" "),a("ol",[a("li",[t._v("所有元素全部清除样式（干掉其他人）")]),t._v(" "),a("li",[t._v("给当前元素设置样式（留下我自己）")]),t._v(" "),a("li",[t._v("注意顺序不能颠倒，首先干掉其他人，再设置自己。")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" btns "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementsByTagName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'button'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" btns"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        btns"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onclick")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" j"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("j"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("btns"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("j"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                btns"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("j"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("backgroundColor "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("backgroundColor "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pink'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br")])]),a("p",[t._v("Tip")]),t._v(" "),a("p",[t._v("根据这个算法可以用来实现鼠标经过每一行时背景变色。")]),t._v(" "),a("h5",{attrs:{id:"_4-7-h5自定义属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-7-h5自定义属性"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch02?id=_47-h5%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B1%9E%E6%80%A7",target:"_blank",rel:"noopener noreferrer"}},[t._v("4.7 H5自定义属性"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("自定义属性目的：是为了保存并使用数据，有些数据可以保存到页面中而不用保存到数据库中。")]),t._v(" "),a("h6",{attrs:{id:"_4-7-1-设置h5自定义属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-7-1-设置h5自定义属性"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch02?id=_471-%E8%AE%BE%E7%BD%AEh5%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B1%9E%E6%80%A7",target:"_blank",rel:"noopener noreferrer"}},[t._v("4.7.1 设置H5自定义属性"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("H5规定自定义属性以 "),a("code",[t._v("data-")]),t._v(" 开头作为属性名并赋值。")]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-index")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("h6",{attrs:{id:"_4-7-2-获取h5自定义属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-7-2-获取h5自定义属性"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch02?id=_472-%E8%8E%B7%E5%8F%96h5%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B1%9E%E6%80%A7",target:"_blank",rel:"noopener noreferrer"}},[t._v("4.7.2 获取H5自定义属性"),a("OutboundLink")],1)]),t._v(" "),a("ol",[a("li",[t._v("兼容性获取 "),a("code",[t._v("element.getAttribute('data-index')")])]),t._v(" "),a("li",[t._v("H5新增方法 "),a("code",[t._v("element.dataset.index")]),t._v(" 或 "),a("code",[t._v("element.dataset['index']")]),t._v(" 获取。（>=ie11）")]),t._v(" "),a("li",[t._v("如果自定义属性里面有多个链接的单词，则使用驼峰命名法获取。")])]),t._v(" "),a("p",[t._v("Warning")]),t._v(" "),a("p",[t._v("对于 "),a("code",[t._v("element.dataset.index")]),t._v(" 和 "),a("code",[t._v("element.dataset['index']")]),t._v(" 方法，注意 "),a("code",[t._v("index")]),t._v(" 和 "),a("code",[t._v("data-index")]),t._v(" 中的要对应。")]),t._v(" "),a("h5",{attrs:{id:"_4-8-元素属性操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-8-元素属性操作"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch02?id=_48-%E5%85%83%E7%B4%A0%E5%B1%9E%E6%80%A7%E6%93%8D%E4%BD%9C",target:"_blank",rel:"noopener noreferrer"}},[t._v("4.8 元素属性操作"),a("OutboundLink")],1)]),t._v(" "),a("h6",{attrs:{id:"_4-8-1-获取属性值"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-8-1-获取属性值"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch02?id=_481-%E8%8E%B7%E5%8F%96%E5%B1%9E%E6%80%A7%E5%80%BC",target:"_blank",rel:"noopener noreferrer"}},[t._v("4.8.1 获取属性值"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[a("code",[t._v("element.属性")]),t._v(";：一般用于获取本身自带属性值。")]),t._v(" "),a("li",[a("code",[t._v("element.getAttribute('属性');")]),t._v("：主要获得自定义的属性（标准）我们程序员自定义的属性。")])]),t._v(" "),a("h6",{attrs:{id:"_4-8-2-设置属性值"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-8-2-设置属性值"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch02?id=_482-%E8%AE%BE%E7%BD%AE%E5%B1%9E%E6%80%A7%E5%80%BC",target:"_blank",rel:"noopener noreferrer"}},[t._v("4.8.2 设置属性值"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[a("code",[t._v("element.属性='值';")]),t._v("：设置内置属性值。")]),t._v(" "),a("li",[a("code",[t._v("element.setAttribute('属性', '值');")]),t._v("：设置自定义属性。")])]),t._v(" "),a("p",[t._v("Tip")]),t._v(" "),a("p",[t._v("对于 "),a("code",[t._v("element.setAttribute")]),t._v(" 方法，若属已存在，则更新该属性值；否则，创建一个新属性。")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("div"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAttribute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'index'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ndiv"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAttribute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'class'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'footer'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[t._v("Warning")]),t._v(" "),a("p",[t._v("使用 "),a("code",[t._v("element.属性")]),t._v(" 获取或设置类名时，要用 "),a("code",[t._v("className")]),t._v("，而对于 "),a("code",[t._v("element.setAttribute()")]),t._v(" 方法，直接使用 "),a("code",[t._v("class")]),t._v("，即："),a("code",[t._v("div.setAttribute('class', 'footer')")]),t._v("。")]),t._v(" "),a("h6",{attrs:{id:"_4-8-3-移除属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-8-3-移除属性"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch02?id=_483-%E7%A7%BB%E9%99%A4%E5%B1%9E%E6%80%A7",target:"_blank",rel:"noopener noreferrer"}},[t._v("4.8.3 移除属性"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[a("code",[t._v("element.removeAttribute(属性);")])])]),t._v(" "),a("h4",{attrs:{id:"_5-结点操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-结点操作"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch02?id=_5-%E7%BB%93%E7%82%B9%E6%93%8D%E4%BD%9C",target:"_blank",rel:"noopener noreferrer"}},[t._v("5. 结点操作"),a("OutboundLink")],1)]),t._v(" "),a("h5",{attrs:{id:"_5-1为什么学节点操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-1为什么学节点操作"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch02?id=_51%E4%B8%BA%E4%BB%80%E4%B9%88%E5%AD%A6%E8%8A%82%E7%82%B9%E6%93%8D%E4%BD%9C",target:"_blank",rel:"noopener noreferrer"}},[t._v("5.1为什么学节点操作"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("获取元素通常使用两种方式:")]),t._v(" "),a("ol",[a("li",[t._v("利用DOM提供的方法获取元素，缺点：逻辑性不强、繁琐\n"),a("ul",[a("li",[a("code",[t._v("document.getElementByld()")])]),t._v(" "),a("li",[a("code",[t._v("document.getElementsByTagName()")])]),t._v(" "),a("li",[a("code",[t._v("document.querySelector()")])])])]),t._v(" "),a("li",[t._v("利用 "),a("strong",[t._v("节点层级关系")]),t._v(" 获取元素\n"),a("ul",[a("li",[t._v("利用父子兄节点关系获取元素")]),t._v(" "),a("li",[t._v("优点：逻辑性强")]),t._v(" "),a("li",[t._v("缺点：兼容性稍差")])])])]),t._v(" "),a("h5",{attrs:{id:"_5-2-节点概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-节点概述"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch02?id=_52-%E8%8A%82%E7%82%B9%E6%A6%82%E8%BF%B0",target:"_blank",rel:"noopener noreferrer"}},[t._v("5.2 节点概述"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("网页中的所有内容都是节点(标签、属性、文本、注释等），在DOM中，节点使用 "),a("code",[t._v("node")]),t._v(" 来表示。")]),t._v(" "),a("p",[t._v("HTML DOM 树中的所有节点均可通过 JavaScript 进行访问，所有 HTML 元素（节点）均可被修改，也可以创建或删除。")]),t._v(" "),a("p",[t._v("一般地，节点至少拥有 "),a("code",[t._v("nodeType")]),t._v(" (节点类型)、"),a("code",[t._v("nodeName")]),t._v(" (节点名称）和 "),a("code",[t._v("nodeValue")]),t._v(" (节点值）这三个基本属性。")]),t._v(" "),a("p",[a("strong",[t._v("三种基本节点类型：")])]),t._v(" "),a("ul",[a("li",[t._v("元素节点 "),a("code",[t._v("nodeType")]),t._v(" 为 "),a("code",[t._v("1")])]),t._v(" "),a("li",[t._v("属性节点 "),a("code",[t._v("nodeType")]),t._v(" 为 "),a("code",[t._v("2")])]),t._v(" "),a("li",[t._v("文本节点 "),a("code",[t._v("nodeType")]),t._v(" 为 "),a("code",[t._v("3")]),t._v("（文字、空格、换行）")])]),t._v(" "),a("p",[t._v("实际开发中，主要操作的还是元素节点。")]),t._v(" "),a("h5",{attrs:{id:"_5-3-节点层级"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-节点层级"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch02?id=_53-%E8%8A%82%E7%82%B9%E5%B1%82%E7%BA%A7",target:"_blank",rel:"noopener noreferrer"}},[t._v("5.3 节点层级"),a("OutboundLink")],1)]),t._v(" "),a("h6",{attrs:{id:"_5-3-1-父级节点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-1-父级节点"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch02?id=_531-%E7%88%B6%E7%BA%A7%E8%8A%82%E7%82%B9",target:"_blank",rel:"noopener noreferrer"}},[t._v("5.3.1 父级节点"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("获取离元素最近的父节点，若找不到则返回 "),a("code",[t._v("null")]),t._v("。")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("parentNodeCopy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("h6",{attrs:{id:"_5-3-2-子节点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-2-子节点"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch02?id=_532-%E5%AD%90%E8%8A%82%E7%82%B9",target:"_blank",rel:"noopener noreferrer"}},[t._v("5.3.2 子节点"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("parentNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("childNodesCopy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[a("code",[t._v("parentNode.childNodes")]),t._v(" 返回包含指定 "),a("strong",[t._v("节点的子节点的集合")]),t._v("，该集合为即时更新的集合。")]),t._v(" "),a("p",[t._v("Warning")]),t._v(" "),a("p",[t._v("注意："),a("code",[t._v("parentNode.childNodes")]),t._v(" 包含了所有的子节点，包括元素节点，文本节点等。 如果只想要获得里面的元素节点，则需要专门处理。所以我们一般不提倡使用 "),a("code",[t._v("childNodes")]),t._v("。")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 筛选元素节点")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" ul"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("childNodes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ul"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("childNodes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nodeType "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ul"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("childNodes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])]),a("p",[a("strong",[t._v("更加好的方法：获取子元素节点")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("parentNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("children"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("子节点方法：")]),t._v(" "),a("p",[t._v("① 获取 "),a("strong",[t._v("所有结点")]),t._v(" 中的第一个和最后一个：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("parentNode.firstChild")])]),t._v(" "),a("li",[a("code",[t._v("parentNode.lastChild")])])]),t._v(" "),a("p",[t._v("② 获取 "),a("strong",[t._v("元素节点")]),t._v("中第一个和最后一个")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("parentNode.firstElementChild")])]),t._v(" "),a("li",[a("code",[t._v("parentNode.lastElementChild")])])]),t._v(" "),a("p",[t._v("（>=IE9）")]),t._v(" "),a("p",[t._v("③ "),a("strong",[t._v("实际开发")]),t._v("：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("parentNode.children[0]")])]),t._v(" "),a("li",[a("code",[t._v("parentNode.children[parentNode.children.length -1]")])])]),t._v(" "),a("h6",{attrs:{id:"_5-3-3-兄弟节点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-3-兄弟节点"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch02?id=_533-%E5%85%84%E5%BC%9F%E8%8A%82%E7%82%B9",target:"_blank",rel:"noopener noreferrer"}},[t._v("5.3.3 兄弟节点"),a("OutboundLink")],1)]),t._v(" "),a("ol",[a("li",[a("p",[t._v("返回下一个兄弟节点：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nextSiblingCopy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])])]),t._v(" "),a("li",[a("p",[t._v("返回上一个的兄弟节点：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("node.previousSiblingCopy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[a("code",[t._v("nextsibling")]),t._v(" / "),a("code",[t._v("previousSibling")]),t._v(" 返回当前元素的下/上一个兄弟节点，找不到则返回 "),a("code",[t._v("null")]),t._v("。这个兄弟节点可能是是所有的节点之一（即元素节点、文本节点等）。")])]),t._v(" "),a("li",[a("p",[t._v("返回下一个 "),a("strong",[t._v("兄弟元素节点")]),t._v("（≥IE9）")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nextElementSiblingCopy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])])]),t._v(" "),a("li",[a("p",[t._v("返回上一个 "),a("strong",[t._v("兄弟元素节点")]),t._v("（≥IE9）")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("previousElementSiblingCopy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[a("code",[t._v("nextElementSibling")]),t._v(" / "),a("code",[t._v("previousElementSibling")]),t._v(" 返回当前元素下/上一个兄弟元素节点，找不到则返回 "),a("code",[t._v("null")]),t._v("。")])])]),t._v(" "),a("p",[t._v("Warning")]),t._v(" "),a("p",[t._v("这两个方法（"),a("code",[t._v("nextElementSibling")]),t._v(" / "),a("code",[t._v("previousElementSibling")]),t._v("）有兼容性问题，IE9 以上才支持。")]),t._v(" "),a("p",[t._v("解决方法：封装一个函数。")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 处理 <IE9 兼容性问题")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getNextElementSibling")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("node")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nextSibling"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nodeType "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br")])]),a("h6",{attrs:{id:"_5-3-4-创建并添加节点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-4-创建并添加节点"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch02?id=_534-%E5%88%9B%E5%BB%BA%E5%B9%B6%E6%B7%BB%E5%8A%A0%E8%8A%82%E7%82%B9",target:"_blank",rel:"noopener noreferrer"}},[t._v("5.3.4 创建并添加节点"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tagName"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[a("code",[t._v("document.createElement()")]),t._v(" 方法创建由 "),a("code",[t._v("tagName")]),t._v(" 指定的 HTML 元素。因为这些元素原先不存在，是根据我们的需求动态生成的，所以我们也称为 "),a("strong",[t._v("动态创建元素节点")]),t._v("。")]),t._v(" "),a("p",[t._v("在创建了元素节点后，还需要将节点添加到页面中。"),a("code",[t._v("appendChild()")]),t._v(" 方法可以给元素节点添加子元素节点，若某元素已存在则重复添加，在页面已存在的元素 "),a("strong",[t._v("后面追加新节点")]),t._v("。")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v(" parentNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("chileNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("类似的，也可以使用 "),a("code",[t._v("insertBefore()")]),t._v(" 方法在指定元素的前面插入节点。")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" insertedNode "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" parentNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("insertBefore")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" referenceNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("参数说明：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("insertedNode")]),t._v("：同 "),a("code",[t._v("newNode")]),t._v("，待插入的新节点。")]),t._v(" "),a("li",[a("code",[t._v("parentNode")]),t._v("：被插入的父节点。")]),t._v(" "),a("li",[a("code",[t._v("newNode")]),t._v("：待插入的新节点。")]),t._v(" "),a("li",[a("code",[t._v("referenceNode")]),t._v("：指定元素节点，新节点将插入到该元素节点的前面。")])]),t._v(" "),a("p",[t._v("Tip")]),t._v(" "),a("p",[t._v("在一个页面中要添加元素节点，先创建节点，然后添加节点。")]),t._v(" "),a("h6",{attrs:{id:"_5-3-5-删除节点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-5-删除节点"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch02?id=_535-%E5%88%A0%E9%99%A4%E8%8A%82%E7%82%B9",target:"_blank",rel:"noopener noreferrer"}},[t._v("5.3.5 删除节点"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("DOM 提供了 "),a("code",[t._v("removeChild(childNode)")]),t._v(" 方法，删除一个子节点，并返回删除的节点。其中 "),a("code",[t._v("childNode")]),t._v(" 为待删除的子节点。")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 方式一")]),t._v("\nparentNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeChild")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("childNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 方式二")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" oldChild "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" parentNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeChild")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("childNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("h6",{attrs:{id:"_5-3-6-复制节点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-6-复制节点"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch02?id=_536-%E5%A4%8D%E5%88%B6%E8%8A%82%E7%82%B9",target:"_blank",rel:"noopener noreferrer"}},[t._v("5.3.6 复制节点"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("code",[t._v("node.cloneNode()")]),t._v(" 方法返回调用该方法的节点的一个副本。也称为克隆节点/拷贝节点。其中 "),a("code",[t._v("node")]),t._v(" 为被克隆的元素节点。")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cloneNode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("deep"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("或者")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" newClone "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cloneNode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("deep"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("对于 "),a("code",[t._v("deep")]),t._v(" 参数，可以为 "),a("code",[t._v("true")]),t._v(" 或 "),a("code",[t._v("false")]),t._v("，或为空的：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[a("code",[t._v("deep")]),t._v(" 参数值")]),t._v(" "),a("th",[t._v("含义")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("true")])]),t._v(" "),a("td",[t._v("深拷贝，同时复制节点本身和里面的子节点")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("false")])]),t._v(" "),a("td",[t._v("浅拷贝，只复制节点本身，不复制子节点")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("空")])]),t._v(" "),a("td",[t._v("空，同 "),a("code",[t._v("false")])])])])]),t._v(" "),a("h6",{attrs:{id:"_5-3-7-三种动态创建元素的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-7-三种动态创建元素的区别"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch02?id=_537-%E4%B8%89%E7%A7%8D%E5%8A%A8%E6%80%81%E5%88%9B%E5%BB%BA%E5%85%83%E7%B4%A0%E7%9A%84%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"}},[t._v("5.3.7 三种动态创建元素的区别"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[a("code",[t._v("document.write()")])]),t._v(" "),a("li",[a("code",[t._v("element.innerHTML")])]),t._v(" "),a("li",[a("code",[t._v("element.createElement()")])])]),t._v(" "),a("p",[t._v("区别：")]),t._v(" "),a("ol",[a("li",[a("code",[t._v("document.write()")]),t._v(" 创建元素，是直接将内容写入页面的内容流，但是 "),a("strong",[t._v("当文档流执行完毕，会导致页面全部重绘")]),t._v("。即覆盖原本的页面。")]),t._v(" "),a("li",[a("code",[t._v("innerHTML")]),t._v(" 是将内容写入某个 DOM 节点，不会导致页面全部重绘。")]),t._v(" "),a("li",[a("code",[t._v("innerHTML")]),t._v(" 创建多个元素效率更高（"),a("strong",[t._v("不要拼接字符串，采取数组形式拼接")]),t._v("），结构稍微复杂。")]),t._v(" "),a("li",[a("code",[t._v("createElement()")]),t._v(" 创建多个元素效率稍低一点点，但是结构更清晰。")])]),t._v(" "),a("p",[t._v("总结：不同浏览器下，"),a("code",[t._v("innerHTML")]),t._v(" 效率要比 "),a("code",[t._v("creatElement")]),t._v("高。")]),t._v(" "),a("h4",{attrs:{id:"_6-dom-学习阶段核心总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-dom-学习阶段核心总结"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch02?id=_6-dom-%E5%AD%A6%E4%B9%A0%E9%98%B6%E6%AE%B5%E6%A0%B8%E5%BF%83%E6%80%BB%E7%BB%93",target:"_blank",rel:"noopener noreferrer"}},[t._v("6. DOM 学习阶段核心总结"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("关于 dom 操作，我们主要针对于元素的操作。主要有创（建）、增、删、改、查、属性操作、事件操作。")]),t._v(" "),a("h5",{attrs:{id:"_6-1-创"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-创"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch02?id=_61-%E5%88%9B",target:"_blank",rel:"noopener noreferrer"}},[t._v("6.1 创"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[a("code",[t._v("document.write")])]),t._v(" "),a("li",[a("code",[t._v("innerHTML")])]),t._v(" "),a("li",[a("code",[t._v("createElement")])])]),t._v(" "),a("h5",{attrs:{id:"_6-2-增"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-增"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch02?id=_62-%E5%A2%9E",target:"_blank",rel:"noopener noreferrer"}},[t._v("6.2 增"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[a("code",[t._v("appendChild")])]),t._v(" "),a("li",[a("code",[t._v("insertBefore")])])]),t._v(" "),a("h5",{attrs:{id:"_6-3-删"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-删"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch02?id=_63-%E5%88%A0",target:"_blank",rel:"noopener noreferrer"}},[t._v("6.3 删"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[a("code",[t._v("removeChild")])])]),t._v(" "),a("h5",{attrs:{id:"_6-4-改"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-4-改"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch02?id=_64-%E6%94%B9",target:"_blank",rel:"noopener noreferrer"}},[t._v("6.4 改"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("主要修改 dom 的元素属性，dom 元素的内容、属性，表单的值等。")]),t._v(" "),a("ul",[a("li",[t._v("修改元素属性："),a("code",[t._v("src")]),t._v("、"),a("code",[t._v("href")]),t._v("、"),a("code",[t._v("title")]),t._v(" 等")]),t._v(" "),a("li",[t._v("修改普通元素内容："),a("code",[t._v("innerHTML")]),t._v("、"),a("code",[t._v("innerText")])]),t._v(" "),a("li",[t._v("修改表单元素："),a("code",[t._v("value")]),t._v("、"),a("code",[t._v("type")]),t._v("、"),a("code",[t._v("disabled")]),t._v(" 等")]),t._v(" "),a("li",[t._v("修改元素样式："),a("code",[t._v("style")]),t._v("、"),a("code",[t._v("className")])])]),t._v(" "),a("h5",{attrs:{id:"_6-5-查"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-5-查"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch02?id=_65-%E6%9F%A5",target:"_blank",rel:"noopener noreferrer"}},[t._v("6.5 查"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("主要获取查询dom的元素")]),t._v(" "),a("ul",[a("li",[t._v("DOM提供的API 方法："),a("code",[t._v("getElementById")]),t._v("、"),a("code",[t._v("getElementsByTagName")]),t._v("（"),a("strong",[t._v("古老用法不太推荐")]),t._v("）")]),t._v(" "),a("li",[t._v("H5提供的新方法："),a("code",[t._v("querySelector")]),t._v("、"),a("code",[t._v("querySelectorAll")]),t._v(" 提倡")]),t._v(" "),a("li",[t._v("利用节点操作获取元素：父（"),a("code",[t._v("parentNode")]),t._v(")、子（"),a("code",[t._v("children")]),t._v("）、兄（"),a("code",[t._v("previousElementSibling")]),t._v("、 "),a("code",[t._v("nextElementSibling")]),t._v("）提倡")])]),t._v(" "),a("h5",{attrs:{id:"_6-6-属性操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-6-属性操作"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch02?id=_66-%E5%B1%9E%E6%80%A7%E6%93%8D%E4%BD%9C",target:"_blank",rel:"noopener noreferrer"}},[t._v("6.6 属性操作"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("主要针对于自定义属性")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("setAttribute")]),t._v("：设置dom的属性值")]),t._v(" "),a("li",[a("code",[t._v("getAttribute")]),t._v("：得到dom的属性值")]),t._v(" "),a("li",[a("code",[t._v("removeAttribute")]),t._v("：移除属性")])]),t._v(" "),a("h5",{attrs:{id:"_6-7-事件操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-7-事件操作"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch02?id=_67-%E4%BA%8B%E4%BB%B6%E6%93%8D%E4%BD%9C",target:"_blank",rel:"noopener noreferrer"}},[t._v("6.7 事件操作"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("给元素注册事件，格式："),a("code",[t._v("事件源.事件类型 = 事件处理程序")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("鼠标事件")]),t._v(" "),a("th",[t._v("触发条件")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("onclick")])]),t._v(" "),a("td",[t._v("鼠标点击左键触发")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("onmouseover")])]),t._v(" "),a("td",[t._v("鼠标经过触发")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("onmouseout")])]),t._v(" "),a("td",[t._v("鼠标离开触发")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("onfocus")])]),t._v(" "),a("td",[t._v("获得鼠标焦点触发")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("onblur")])]),t._v(" "),a("td",[t._v("失去鼠标焦点触发")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("onmousemove")])]),t._v(" "),a("td",[t._v("鼠标移动触发")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("onmouseup")])]),t._v(" "),a("td",[t._v("鼠标弹起触发")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("onmousedown")])]),t._v(" "),a("td",[t._v("鼠标按下触发")])])])]),t._v(" "),a("h3",{attrs:{id:"三-事件高级"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三-事件高级"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch03?id=%EF%BC%88%E4%B8%89%EF%BC%89%E4%BA%8B%E4%BB%B6%E9%AB%98%E7%BA%A7",target:"_blank",rel:"noopener noreferrer"}},[t._v("（三）事件高级"),a("OutboundLink")],1)]),t._v(" "),a("h4",{attrs:{id:"_1-注册事件-绑定事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-注册事件-绑定事件"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch03?id=_1-%E6%B3%A8%E5%86%8C%E4%BA%8B%E4%BB%B6%EF%BC%88%E7%BB%91%E5%AE%9A%E4%BA%8B%E4%BB%B6%EF%BC%89",target:"_blank",rel:"noopener noreferrer"}},[t._v("1. 注册事件（绑定事件）"),a("OutboundLink")],1)]),t._v(" "),a("h5",{attrs:{id:"_1-1-注册事件概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-注册事件概述"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch03?id=_11-%E6%B3%A8%E5%86%8C%E4%BA%8B%E4%BB%B6%E6%A6%82%E8%BF%B0",target:"_blank",rel:"noopener noreferrer"}},[t._v("1.1 注册事件概述"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("给元素添加事件，称为注册事件或者绑定事件。 注册事件有两种方式："),a("strong",[t._v("传统方式")]),t._v(" 和 "),a("strong",[t._v("事件监听注册方式")]),t._v("。")]),t._v(" "),a("h6",{attrs:{id:"_1-1-1-传统注册方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-1-传统注册方式"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch03?id=_111-%E4%BC%A0%E7%BB%9F%E6%B3%A8%E5%86%8C%E6%96%B9%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"}},[t._v("1.1.1 传统注册方式"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[t._v("利用on 开头的事件onclick")]),t._v(" "),a("li",[t._v("``")]),t._v(" "),a("li",[a("code",[t._v("btn.onclick = function() {};")])]),t._v(" "),a("li",[t._v("特点：注册事件的 "),a("strong",[t._v("唯一性")])]),t._v(" "),a("li",[t._v("同一个元素同一个事件只能设置一个处理函数，最 后注册的处理函数将会 "),a("strong",[t._v("覆盖")]),t._v(" 前面注册的处理函数。")])]),t._v(" "),a("h6",{attrs:{id:"_1-1-2-事件监听注册方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-2-事件监听注册方式"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch03?id=_112-%E4%BA%8B%E4%BB%B6%E7%9B%91%E5%90%AC%E6%B3%A8%E5%86%8C%E6%96%B9%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"}},[t._v("1.1.2 事件监听注册方式"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[t._v("w3c 标准推荐方式")]),t._v(" "),a("li",[a("code",[t._v("addEventListener()")]),t._v(" 它是一个方法")]),t._v(" "),a("li",[t._v("IE9 之前的 IE 不支持此方法，可使用 "),a("code",[t._v("attachEvent()")]),t._v(" 代替")]),t._v(" "),a("li",[t._v("特点："),a("strong",[t._v("同一个元素同一个事件可以注册多个监听器")])]),t._v(" "),a("li",[t._v("按注册顺序依次执行")])]),t._v(" "),a("h5",{attrs:{id:"_1-2-addeventlistener-事件监听方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-addeventlistener-事件监听方式"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch03?id=_12-addeventlistener-%E4%BA%8B%E4%BB%B6%E7%9B%91%E5%90%AC%E6%96%B9%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"}},[t._v("1.2 addEventListener 事件监听方式"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("eventTarget"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" listener"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" useCapture"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[a("code",[t._v("eventTarget.addEventListener()")]),t._v(" 方法将指定的监听器注册到 "),a("code",[t._v("eventTarget")]),t._v("（目标对象）上，当该对 象触发指定的事件时，就会执行事件处理函数。")]),t._v(" "),a("p",[t._v("该方法接收三个参数：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("type")]),t._v("：事件类型字符串，比如 "),a("code",[t._v("click")]),t._v(" 、"),a("code",[t._v("mouseover")]),t._v("，注意这里不要带 on。")]),t._v(" "),a("li",[a("code",[t._v("listener")]),t._v("：事件处理函数，事件发生时，会调用该监听函数")]),t._v(" "),a("li",[a("code",[t._v("useCapture")]),t._v("：可选参数，是一个布尔值，默认是 "),a("code",[t._v("false")]),t._v("。学完 DOM 事件流后，我们再进一步学习。")])]),t._v(" "),a("p",[t._v("Warning")]),t._v(" "),a("p",[t._v("≥IE9 版本支持")]),t._v(" "),a("h5",{attrs:{id:"_1-3-attachevent-事件监听方式-ie8以及早期版本独有"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-attachevent-事件监听方式-ie8以及早期版本独有"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch03?id=_13-attachevent-%E4%BA%8B%E4%BB%B6%E7%9B%91%E5%90%AC%E6%96%B9%E5%BC%8F%EF%BC%88ie8%E4%BB%A5%E5%8F%8A%E6%97%A9%E6%9C%9F%E7%89%88%E6%9C%AC%E7%8B%AC%E6%9C%89%EF%BC%89",target:"_blank",rel:"noopener noreferrer"}},[t._v("1.3 attachEvent 事件监听方式（IE8以及早期版本独有）"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("eventTarget"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("attachEvent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("eventNameWithOn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" callback"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[a("code",[t._v("eventTarget.attachEvent()")]),t._v(" 方法将指定的监听器注册到 "),a("code",[t._v("eventTarget")]),t._v("（目标对象）上，当该对象触 发指定的事件时，指定的回调函数就会被执行。 该方法接收两个参数：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("eventNameWithOn")]),t._v("：事件类型字符串，比如 "),a("code",[t._v("onclick")]),t._v("、"),a("code",[t._v("onmouseover")]),t._v("，这里要带 "),a("code",[t._v("on")])]),t._v(" "),a("li",[a("code",[t._v("callback")]),t._v("：事件处理函数，当目标触发事件时回调函数被调用")])]),t._v(" "),a("p",[t._v("Warning")]),t._v(" "),a("p",[t._v("IE8 及早期版本独有，在 chrome 不起作用。如要兼容，可自定义兼容新函数。")]),t._v(" "),a("h4",{attrs:{id:"_2-删除事件-解绑事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-删除事件-解绑事件"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch03?id=_2-%E5%88%A0%E9%99%A4%E4%BA%8B%E4%BB%B6%EF%BC%88%E8%A7%A3%E7%BB%91%E4%BA%8B%E4%BB%B6%EF%BC%89",target:"_blank",rel:"noopener noreferrer"}},[t._v("2. 删除事件（解绑事件）"),a("OutboundLink")],1)]),t._v(" "),a("h5",{attrs:{id:"_2-1-传统注册方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-传统注册方式"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch03?id=_21-%E4%BC%A0%E7%BB%9F%E6%B3%A8%E5%86%8C%E6%96%B9%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"}},[t._v("2.1 传统注册方式"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("eventTarget"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onclick "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("h5",{attrs:{id:"_2-2-方法监听注册方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-方法监听注册方式"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch03?id=_22-%E6%96%B9%E6%B3%95%E7%9B%91%E5%90%AC%E6%B3%A8%E5%86%8C%E6%96%B9%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"}},[t._v("2.2 方法监听注册方式"),a("OutboundLink")],1)]),t._v(" "),a("h6",{attrs:{id:"_2-2-1-removeeventlistener-≥ie9"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-1-removeeventlistener-≥ie9"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch03?id=_221-removeeventlistener%EF%BC%88%E2%89%A5ie9%EF%BC%89",target:"_blank",rel:"noopener noreferrer"}},[t._v("2.2.1 removeEventListener（≥IE9）"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("eventTarget"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" listener"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" useCapture"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("Tip")]),t._v(" "),a("p",[t._v("一个对象可能绑定了很多事件，对于 "),a("code",[t._v("removeEventListener")]),t._v(" 方法，需要指定要删除的事件 "),a("code",[t._v("listener")]),t._v("。所以在注册事件的时候需要提前将事件函数封装在一个变量里。然后把变量传给 "),a("code",[t._v("removeEventListener")]),t._v(" 方法。")]),t._v(" "),a("p",[t._v("例如：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" btns "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelectorAll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"button"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("func1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"I \\\'m click(addEventListener)"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    btns"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"click"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" func1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nbtns"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" func1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])]),a("h6",{attrs:{id:"_2-2-2-detachevent-仅适用于ie8及以下"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-2-detachevent-仅适用于ie8及以下"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch03?id=_222-detachevent%EF%BC%88%E4%BB%85%E9%80%82%E7%94%A8%E4%BA%8Eie8%E5%8F%8A%E4%BB%A5%E4%B8%8B%EF%BC%89",target:"_blank",rel:"noopener noreferrer"}},[t._v("2.2.2 detachEvent（仅适用于IE8及以下）"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("eventTarget"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("detachEvent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("eventNameWithOn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" callback"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("h4",{attrs:{id:"_3-dom-事件流"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-dom-事件流"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch03?id=_3-dom-%E4%BA%8B%E4%BB%B6%E6%B5%81",target:"_blank",rel:"noopener noreferrer"}},[t._v("3. DOM 事件流"),a("OutboundLink")],1)]),t._v(" "),a("h5",{attrs:{id:"_3-1-定义"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-定义"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch03?id=_31-%E5%AE%9A%E4%B9%89",target:"_blank",rel:"noopener noreferrer"}},[t._v("3.1 定义"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("strong",[t._v("事件流")]),t._v(" 描述的是从页面中接收事件的顺序。")]),t._v(" "),a("p",[a("strong",[t._v("事件")]),t._v(" 发生时会在元素节点之间 "),a("strong",[t._v("按照特定的顺序")]),t._v(" 传播，这个传播过程即 "),a("strong",[t._v("DOM 事件流")]),t._v("。")]),t._v(" "),a("p",[t._v("比如我们给一个 "),a("code",[t._v("div")]),t._v(" 注册了点击事件。\nDOM 事件流分为3个阶段：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("捕获阶段 => 当前目标阶段 => 冒泡阶段Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("ul",[a("li",[a("p",[a("strong",[t._v("事件冒泡")]),t._v("：IE 最早提出，事件开始时由最具体的元素接收，然后逐级向上传播到到 DOM 最顶层节点的过程。")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("事件捕获")]),t._v("：网景最早提出，由DOM 最顶层节点开始，然后逐级向下传播到到最具体的元素接收的过程。")]),t._v(" "),a("p",[t._v("我们向水里面扔一块石头，首先它会有一个下降的过程，这个过程就可以理解为从最顶层向事件发生的最具 体元素（目标点）的捕获过程；之后会产生泡泡，会在最低点（最具体元素）之后漂浮到水面上，这个过 程相当于事件冒泡。")])])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Hacker-C/Picture-Bed@main/FrontEnd/js1.3f1t9u88n880.png",alt:"js1"}})]),t._v(" "),a("h5",{attrs:{id:"_3-2-注意"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-注意"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch03?id=_32-%E6%B3%A8%E6%84%8F",target:"_blank",rel:"noopener noreferrer"}},[t._v("3.2 注意"),a("OutboundLink")],1)]),t._v(" "),a("ol",[a("li",[t._v("JS 代码中只能执行捕获或者冒泡其中的一个阶段。")]),t._v(" "),a("li",[a("code",[t._v("onclick")]),t._v(" 和 "),a("code",[t._v("attachEvent")]),t._v(" 只能得到冒泡阶段。")]),t._v(" "),a("li",[a("code",[t._v("addEventListener(type, listener[, useCapture])")]),t._v(" 第三个参数如果是 "),a("code",[t._v("true")]),t._v("，表示在事件捕 获阶段调用事件处理程序；如果是 "),a("code",[t._v("false")]),t._v("（不写默认就是 "),a("code",[t._v("false")]),t._v("），表示在事件冒泡阶段调用事件处理 程序。")]),t._v(" "),a("li",[t._v("实际开发中我们很少使用事件捕获，我们 "),a("strong",[t._v("更关注事件冒泡")]),t._v("。")]),t._v(" "),a("li",[a("strong",[t._v("有些事件是没有冒泡的")]),t._v("，比如 "),a("code",[t._v("onblur")]),t._v("、"),a("code",[t._v("onfocus")]),t._v("、"),a("code",[t._v("onmouseenter")]),t._v("、"),a("code",[t._v("onmouseleave")])]),t._v(" "),a("li",[a("strong",[t._v("事件冒泡有时候会带来麻烦，有时候又会帮助很巧妙的做某些事件，我们后面讲解")]),t._v("。")])]),t._v(" "),a("h4",{attrs:{id:"_4-事件对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-事件对象"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch03?id=_4-%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1",target:"_blank",rel:"noopener noreferrer"}},[t._v("4. 事件对象"),a("OutboundLink")],1)]),t._v(" "),a("h5",{attrs:{id:"_4-1-什么是事件对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-什么是事件对象"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch03?id=_41-%E4%BB%80%E4%B9%88%E6%98%AF%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1",target:"_blank",rel:"noopener noreferrer"}},[t._v("4.1 什么是事件对象"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("eventTarget"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onclick")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\neventTarget"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("）\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这个event 就是事件对象，我们还喜欢的写成 e 或者evtCopy to clipboardErrorCopied")]),t._v("\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("ul",[a("li",[t._v("官方解释："),a("code",[t._v("event")]),t._v(" 对象代表事件的状态，比如键盘按键的状态、鼠标的位置、鼠标按钮的状态。")]),t._v(" "),a("li",[t._v("简单理解：事件发生后，跟 "),a("strong",[t._v("事件相关的一系列信息数据的集合")]),t._v(" 都放到这个对象里面，这个对象就是事件对象 "),a("code",[t._v("event")]),t._v("，它有很多属性和方法。")])]),t._v(" "),a("p",[t._v("比如：")]),t._v(" "),a("ol",[a("li",[t._v("谁绑定了这个事件。")]),t._v(" "),a("li",[t._v("鼠标触发事件的话，会得到鼠标的相关信息，如鼠标位置。")]),t._v(" "),a("li",[t._v("键盘触发事件的话，会得到键盘的相关信息，如按了哪个键。")])]),t._v(" "),a("h5",{attrs:{id:"_4-2-事件对象的使用语法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-事件对象的使用语法"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch03?id=_42-%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%BD%BF%E7%94%A8%E8%AF%AD%E6%B3%95",target:"_blank",rel:"noopener noreferrer"}},[t._v("4.2 事件对象的使用语法"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("eventTarget"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onclick")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这个event 就是事件对象，我们还喜欢的写成e 或者evt")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\neventTarget"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这个event 就是事件对象，我们还喜欢的写成e 或者evt")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("）Copy to clipboardErrorCopied\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("p",[t._v("这个 "),a("code",[t._v("event")]),t._v(" 是个形参，系统帮我们设定为事件对象，不需要传递实参过去。\n当我们注册事件时，"),a("code",[t._v("event")]),t._v(" 对象就会被系统自动创建，并依次传递给事件监听器（事件处理函数）。")]),t._v(" "),a("h5",{attrs:{id:"_4-3-事件对象的兼容性方案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-事件对象的兼容性方案"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch03?id=_43-%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%85%BC%E5%AE%B9%E6%80%A7%E6%96%B9%E6%A1%88",target:"_blank",rel:"noopener noreferrer"}},[t._v("4.3 事件对象的兼容性方案"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("事件对象本身的获取存在兼容问题：")]),t._v(" "),a("ol",[a("li",[t._v("标准浏览器中是浏览器给方法传递的参数，只需要定义形参 "),a("code",[t._v("e")]),t._v(" 就可以获取到。")]),t._v(" "),a("li",[t._v("在IE6~8 中，浏览器不会给方法传递参数，如果需要的话，需要到 "),a("code",[t._v("window.event")]),t._v(" 中获取查找。")])]),t._v(" "),a("p",[t._v("解决方法：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("e "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("h5",{attrs:{id:"_4-4-事件对象的常见属性和方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-事件对象的常见属性和方法"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch03?id=_44-%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B8%B8%E8%A7%81%E5%B1%9E%E6%80%A7%E5%92%8C%E6%96%B9%E6%B3%95",target:"_blank",rel:"noopener noreferrer"}},[t._v("4.4 事件对象的常见属性和方法"),a("OutboundLink")],1)]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("事件对象属性方法")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("e.target")])]),t._v(" "),a("td",[t._v("返回触发事件的对象（标准）")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("e.srcElement")])]),t._v(" "),a("td",[t._v("返回触发事件的对象（非标准）")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("e.type")])]),t._v(" "),a("td",[t._v("返回事件类型")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("e.preventDefault()")])]),t._v(" "),a("td",[t._v("阻止默认事件（标准）")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("e.returnValue = true")])]),t._v(" "),a("td",[t._v("阻止默认事件（非标准，IE678）")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("e.stopPropagation()")])]),t._v(" "),a("td",[t._v("阻止冒泡（标准）")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("e.cancelBubble")])]),t._v(" "),a("td",[t._v("阻止冒泡（非标准，IE678）")])])])]),t._v(" "),a("p",[t._v("Warning")]),t._v(" "),a("p",[t._v("非标准（IE678）方案只需要了解。")]),t._v(" "),a("h6",{attrs:{id:"_4-4-1-事件对象属性-e-target-和-this-的比较"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-1-事件对象属性-e-target-和-this-的比较"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch03?id=_441-%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7-etarget-%E5%92%8C-this-%E7%9A%84%E6%AF%94%E8%BE%83",target:"_blank",rel:"noopener noreferrer"}},[t._v("4.4.1 事件对象属性 "),a("code",[t._v("e.target")]),t._v(" 和 "),a("code",[t._v("this")]),t._v(" 的比较"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[a("code",[t._v("e.target")]),t._v("："),a("code",[t._v("e.target")]),t._v(" 返回的是触发事件的对象（元素），点击了哪个元素触发了事件，就返回那个元素。")]),t._v(" "),a("li",[a("code",[t._v("this")]),t._v("：事件绑定的元素，这个事件函数的调用者。")])]),t._v(" "),a("p",[t._v("Tip")]),t._v(" "),a("p",[t._v("点击了某一个元素节点，这个节点不一定绑定了事件。但是由于 DOM 事件流的冒泡现象，会触发其父节点所绑定的事件。")]),t._v(" "),a("p",[t._v("一个简单的例子：")]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("ul")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("123"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("456"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("789"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("ul")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}},[a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" ul "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ul"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        ul"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 点击 li 中的 123")]),t._v("\n            console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// <li>...</li>")]),t._v("\n            console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// <ul>...</ul>")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    ")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br")])]),a("h6",{attrs:{id:"_4-4-2-阻止事件默认行为"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-2-阻止事件默认行为"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch03?id=_442-%E9%98%BB%E6%AD%A2%E4%BA%8B%E4%BB%B6%E9%BB%98%E8%AE%A4%E8%A1%8C%E4%B8%BA",target:"_blank",rel:"noopener noreferrer"}},[t._v("4.4.2 阻止事件默认行为"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("阻止 a 链接跳转:")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("标准")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("preventDefault")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])])]),t._v(" "),a("li",[a("p",[t._v("兼容IE678")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onclick")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("returnValue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 或者")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])])])]),t._v(" "),a("h4",{attrs:{id:"_5-阻止事件冒泡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-阻止事件冒泡"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch03?id=_5-%E9%98%BB%E6%AD%A2%E4%BA%8B%E4%BB%B6%E5%86%92%E6%B3%A1",target:"_blank",rel:"noopener noreferrer"}},[t._v("5. 阻止事件冒泡"),a("OutboundLink")],1)]),t._v(" "),a("h5",{attrs:{id:"_5-1-阻止事件冒泡的两种方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-阻止事件冒泡的两种方式"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch03?id=_51-%E9%98%BB%E6%AD%A2%E4%BA%8B%E4%BB%B6%E5%86%92%E6%B3%A1%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"}},[t._v("5.1 阻止事件冒泡的两种方式"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("事件冒泡：开始时由最具体的元素接收，然后逐级向上传播到到 DOM 最顶层节点。 事件冒泡本身的特性，会带来的坏处，也会带来的好处，需要我们灵活掌握。")]),t._v(" "),a("p",[t._v("阻止事件冒泡：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("标准写法：利用事件对象里面的")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("stopPropagation()\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("方法。")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("stopPropagation")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])])]),t._v(" "),a("li",[a("p",[t._v("非标准写法：IE 6-8 利用事件对象")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("cancelBubble\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("属性")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cancelBubble "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])])])]),t._v(" "),a("p",[t._v("Tip")]),t._v(" "),a("p",[t._v("给相应的子元素节点设置事件的 "),a("code",[t._v("stopPropagation()")]),t._v(" 方法，相当于在这个节点阻断了事件冒泡。事件无法继续传递至父节点。")]),t._v(" "),a("p",[t._v("一个例子：点击 son 子盒子，在设置阻断事件冒泡前，点击子盒子也触发了父盒子 fahter 的事件。设置了之后，打印台不再输出 father。")]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("father"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("son"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}},[a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" father "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('".father"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" son "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" father"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("firstElementChild"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    father"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"fahter"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    son"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("stopPropagation")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br")])]),a("h5",{attrs:{id:"_5-2-阻止事件冒泡的兼容性解决方案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-阻止事件冒泡的兼容性解决方案"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch03?id=_52-%E9%98%BB%E6%AD%A2%E4%BA%8B%E4%BB%B6%E5%86%92%E6%B3%A1%E7%9A%84%E5%85%BC%E5%AE%B9%E6%80%A7%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88",target:"_blank",rel:"noopener noreferrer"}},[t._v("5.2 阻止事件冒泡的兼容性解决方案"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stopPropagation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("stopPropagation")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cancelBubble "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("h4",{attrs:{id:"_6-事件委托-代理、委派"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-事件委托-代理、委派"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch03?id=_6-%E4%BA%8B%E4%BB%B6%E5%A7%94%E6%89%98%EF%BC%88%E4%BB%A3%E7%90%86%E3%80%81%E5%A7%94%E6%B4%BE%EF%BC%89",target:"_blank",rel:"noopener noreferrer"}},[t._v("6. 事件委托（代理、委派）"),a("OutboundLink")],1)]),t._v(" "),a("h5",{attrs:{id:"_6-1-前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-前言"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch03?id=_61-%E5%89%8D%E8%A8%80",target:"_blank",rel:"noopener noreferrer"}},[t._v("6.1 前言"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("事件冒泡本身的特性，会带来的坏处，也会带来的好处，需要我们灵活掌握。生活中有如下场景：")]),t._v(" "),a("ul",[a("li",[t._v("咱们班有100个学生，快递员有100个快递，如果一个个的送花费时间较长。同时每个学生领取的时候，也需 要排队领取，也花费时间较长，何如？")]),t._v(" "),a("li",[a("strong",[t._v("解决方案")]),t._v("：快递员把100个快递，委托给班主任，班主任把这些快递放到办公室，同学们下课自行领取即可。")]),t._v(" "),a("li",[a("strong",[t._v("优势")]),t._v("：快递员省事，委托给班主任就可以走了。同学们领取也方便，因为相信班主任。")])]),t._v(" "),a("p",[t._v("事件冒泡本身的特性，"),a("strong",[t._v("会带来的坏处，也会带来的好处")]),t._v("，需要我们灵活掌握。程序中也有如此场景：")]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("ul")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("知否知否，应该有弹框在手"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("知否知否，应该有弹框在手"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("知否知否，应该有弹框在手"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("知否知否，应该有弹框在手"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("知否知否，应该有弹框在手"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("ul")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])]),a("p",[t._v("点击每个 "),a("code",[t._v("li")]),t._v(" 都会弹出对话框，以前需要给每个 "),a("code",[t._v("li")]),t._v(" 注册事件，是非常辛苦的，而且访问 DOM 的次数越多，这就会延长整个页面的交互就绪时间。")]),t._v(" "),a("h5",{attrs:{id:"_6-2-事件委托的原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-事件委托的原理"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch03?id=_62-%E4%BA%8B%E4%BB%B6%E5%A7%94%E6%89%98%E7%9A%84%E5%8E%9F%E7%90%86",target:"_blank",rel:"noopener noreferrer"}},[t._v("6.2 事件委托的原理"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[t._v("事件委托：也称为事件代理，在jQuery 里面称为事件委派。")]),t._v(" "),a("li",[t._v("原理："),a("strong",[t._v("不是每个子节点单独设置事件监听器，而是事件监听器设置在其父节点上，然后利用冒泡原理影响设置每个子节点")]),t._v("。\n以上案例：给 "),a("code",[t._v("ul")]),t._v(" 注册点击事件，然后利用事件对象的 "),a("code",[t._v("target")]),t._v(" 来找到当前点击的 "),a("code",[t._v("li")]),t._v("，因为点击 "),a("code",[t._v("li")]),t._v("，事件会冒泡到ul 上，"),a("code",[t._v("ul")]),t._v(" 有注册事件，就会触发事件监听器。")]),t._v(" "),a("li",[t._v("作用：我们 "),a("strong",[t._v("只操作了一次 DOM ，提高了程序的性能。")])])]),t._v(" "),a("h4",{attrs:{id:"_7-常用的鼠标事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-常用的鼠标事件"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch03?id=_7-%E5%B8%B8%E7%94%A8%E7%9A%84%E9%BC%A0%E6%A0%87%E4%BA%8B%E4%BB%B6",target:"_blank",rel:"noopener noreferrer"}},[t._v("7. 常用的鼠标事件"),a("OutboundLink")],1)]),t._v(" "),a("h5",{attrs:{id:"_7-1-常用的鼠标事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-常用的鼠标事件"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch03?id=_71-%E5%B8%B8%E7%94%A8%E7%9A%84%E9%BC%A0%E6%A0%87%E4%BA%8B%E4%BB%B6",target:"_blank",rel:"noopener noreferrer"}},[t._v("7.1 常用的鼠标事件"),a("OutboundLink")],1)]),t._v(" "),a("ol",[a("li",[a("p",[t._v("禁止鼠标右键菜单\n"),a("code",[t._v("contextmenu")]),t._v(" 主要控制应该何时显示上下文菜单，主要用于程序员取消默认的上下文菜单。")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'contextmenu'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("preventDefault")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])])]),t._v(" "),a("li",[a("p",[t._v("禁止鼠标选中（"),a("code",[t._v("selectstart")]),t._v(" 开始选中）")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'selectstart'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("preventDefault")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])])])]),t._v(" "),a("h5",{attrs:{id:"_7-2-鼠标事件对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-鼠标事件对象"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch03?id=_72-%E9%BC%A0%E6%A0%87%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1",target:"_blank",rel:"noopener noreferrer"}},[t._v("7.2 鼠标事件对象"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("code",[t._v("event")]),t._v(" 对象代表事件的状态，跟事件相关的一系列信息的集合。现阶段我们主要是用鼠标事件对象 "),a("code",[t._v("MouseEvent")]),t._v(" 和键盘事件对象 "),a("code",[t._v("KeyboardEvent")]),t._v("。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("鼠标事件对象")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("e.clientX")])]),t._v(" "),a("td",[t._v("返回鼠标相对于浏览器窗口可视区的 "),a("code",[t._v("X")]),t._v(" 坐标")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("e.clientY")])]),t._v(" "),a("td",[t._v("返回鼠标相对于浏览器窗口可视区的 "),a("code",[t._v("Y")]),t._v(" 坐标")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("e.pageX")])]),t._v(" "),a("td",[t._v("返回鼠标相对于文档页面的 "),a("code",[t._v("X")]),t._v(" 坐标IE9+支持")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("e.pageY")])]),t._v(" "),a("td",[t._v("返回鼠标相对于文档页面的 "),a("code",[t._v("Y")]),t._v(" 坐标IE9+支持")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("e.screenX")])]),t._v(" "),a("td",[t._v("返回鼠标相对于电脑屏幕的 "),a("code",[t._v("X")]),t._v(" 坐标")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("e.screenY")])]),t._v(" "),a("td",[t._v("返回鼠标相对于电脑屏幕的 "),a("code",[t._v("Y")]),t._v(" 坐标")])])])]),t._v(" "),a("h4",{attrs:{id:"_8-常用的键盘事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-常用的键盘事件"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch03?id=_8-%E5%B8%B8%E7%94%A8%E7%9A%84%E9%94%AE%E7%9B%98%E4%BA%8B%E4%BB%B6",target:"_blank",rel:"noopener noreferrer"}},[t._v("8. 常用的键盘事件"),a("OutboundLink")],1)]),t._v(" "),a("h5",{attrs:{id:"_8-1-常用的键盘事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-1-常用的键盘事件"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch03?id=_81-%E5%B8%B8%E7%94%A8%E7%9A%84%E9%94%AE%E7%9B%98%E4%BA%8B%E4%BB%B6",target:"_blank",rel:"noopener noreferrer"}},[t._v("8.1 常用的键盘事件"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("事件除了使用鼠标触发，还可以使用键盘触发。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("键盘事件")]),t._v(" "),a("th",[t._v("触发事件")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("onkeyup")])]),t._v(" "),a("td",[t._v("某个键盘按键被松开时触发")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("onkeydown")])]),t._v(" "),a("td",[t._v("某个键盘按键被按下时触发")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("onkeypress")])]),t._v(" "),a("td",[t._v("某个键盘按键被按下时触发，但是不识别功能键（ctrl、shif、箭头等）")])])])]),t._v(" "),a("p",[t._v("Warning")]),t._v(" "),a("p",[a("code",[t._v("onkeypress")]),t._v(" 已废弃。虽然还是有浏览器支持，但是未来可能会停止支持。请使用 "),a("code",[t._v("keydown")]),t._v(" 代替。")]),t._v(" "),a("h5",{attrs:{id:"_8-2-键盘事件对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-2-键盘事件对象"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch03?id=_82-%E9%94%AE%E7%9B%98%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1",target:"_blank",rel:"noopener noreferrer"}},[t._v("8.2 键盘事件对象"),a("OutboundLink")],1)]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("键盘事件对象属性")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("key")])]),t._v(" "),a("td",[t._v("返回物理按键的名称值（推荐使用）")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("keyCode")])]),t._v(" "),a("td",[t._v("返回该键的ASCII值")])])])]),t._v(" "),a("p",[t._v("Warning")]),t._v(" "),a("p",[a("code",[t._v("keyCode")]),t._v(" 已废弃: 该特性已经从 Web 标准中删除，虽然一些浏览器目前仍然支持它，但也许会在未来的某个时间停止支持，请尽量不要使用该特性。一定要用，请使用 "),a("code",[t._v("key")]),t._v(" 代替。——MDN")]),t._v(" "),a("h3",{attrs:{id:"四-bom-基础"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四-bom-基础"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch04?id=%EF%BC%88%E5%9B%9B%EF%BC%89bom-%E5%9F%BA%E7%A1%80",target:"_blank",rel:"noopener noreferrer"}},[t._v("（四）BOM 基础"),a("OutboundLink")],1)]),t._v(" "),a("h4",{attrs:{id:"_1-bom-概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-bom-概述"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch04?id=_1-bom-%E6%A6%82%E8%BF%B0",target:"_blank",rel:"noopener noreferrer"}},[t._v("1. BOM 概述"),a("OutboundLink")],1)]),t._v(" "),a("h5",{attrs:{id:"_1-1-bom-概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-bom-概述"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch04?id=_11-bom-%E6%A6%82%E8%BF%B0",target:"_blank",rel:"noopener noreferrer"}},[t._v("1.1 BOM 概述"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("BOM（Browser Object Model）即浏览器对象模型，它提供了独立于内容而与浏览器窗口进行交互的对象，其核心对象是 "),a("code",[t._v("window")]),t._v("。")]),t._v(" "),a("p",[t._v("BOM 由一系列相关的对象构成，并且每个对象都提供了很多方法与属性。")]),t._v(" "),a("p",[t._v("BOM 缺乏标准，JavaScript 语法的标准化组织是ECMA，DOM 的标准化组织是 W3C，BOM 最初是Netscape 浏览器标准的一部分")]),t._v(" "),a("h5",{attrs:{id:"_1-2-dom-vs-bom"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-dom-vs-bom"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch04?id=_12-dom-vs-bom",target:"_blank",rel:"noopener noreferrer"}},[t._v("1.2 DOM vs BOM"),a("OutboundLink")],1)]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("DOM")]),t._v(" "),a("th",[t._v("BOM")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("文档对象模型")]),t._v(" "),a("td",[t._v("浏览器对象模型")])]),t._v(" "),a("tr",[a("td",[t._v("DOM 就是把「文档」当做一个「对象」来看待")]),t._v(" "),a("td",[t._v("把「浏览器」当做一个「对象」来看待")])]),t._v(" "),a("tr",[a("td",[t._v("DOM 的顶级对象是 "),a("code",[t._v("document")])]),t._v(" "),a("td",[t._v("BOM 的顶级对象是 "),a("code",[t._v("window")])])]),t._v(" "),a("tr",[a("td",[t._v("DOM 主要学习的是操作页面元素")]),t._v(" "),a("td",[t._v("BOM 学习的是浏览器窗口交互的一些对象")])]),t._v(" "),a("tr",[a("td",[t._v("DOM 是W3C 标准规范")]),t._v(" "),a("td",[t._v("BOM 是浏览器厂商在各自浏览器上定义的，兼容性较差")])])])]),t._v(" "),a("h5",{attrs:{id:"_1-3-bom-的构成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-bom-的构成"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch04?id=_13-bom-%E7%9A%84%E6%9E%84%E6%88%90",target:"_blank",rel:"noopener noreferrer"}},[t._v("1.3 BOM 的构成"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("BOM 比 DOM 更加强大，包含了 DOM。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Hacker-C/Picture-Bed@main/JavaScript/bom1.3ss67gfjn6c.png",alt:"bom1"}})]),t._v(" "),a("p",[a("strong",[a("code",[t._v("window")]),t._v(" 对象是浏览器的顶级对象")]),t._v("，它具有双重角色。")]),t._v(" "),a("ol",[a("li",[t._v("它是JS 访问浏览器窗口的一个接口。")]),t._v(" "),a("li",[t._v("它是一个全局对象。定义在全局作用域中的变量、函数都会变成 "),a("code",[t._v("window")]),t._v(" 对象的属性和方法。 在调用的时候可以省略 "),a("code",[t._v("window")]),t._v("，前面学习的对话框都属于 "),a("code",[t._v("window")]),t._v(" 对象方法，如 "),a("code",[t._v("alert()")]),t._v("、"),a("code",[t._v("prompt()")]),t._v(" 等。")])]),t._v(" "),a("p",[t._v("Tip")]),t._v(" "),a("p",[a("code",[t._v("window")]),t._v(" 下的一个特殊属性 "),a("code",[t._v("window.name")]),t._v("。")]),t._v(" "),a("h4",{attrs:{id:"_2-window-对象的常见事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-window-对象的常见事件"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch04?id=_2-window-%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B8%B8%E8%A7%81%E4%BA%8B%E4%BB%B6",target:"_blank",rel:"noopener noreferrer"}},[t._v("2. window 对象的常见事件"),a("OutboundLink")],1)]),t._v(" "),a("h5",{attrs:{id:"_2-1-窗口加载事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-窗口加载事件"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch04?id=_21-%E7%AA%97%E5%8F%A3%E5%8A%A0%E8%BD%BD%E4%BA%8B%E4%BB%B6",target:"_blank",rel:"noopener noreferrer"}},[t._v("2.1 窗口加载事件"),a("OutboundLink")],1)]),t._v(" "),a("h6",{attrs:{id:"_2-1-1-onload"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1-onload"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch04?id=_211-onload",target:"_blank",rel:"noopener noreferrer"}},[t._v("2.1.1 onload"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onload")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("Copy to clipboardErrorCopied\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("或者")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"load"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("Copy to clipboardErrorCopied\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[a("code",[t._v("window.onload")]),t._v(" 是窗口（页面）加载事件,当文档内容完全加载完成会触发该事件（"),a("strong",[t._v("包括图像、脚本文件、CSS文件等")]),t._v("）, 就调用的处理函数。")]),t._v(" "),a("p",[t._v("注意：")]),t._v(" "),a("ol",[a("li",[t._v("有了 "),a("code",[t._v("window.onload")]),t._v(" 就可以把 JS 代码写到页面元素的上方，因为onload 是等页面内容全部加载完毕， 再去执行处理函数。")]),t._v(" "),a("li",[a("code",[t._v("window.onload")]),t._v(" 传统注册事件方式只能写一次，如果有多个，会以最后一个 "),a("code",[t._v("window.onload")]),t._v(" 为准。")]),t._v(" "),a("li",[t._v("如果使用 "),a("code",[t._v("addEventListener")]),t._v(" 则没有限制。")])]),t._v(" "),a("h6",{attrs:{id:"_2-1-2-domcontentloaded"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-2-domcontentloaded"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch04?id=_212-domcontentloaded",target:"_blank",rel:"noopener noreferrer"}},[t._v("2.1.2 DOMContentLoaded"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'DOMContentLoaded'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("Copy to clipboardErrorCopied\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[a("code",[t._v("DOMContentLoaded")]),t._v(" 事件触发时，仅当DOM加载完成，"),a("strong",[t._v("不包括样式表，图片，flash等等")]),t._v("。（Ie9以上才支持。）")]),t._v(" "),a("p",[t._v("Tip")]),t._v(" "),a("p",[t._v("如果页面的图片很多的话, 从用户访问到 "),a("code",[t._v("onload")]),t._v(" 触发可能需要较长的时间, 交互效果就不能实现，必然影响用户的体验，此时用 "),a("code",[t._v("DOMContentLoaded")]),t._v(" 事件比较合适。")]),t._v(" "),a("h4",{attrs:{id:"_2-2-调整窗口大小事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-调整窗口大小事件"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch04?id=_22-%E8%B0%83%E6%95%B4%E7%AA%97%E5%8F%A3%E5%A4%A7%E5%B0%8F%E4%BA%8B%E4%BB%B6",target:"_blank",rel:"noopener noreferrer"}},[t._v("2.2 调整窗口大小事件"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onresize")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nwindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"resize"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("Copy to clipboardErrorCopied\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[a("code",[t._v("window.onresize")]),t._v(" 是调整窗口大小加载事件, 当触发时就调用的处理函数。 注意：")]),t._v(" "),a("ol",[a("li",[t._v("只要窗口大小发生像素变化，就会触发这个事件。")]),t._v(" "),a("li",[t._v("我们经常 "),a("strong",[t._v("利用这个事件完成响应式布局")]),t._v("。")]),t._v(" "),a("li",[a("code",[t._v("window.innerWidth")]),t._v(" 是当前屏幕的宽度")])]),t._v(" "),a("h4",{attrs:{id:"_3-定时器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-定时器"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch04?id=_3-%E5%AE%9A%E6%97%B6%E5%99%A8",target:"_blank",rel:"noopener noreferrer"}},[t._v("3. 定时器"),a("OutboundLink")],1)]),t._v(" "),a("h5",{attrs:{id:"_3-1-两种定时器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-两种定时器"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch04?id=_31-%E4%B8%A4%E7%A7%8D%E5%AE%9A%E6%97%B6%E5%99%A8",target:"_blank",rel:"noopener noreferrer"}},[t._v("3.1 两种定时器"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("code",[t._v("window")]),t._v(" 对象给我们提供了2 个非常好用的方法——定时器。")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("setTimeout()")])]),t._v(" "),a("li",[a("code",[t._v("setInterval()")])])]),t._v(" "),a("h5",{attrs:{id:"_3-2-settimeout-定时器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-settimeout-定时器"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch04?id=_32-settimeout-%E5%AE%9A%E6%97%B6%E5%99%A8",target:"_blank",rel:"noopener noreferrer"}},[t._v("3.2 setTimeout() 定时器"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("调用函数 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 延迟的毫秒数"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[a("code",[t._v("setTimeout()")]),t._v(" 方法用于设置一个定时器，该定时器在定时器到期后执行调用函数。")]),t._v(" "),a("p",[t._v("注意：")]),t._v(" "),a("ol",[a("li",[a("code",[t._v("window")]),t._v(" 可以省略。")]),t._v(" "),a("li",[t._v("这个调用函数可以 "),a("strong",[t._v("直接写函数，或者写函数名或者采取字符串'函数名()'")]),t._v(" 三种形式。第三种不推荐。")]),t._v(" "),a("li",[t._v("延迟的毫秒数省略默认是 "),a("code",[t._v("0")]),t._v("，如果写，"),a("strong",[t._v("必须是毫秒")]),t._v("。")]),t._v(" "),a("li",[t._v("因为定时器可能有很多，所以我们 "),a("strong",[t._v("经常给定时器赋值一个标识符")]),t._v("。")])]),t._v(" "),a("p",[a("code",[t._v("setTimeout()")]),t._v(" 这个调用函数我们也称为 "),a("strong",[t._v("回调函数callback")]),t._v("。 普通函数是按照代码顺序直接调用。而这个函数，需要等待时间，时间到了才去调用这个函数，因此称为回调函数。")]),t._v(" "),a("p",[t._v("简单理解：回调，就是回头调用的意思。上一件事干完，再回头再调用这个函数。")]),t._v(" "),a("p",[t._v("以前我们讲的 "),a("code",[t._v("element.onclick = function(){}")]),t._v(" 或者 "),a("code",[t._v("element.addEventListener(“click”, fn);")]),t._v(" 里面的函数也是回调函数。")]),t._v(" "),a("h5",{attrs:{id:"_3-3-停止-settimeout-定时器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-停止-settimeout-定时器"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch04?id=_33-%E5%81%9C%E6%AD%A2-settimeout-%E5%AE%9A%E6%97%B6%E5%99%A8",target:"_blank",rel:"noopener noreferrer"}},[t._v("3.3 停止 setTimeout() 定时器"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clearTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("timeoutID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[a("code",[t._v("clearTimeout()")]),t._v(" 方法用于取消先前通过调用 "),a("code",[t._v("setTimeout()")]),t._v(" 建立的定时器。")]),t._v(" "),a("p",[t._v("Tip")]),t._v(" "),a("ol",[a("li",[a("code",[t._v("window")]),t._v(" 可以省略。")]),t._v(" "),a("li",[t._v("里面的 "),a("strong",[t._v("参数就是定时器的标识符")]),t._v("。")])]),t._v(" "),a("h5",{attrs:{id:"_3-4-setinterval-定时器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-setinterval-定时器"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch04?id=_34-setinterval-%E5%AE%9A%E6%97%B6%E5%99%A8",target:"_blank",rel:"noopener noreferrer"}},[t._v("3.4 setInterval() 定时器"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setInterval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("回调函数 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 间隔的毫秒数"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[a("code",[t._v("setInterval()")]),t._v(" 方法重复调用一个函数，每隔这个时间，就去调用一次回调函数。")]),t._v(" "),a("p",[t._v("注意：")]),t._v(" "),a("ol",[a("li",[a("code",[t._v("window")]),t._v(" 可以省略。")]),t._v(" "),a("li",[t._v("这个调用函数可以 "),a("strong",[t._v("直接写函数，或者写函数名或者采取字符串'函数名()'")]),t._v(" 三种形式。")]),t._v(" "),a("li",[t._v("间隔的毫秒数省略默认是 "),a("code",[t._v("0")]),t._v("，如果写，必须是毫秒，表示每隔多少毫秒就自动调用这个函数。")]),t._v(" "),a("li",[t._v("因为定时器可能有很多，所以我们经常给定时器赋值一个标识符。")]),t._v(" "),a("li",[a("strong",[t._v("第一次执行也是间隔毫秒数之后执行，之后每隔毫秒数就执行一次")]),t._v("。")])]),t._v(" "),a("h5",{attrs:{id:"_3-4-倒计时案例分析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-倒计时案例分析"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch04?id=_34-%E5%80%92%E8%AE%A1%E6%97%B6%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90",target:"_blank",rel:"noopener noreferrer"}},[t._v("3.4 倒计时案例分析"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Tip")]),t._v(" "),a("p",[t._v("定时器案例分析：三个盒子分别放时、分、秒。")]),t._v(" "),a("ol",[a("li",[t._v("这个倒计时是不断变化的，因此需要定时器来自动变化（setInterval）")]),t._v(" "),a("li",[t._v("三个黑色盒子里面分别存放时分秒")]),t._v(" "),a("li",[t._v("三个黑色盒子利用innerHTML 放入计算的小时分钟秒数")]),t._v(" "),a("li",[t._v("第一次执行也是间隔毫秒数，因此刚刷新页面会有空白")]),t._v(" "),a("li",[t._v("最好采取封装函数的方式，这样可以先调用一次这个函数，防止刚开始刷新页面有空白问题")])]),t._v(" "),a("h5",{attrs:{id:"_3-5-停止-setinterval-定时器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-停止-setinterval-定时器"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch04?id=_35-%E5%81%9C%E6%AD%A2-setinterval-%E5%AE%9A%E6%97%B6%E5%99%A8",target:"_blank",rel:"noopener noreferrer"}},[t._v("3.5 停止 setInterval() 定时器"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clearInterval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("intervalID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[a("code",[t._v("clearInterval()")]),t._v(" 方法取消了先前通过调用 "),a("code",[t._v("setInterval()")]),t._v(" 建立的定时器。")]),t._v(" "),a("p",[t._v("注意：")]),t._v(" "),a("ol",[a("li",[a("code",[t._v("window")]),t._v(" 可以省略。")]),t._v(" "),a("li",[t._v("里面的参数就是定时器的标识符。")])]),t._v(" "),a("h5",{attrs:{id:"_3-6-this-指向问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-this-指向问题"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch04?id=_36-this-%E6%8C%87%E5%90%91%E9%97%AE%E9%A2%98",target:"_blank",rel:"noopener noreferrer"}},[t._v("3.6 this 指向问题"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("code",[t._v("this")]),t._v(" 的指向在函数定义的时候是确定不了的，只有函数执行的时候才能确定 "),a("code",[t._v("this")]),t._v(" 到底指向谁，一般情况下的最终指向的是那个调用它的对象 现阶段，我们先了解一下几个 "),a("code",[t._v("this")]),t._v(" 指向：")]),t._v(" "),a("ol",[a("li",[t._v("全局作用域或者普通函数中 "),a("code",[t._v("this")]),t._v(" 指向全局对象 "),a("code",[t._v("window")]),t._v("（注意定时器里面的 "),a("code",[t._v("this")]),t._v(" 指向 "),a("code",[t._v("window")]),t._v("）")]),t._v(" "),a("li",[t._v("方法调用中谁调用 "),a("code",[t._v("this")]),t._v(" 指向谁")]),t._v(" "),a("li",[t._v("构造函数中 "),a("code",[t._v("this")]),t._v(" 指向构造函数的实例")])]),t._v(" "),a("h4",{attrs:{id:"_4-js-执行机制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-js-执行机制"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch04?id=_4-js-%E6%89%A7%E8%A1%8C%E6%9C%BA%E5%88%B6",target:"_blank",rel:"noopener noreferrer"}},[t._v("4. JS 执行机制"),a("OutboundLink")],1)]),t._v(" "),a("h5",{attrs:{id:"_4-1-js-是单线程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-js-是单线程"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch04?id=_41-js-%E6%98%AF%E5%8D%95%E7%BA%BF%E7%A8%8B",target:"_blank",rel:"noopener noreferrer"}},[t._v("4.1 JS 是单线程"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("JavaScript 语言的一大特点就是 "),a("strong",[t._v("单线程")]),t._v("，也就是说，"),a("strong",[t._v("同一个时间只能做一件事")]),t._v("。这是因为 Javascript 这门脚 本语言诞生的使命所致——JavaScript 是为处理页面中用户的交互，以及操作DOM 而诞生的。比如我们对 某个DOM 元素进行添加和删除操作，不能同时进行。应该先进行添加，之后再删除。")]),t._v(" "),a("p",[t._v("单线程就意味着，所有任务需要排队，前一个任务结束，才会执行后一个任务。这样所导致的问题是：如果 JS 执行的时间过长，这样就会造成页面的渲染不连贯，导致页面渲染加载阻塞的感觉。")]),t._v(" "),a("h5",{attrs:{id:"_4-2-同步和异步概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-同步和异步概述"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch04?id=_42-%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5%E6%A6%82%E8%BF%B0",target:"_blank",rel:"noopener noreferrer"}},[t._v("4.2 同步和异步概述"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("先来看一个问题：以下代码执行的结果是什么？")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("p",[t._v("那么以下代码执行的结果又是什么？")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("p",[t._v("为了解决这个问题，利用多核 CPU 的计算能力，HTML5 提出 Web Worker 标准，允许 JavaScript 脚本创 建多个线程。于是，JS 中出现了 "),a("strong",[t._v("同步和异步")]),t._v("。")]),t._v(" "),a("h6",{attrs:{id:"_4-2-1-同步"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-1-同步"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch04?id=_421-%E5%90%8C%E6%AD%A5",target:"_blank",rel:"noopener noreferrer"}},[t._v("4.2.1 同步"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("前一个任务结束后再执行后一个任务，程序的执行顺序与任务的排列顺序是一致的、同步的。比如做饭的同步做 法：我们要烧水煮饭，等水开了（10分钟之后），再去切菜，炒菜。")]),t._v(" "),a("h6",{attrs:{id:"_4-2-2-异步"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-2-异步"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch04?id=_422-%E5%BC%82%E6%AD%A5",target:"_blank",rel:"noopener noreferrer"}},[t._v("4.2.2 异步"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("你在做一件事情时，因为这件事情会花费很长时间，在做这件事的同时，你还可以去处理其他事情。比如做 饭的异步做法，我们在烧水的同时，利用这10分钟，去切菜，炒菜。")]),t._v(" "),a("p",[a("strong",[t._v("他们的本质区别：这条流水线上各个流程的执行顺序不同")]),t._v("。")]),t._v(" "),a("h5",{attrs:{id:"_4-3-同步和异步任务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-同步和异步任务"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch04?id=_43-%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5%E4%BB%BB%E5%8A%A1",target:"_blank",rel:"noopener noreferrer"}},[t._v("4.3 同步和异步任务"),a("OutboundLink")],1)]),t._v(" "),a("h6",{attrs:{id:"_4-3-1-同步任务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-1-同步任务"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch04?id=_431-%E5%90%8C%E6%AD%A5%E4%BB%BB%E5%8A%A1",target:"_blank",rel:"noopener noreferrer"}},[t._v("4.3.1 同步任务"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("同步任务都在主线程上执行，形成一个 "),a("strong",[t._v("执行栈")]),t._v("。")]),t._v(" "),a("h6",{attrs:{id:"_4-3-2-异步任务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-2-异步任务"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch04?id=_432-%E5%BC%82%E6%AD%A5%E4%BB%BB%E5%8A%A1",target:"_blank",rel:"noopener noreferrer"}},[t._v("4.3.2 异步任务"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("JS 的异步是通过回调函数实现的。 一般而言，异步任务有以下三种类型：")]),t._v(" "),a("ol",[a("li",[t._v("普通事件，如 "),a("code",[t._v("click")]),t._v("、"),a("code",[t._v("resize")]),t._v(" 等")]),t._v(" "),a("li",[t._v("资源加载，如 "),a("code",[t._v("load")]),t._v("、"),a("code",[t._v("error")]),t._v(" 等")]),t._v(" "),a("li",[t._v("定时器，包括 "),a("code",[t._v("setInterval")]),t._v("、"),a("code",[t._v("setTimeout")]),t._v(" 等异步任务相关回调函数添加到任务队列中（任务队列也称为消息队列）。")])]),t._v(" "),a("h5",{attrs:{id:"_4-4-js-执行机制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-js-执行机制"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch04?id=_44-js-%E6%89%A7%E8%A1%8C%E6%9C%BA%E5%88%B6",target:"_blank",rel:"noopener noreferrer"}},[t._v("4.4 JS 执行机制"),a("OutboundLink")],1)]),t._v(" "),a("ol",[a("li",[t._v("先执行 "),a("strong",[t._v("执行栈中的同步任务")]),t._v("。")]),t._v(" "),a("li",[t._v("异步任务（回调函数）放入任务队列中。")]),t._v(" "),a("li",[t._v("一旦执行栈中的所有同步任务执行完毕，系统就会按次序读取 "),a("strong",[t._v("任务队列")]),t._v(" 中的异步任务，于是被读取的异步务结束等待状态，进入执行栈，开始执行。")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Hacker-C/Picture-Bed@main/JavaScript/bom2.40uo3yu1dv20.png",alt:"bom2"}})]),t._v(" "),a("p",[t._v("举例分析：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ndocument"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"click"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"click"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("Copy to clipboardErrorCopied\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])]),a("ul",[a("li",[t._v("若不触发点击事件，结果将依次输出 "),a("code",[t._v("1")]),t._v("、"),a("code",[t._v("2")]),t._v("、"),a("code",[t._v("3")]),t._v("；")]),t._v(" "),a("li",[t._v("若点击事件在 3 秒前触发，则依次输出 "),a("code",[t._v("1")]),t._v("、"),a("code",[t._v("2")]),t._v("、"),a("code",[t._v("click")]),t._v("、"),a("code",[t._v("3")])]),t._v(" "),a("li",[t._v("若点击事件在 3 秒后触发，则依次输出 "),a("code",[t._v("1")]),t._v("、"),a("code",[t._v("2")]),t._v("、"),a("code",[t._v("3")]),t._v("、"),a("code",[t._v("click")])])]),t._v(" "),a("h5",{attrs:{id:"_4-5-事件循环"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-事件循环"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch04?id=_45-%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF",target:"_blank",rel:"noopener noreferrer"}},[t._v("4.5 事件循环"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("由于主线程不断的重复获得任务、执行任务、再获取任务、再执行，所以这种机制被称为 "),a("strong",[t._v("事件循环（event loop）")]),t._v("。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Hacker-C/Picture-Bed@main/JavaScript/bom3.720uz5f9vh00.png",alt:"bom3"}})]),t._v(" "),a("h4",{attrs:{id:"_5-location-对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-location-对象"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch04?id=_5-location-%E5%AF%B9%E8%B1%A1",target:"_blank",rel:"noopener noreferrer"}},[t._v("5. location 对象"),a("OutboundLink")],1)]),t._v(" "),a("h5",{attrs:{id:"_5-1-什么是-location-对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-什么是-location-对象"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch04?id=_51-%E4%BB%80%E4%B9%88%E6%98%AF-location-%E5%AF%B9%E8%B1%A1",target:"_blank",rel:"noopener noreferrer"}},[t._v("5.1 什么是 location 对象"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("code",[t._v("window")]),t._v(" 对象给我们提供了一个 "),a("code",[t._v("location")]),t._v(" 属性用于 "),a("strong",[t._v("获取或设置窗体的URL")]),t._v("，并且可以用于 "),a("strong",[t._v("解析 URL")]),t._v("。因为这个属性返回的是一个对象，所以我们将这个属性也称为 "),a("code",[t._v("location")]),t._v(" 对象。")]),t._v(" "),a("h5",{attrs:{id:"_5-2-url"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-url"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch04?id=_52-url",target:"_blank",rel:"noopener noreferrer"}},[t._v("5.2 URL"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("统一资源定位符（Uniform Resource Locator, URL）是互联网上标准资源的地址。互联网上的每个文件都有 一个唯一的 URL，它包含的信息指出文件的位置以及浏览器应该怎么处理它。 URL 的一般语法格式为：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("格式\nprotocol://host[:port]/path/[?query]#fragment\n举例\nhttp://www.itcast.cn/index.html?name=andy&age=18#linkCopy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("table",[a("thead",[a("tr",[a("th",[t._v("组成")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("protocol")])]),t._v(" "),a("td",[t._v("通信协议（http、ftp）")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("host")])]),t._v(" "),a("td",[t._v("主机（域名）")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("port")])]),t._v(" "),a("td",[t._v("端口号（可选），省略时使用方案的默认端口，如http默认端口80")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("path")])]),t._v(" "),a("td",[t._v("路径，由零或多个 "),a("code",[t._v("/")]),t._v(" 隔开的字符串，一般表示主机上的一个目录或文件地址")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("query")])]),t._v(" "),a("td",[t._v("参数，以键值对的形式，通过 "),a("code",[t._v("&")]),t._v(" 符号分隔开")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("fragment")])]),t._v(" "),a("td",[t._v("片段，"),a("code",[t._v("#")]),t._v(" 后面内容，常见于链接、锚点")])])])]),t._v(" "),a("h5",{attrs:{id:"_5-3-location-对象的属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-location-对象的属性"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch04?id=_53-location-%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%9E%E6%80%A7",target:"_blank",rel:"noopener noreferrer"}},[t._v("5.3 location 对象的属性"),a("OutboundLink")],1)]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("location对象属性")]),t._v(" "),a("th",[t._v("返回值")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("location.href")])]),t._v(" "),a("td",[t._v("获取或者设置 整个URL")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("location.host")])]),t._v(" "),a("td",[t._v("返回主机（域名）")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("location.port")])]),t._v(" "),a("td",[t._v("返回端口号，未写则返回空字符串")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("location.pathname")])]),t._v(" "),a("td",[t._v("返回路径")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("location.search")])]),t._v(" "),a("td",[t._v("返回参数")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("location.hash")])]),t._v(" "),a("td",[t._v("返回片段，"),a("code",[t._v("#")]),t._v(" 后面内容，常见于链接、锚点")])])])]),t._v(" "),a("p",[t._v("Tip")]),t._v(" "),a("p",[t._v("重点记住："),a("code",[t._v("href")]),t._v(" 和 "),a("code",[t._v("search")])]),t._v(" "),a("h5",{attrs:{id:"_5-4-location-对象的方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-location-对象的方法"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch04?id=_54-location-%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%96%B9%E6%B3%95",target:"_blank",rel:"noopener noreferrer"}},[t._v("5.4 location 对象的方法"),a("OutboundLink")],1)]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("location对象方法")]),t._v(" "),a("th",[t._v("返回值")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("location.assign()")])]),t._v(" "),a("td",[t._v("跟 "),a("code",[t._v("href")]),t._v(" 一样，可以跳转页面（也称为重定向页面）")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("location.replace()")])]),t._v(" "),a("td",[t._v("替换当前页面，因为不记录历史，所以不能后退页面")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("location.reload()")])]),t._v(" "),a("td",[t._v("重新加载页面，相当于刷新按钿或者 f5 如果参数为 "),a("code",[t._v("true")]),t._v(" 强制刷新 ctrl+f5")])])])]),t._v(" "),a("h4",{attrs:{id:"_6-navigator-对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-navigator-对象"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch04?id=_6-navigator-%E5%AF%B9%E8%B1%A1",target:"_blank",rel:"noopener noreferrer"}},[t._v("6. navigator 对象"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("code",[t._v("navigator")]),t._v(" 对象包含有关浏览器的信息，它有很多属性，我们最常用的是 "),a("code",[t._v("userAgent")]),t._v("，该属性可以返回由客 户机发送服务器的 "),a("code",[t._v("user-agent")]),t._v(" 头部的值。 下面前端代码可以判断用户那个终端打开页面，实现跳转：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("navigator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("userAgent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("match")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-flags"}},[t._v("i")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//手机")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//电脑")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("h4",{attrs:{id:"_7-history-对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-history-对象"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch04?id=_7-history-%E5%AF%B9%E8%B1%A1",target:"_blank",rel:"noopener noreferrer"}},[t._v("7. history 对象"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("code",[t._v("window")]),t._v(" 对象给我们提供了一个 "),a("code",[t._v("history")]),t._v(" 对象，与浏览器历史记录进行交互。该对象包含用户（在浏览器窗口中）访问过的URL。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[a("code",[t._v("history")]),t._v("对象方法")]),t._v(" "),a("th",[t._v("作用")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("back()")])]),t._v(" "),a("td",[t._v("网页地址后退功能")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("forward()")])]),t._v(" "),a("td",[t._v("前进功能")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("go(参数)")])]),t._v(" "),a("td",[t._v("前进后退功能，参数为 "),a("code",[t._v("1")]),t._v("，前进一个页面，"),a("code",[t._v("-1")]),t._v(" 后退一个页面")])])])]),t._v(" "),a("p",[a("code",[t._v("history")]),t._v(" 对象一般在实际开发中比较少用，但是会在一些OA 办公系统中见到。")]),t._v(" "),a("h3",{attrs:{id:"五-pc端网页特效"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五-pc端网页特效"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=%EF%BC%88%E4%BA%94%EF%BC%89pc%E7%AB%AF%E7%BD%91%E9%A1%B5%E7%89%B9%E6%95%88",target:"_blank",rel:"noopener noreferrer"}},[t._v("（五）PC端网页特效"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Tip")]),t._v(" "),a("p",[t._v("在前面学习了JS基础、DOM 和 BOM 的基本操作后，这部分主要学习这些知识的拓展应用。")]),t._v(" "),a("h4",{attrs:{id:"_1-元素偏移量-offset-系列"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-元素偏移量-offset-系列"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_1-%E5%85%83%E7%B4%A0%E5%81%8F%E7%A7%BB%E9%87%8F-offset-%E7%B3%BB%E5%88%97",target:"_blank",rel:"noopener noreferrer"}},[t._v("1. 元素偏移量 offset 系列"),a("OutboundLink")],1)]),t._v(" "),a("h5",{attrs:{id:"_1-1-offset-概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-offset-概述"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_11-offset-%E6%A6%82%E8%BF%B0",target:"_blank",rel:"noopener noreferrer"}},[t._v("1.1 offset 概述"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("code",[t._v("offset")]),t._v(" 翻译过来就是偏移量，我们使用 "),a("code",[t._v("offset")]),t._v(" 系列相关属性可以动态的得到该元素的位置（偏移）、大小等。")]),t._v(" "),a("ul",[a("li",[t._v("获得元素距离带有定位父元素的位置")]),t._v(" "),a("li",[t._v("获得元素自身的大小（宽度高度）")]),t._v(" "),a("li",[t._v("注意：返回的数值都不带单位")])]),t._v(" "),a("p",[a("code",[t._v("offset")]),t._v(" 系列常用属性： "),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Hacker-C/Picture-Bed@main/JavaScript/offset1.33r96uboi540.jpg",alt:"offset1"}})]),t._v(" "),a("h5",{attrs:{id:"_1-2-offset-与-style-区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-offset-与-style-区别"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_12-offset-%E4%B8%8E-style-%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"}},[t._v("1.2 offset 与 style 区别"),a("OutboundLink")],1)]),t._v(" "),a("h6",{attrs:{id:"_1-2-1-offset"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-1-offset"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_121-offset",target:"_blank",rel:"noopener noreferrer"}},[t._v("1.2.1 offset"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[a("code",[t._v("offset")]),t._v(" 可以得到任意样式表中的样式值")]),t._v(" "),a("li",[a("code",[t._v("offset")]),t._v(" 系列获得的数值是没有单位的")]),t._v(" "),a("li",[a("code",[t._v("offsetWidt")]),t._v("h 包含 "),a("code",[t._v("padding+border+width")])]),t._v(" "),a("li",[a("code",[t._v("offsetWidth")]),t._v(" 等属性是只读属性，只能获取不能赋值")]),t._v(" "),a("li",[a("strong",[t._v("所以，我们想要获取元素大小位置，用 "),a("code",[t._v("offset")]),t._v("更合适")])])]),t._v(" "),a("h6",{attrs:{id:"_1-2-2-style"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-2-style"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_122-style",target:"_blank",rel:"noopener noreferrer"}},[t._v("1.2.2 style"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[a("code",[t._v("style")]),t._v(" 只能得到行内样式表中的样式值")]),t._v(" "),a("li",[a("code",[t._v("style.width")]),t._v(" 获得的是带有单位的字符串")]),t._v(" "),a("li",[a("code",[t._v("style.width")]),t._v(" 获得不包含 "),a("code",[t._v("padding")]),t._v(" 和 "),a("code",[t._v("border")]),t._v(" 的值")]),t._v(" "),a("li",[a("code",[t._v("style.width")]),t._v(" 是可读写属性，可以获取也可以赋值")]),t._v(" "),a("li",[a("strong",[t._v("所以，我们想要给元素更改值，则需要用 "),a("code",[t._v("style")]),t._v(" 改变")])])]),t._v(" "),a("h5",{attrs:{id:"_1-3-案例1-获取鼠标在盒子内部的坐标"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-案例1-获取鼠标在盒子内部的坐标"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_13-%E6%A1%88%E4%BE%8B1%EF%BC%9A%E8%8E%B7%E5%8F%96%E9%BC%A0%E6%A0%87%E5%9C%A8%E7%9B%92%E5%AD%90%E5%86%85%E9%83%A8%E7%9A%84%E5%9D%90%E6%A0%87",target:"_blank",rel:"noopener noreferrer"}},[t._v("1.3 案例1：获取鼠标在盒子内部的坐标"),a("OutboundLink")],1)]),t._v(" "),a("h6",{attrs:{id:"_1-3-1-分析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-1-分析"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_131-%E5%88%86%E6%9E%90",target:"_blank",rel:"noopener noreferrer"}},[t._v("1.3.1 分析"),a("OutboundLink")],1)]),t._v(" "),a("ol",[a("li",[t._v("我们在盒子内点击，想要得到鼠标距离盒子左右的距离。")]),t._v(" "),a("li",[t._v("首先得到鼠标在页面中的坐标（e.pageX, e.pageY）")]),t._v(" "),a("li",[t._v("其次得到盒子在页面中的距离( box.offsetLeft, box.offsetTop)")]),t._v(" "),a("li",[t._v("用鼠标距离页面的坐标减去盒子在页面中的距离，得到鼠标在盒子内的坐标")]),t._v(" "),a("li",[t._v("如果想要移动一下鼠标，就要获取最新的坐标，使用鼠标移动事件mousemove")])]),t._v(" "),a("h6",{attrs:{id:"_1-3-2-代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-2-代码"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_132-%E4%BB%A3%E7%A0%81",target:"_blank",rel:"noopener noreferrer"}},[t._v("1.3.2 代码"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" box "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('".box"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nbox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mousemove"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pageX "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" box"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetLeft"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" y "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pageY "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" box"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetTop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"鼠标距离盒子坐标是：("')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('", "')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" y "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('")"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])]),a("h5",{attrs:{id:"_1-4-案例2-模态框拖拽"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-案例2-模态框拖拽"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_14-%E6%A1%88%E4%BE%8B2%EF%BC%9A%E6%A8%A1%E6%80%81%E6%A1%86%E6%8B%96%E6%8B%BD",target:"_blank",rel:"noopener noreferrer"}},[t._v("1.4 案例2：模态框拖拽"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("弹出框，我们也称为模态框。")]),t._v(" "),a("ol",[a("li",[t._v("点击弹出层，会弹出模态框，并且显示灰色半透明的遮挡层。")]),t._v(" "),a("li",[t._v("点击关闭按钮，可以关闭模态框，并且同时关闭灰色半透明遮挡层。")]),t._v(" "),a("li",[t._v("鼠标放到模态框最上面一行，可以按住鼠标拖拽模态框在页面中移动。")]),t._v(" "),a("li",[t._v("鼠标松开，可以停止拖动模态框移动。")])]),t._v(" "),a("h6",{attrs:{id:"_1-4-1-分析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-1-分析"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_141-%E5%88%86%E6%9E%90",target:"_blank",rel:"noopener noreferrer"}},[t._v("1.4.1 分析"),a("OutboundLink")],1)]),t._v(" "),a("ol",[a("li",[t._v("点击弹出层，模态框和遮挡层就会显示出来 display:block;")]),t._v(" "),a("li",[t._v("点击关闭按钮，模态框和遮挡层就会隐藏起来 display:none;")]),t._v(" "),a("li",[t._v("在页面中拖拽的原理：鼠标按下并且移动，之后松开鼠标")]),t._v(" "),a("li",[t._v("触发事件是鼠标按下 mousedown，鼠标移动 mousemove 鼠标松开 mouseup")]),t._v(" "),a("li",[t._v("拖拽过程: 鼠标移动过程中，获得最新的值赋值给模态框的left和top值，这样模态框可以跟着鼠标走了")]),t._v(" "),a("li",[t._v("鼠标按下触发的事件源是最上面一行，就是id 为 title")]),t._v(" "),a("li",[t._v("鼠标的坐标减去鼠标在盒子内的坐标，才是模态框真正的位置。")]),t._v(" "),a("li",[t._v("鼠标按下，我们要得到鼠标在盒子的坐标。")]),t._v(" "),a("li",[t._v("鼠标移动，就让模态框的坐标设置为：鼠标坐标减去盒子坐标即可，注意移动事件写到按下事件里面。")]),t._v(" "),a("li",[t._v("鼠标松开，就停止拖拽，就是可以让鼠标移动事件解除")])]),t._v(" "),a("h6",{attrs:{id:"_1-4-2-代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-2-代码"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_142-%E4%BB%A3%E7%A0%81",target:"_blank",rel:"noopener noreferrer"}},[t._v("1.4.2 代码"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Tip")]),t._v(" "),a("p",[t._v("我用阿里云盘分享了「模态框拖拽案例」，你可以不限速下载，链接：https://www.aliyundrive.com/s/uQHM8DpTh5F")]),t._v(" "),a("h5",{attrs:{id:"_1-5-案例2-京东放大镜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-案例2-京东放大镜"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_15-%E6%A1%88%E4%BE%8B2%EF%BC%9A%E4%BA%AC%E4%B8%9C%E6%94%BE%E5%A4%A7%E9%95%9C",target:"_blank",rel:"noopener noreferrer"}},[t._v("1.5 案例2：京东放大镜"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Tip")]),t._v(" "),a("p",[t._v("代码：我用阿里云盘分享了「04-京东放大镜效果」，你可以不限速下载🚀 链接：https://www.aliyundrive.com/s/M9eJn6rAR28")]),t._v(" "),a("h4",{attrs:{id:"_2-元素可视区-client-系列"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-元素可视区-client-系列"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_2-%E5%85%83%E7%B4%A0%E5%8F%AF%E8%A7%86%E5%8C%BA-client-%E7%B3%BB%E5%88%97",target:"_blank",rel:"noopener noreferrer"}},[t._v("2. 元素可视区 client 系列"),a("OutboundLink")],1)]),t._v(" "),a("h5",{attrs:{id:"_2-1-定义"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-定义"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_21-%E5%AE%9A%E4%B9%89",target:"_blank",rel:"noopener noreferrer"}},[t._v("2.1 定义"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("code",[t._v("client")]),t._v(" 翻译过来就是客户端，我们使用 "),a("code",[t._v("client")]),t._v(" 系列的相关属性来获取元素可视区的相关信息。通过"),a("code",[t._v("client")]),t._v(" 系列的相关属性可以动态的得到该元素的边框大小、元素大小等。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("client系列属性")]),t._v(" "),a("th",[t._v("作用")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("element.clientTop")])]),t._v(" "),a("td",[t._v("返回元素上边框的大小")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("element.clientLeft")])]),t._v(" "),a("td",[t._v("返回元素左边框大大小")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("element.clientWidth")])]),t._v(" "),a("td",[t._v("返回自身包括 "),a("code",[t._v("padding")]),t._v("、内容区的宽度，不含边框，返回数值不带单位")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("element.clientHeight")])]),t._v(" "),a("td",[t._v("返回自身包括 "),a("code",[t._v("padding")]),t._v("、内容区的高度，不含边框，返回数值不带单位")])])])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Hacker-C/Picture-Bed@main/JavaScript/client1.6bor0qa82lk0.png",alt:"client1"}})]),t._v(" "),a("h5",{attrs:{id:"_2-2-案例-淘宝-flexible-js-源码分析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-案例-淘宝-flexible-js-源码分析"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_22-%E6%A1%88%E4%BE%8B%EF%BC%9A%E6%B7%98%E5%AE%9D-flexiblejs-%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90",target:"_blank",rel:"noopener noreferrer"}},[t._v("2.2 案例：淘宝 flexible.js 源码分析"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("flexible 项目地址：https://github.com/amfe/lib-flexible")]),t._v(" "),a("h6",{attrs:{id:"_2-2-1-立即执行函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-1-立即执行函数"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_221-%E7%AB%8B%E5%8D%B3%E6%89%A7%E8%A1%8C%E5%87%BD%E6%95%B0",target:"_blank",rel:"noopener noreferrer"}},[t._v("2.2.1 立即执行函数"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("立即执行函数是指函数定义好后，不需要调用直接执行。即一引入 JS 文件，则该函数自动执行。")]),t._v(" "),a("p",[t._v("语法："),a("code",[t._v("(function() {})()")]),t._v(" 或者 "),a("code",[t._v("(function(){}())")])]),t._v(" "),a("p",[t._v("主要作用：")]),t._v(" "),a("ul",[a("li",[t._v("创建一个独立的作用域")]),t._v(" "),a("li",[t._v("避免了命名冲突问题")])]),t._v(" "),a("p",[t._v("举例：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// helloCopy to clipboardErrorCopied")]),t._v("\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("可以传参数：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("a")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 10Copy to clipboardErrorCopied")]),t._v("\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("h6",{attrs:{id:"_2-2-2-pageshow-事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-2-pageshow-事件"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_222-pageshow-%E4%BA%8B%E4%BB%B6",target:"_blank",rel:"noopener noreferrer"}},[t._v("2.2.2 pageShow 事件"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("下面三种情况都会刷新页面都会触发load 事件。")]),t._v(" "),a("ol",[a("li",[t._v("a标签的超链接")]),t._v(" "),a("li",[t._v("F5或者刷新按钮（强制刷新）")]),t._v(" "),a("li",[t._v("前进后退按钮")])]),t._v(" "),a("p",[t._v("但是火狐中，有个特点，有个“往返缓存”，这个缓存中不仅保存着页面数据，还保存了 DOM 和 JavaScript 的状态；实际上是将整个页面都保存在了内存里。")]),t._v(" "),a("p",[t._v("所以此时后退按钮不能刷新页面。")]),t._v(" "),a("p",[t._v("此时可以使用 "),a("code",[t._v("pageshow")]),t._v(" 事件来触发。，这个事件在页面显示时触发，无论页面是否来自缓存。在重新加载页 面中，"),a("code",[t._v("pageshow")]),t._v(" 会在 "),a("code",[t._v("load")]),t._v(" 事件触发后触发；根据事件对象中的 "),a("code",[t._v("persisted")]),t._v(" 来判断是否是缓存中的页面触发的"),a("code",[t._v("pageshow")]),t._v(" 事件，注意这个事件给 "),a("code",[t._v("window")]),t._v(" 添加。")]),t._v(" "),a("p",[t._v("Warning")]),t._v(" "),a("p",[t._v("多个立即执行函数间要加分号 "),a("code",[t._v(";")]),t._v(" 隔开。")]),t._v(" "),a("h4",{attrs:{id:"_3-元素滚动-scroll-系列"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-元素滚动-scroll-系列"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_3-%E5%85%83%E7%B4%A0%E6%BB%9A%E5%8A%A8-scroll-%E7%B3%BB%E5%88%97",target:"_blank",rel:"noopener noreferrer"}},[t._v("3. 元素滚动 scroll 系列"),a("OutboundLink")],1)]),t._v(" "),a("h5",{attrs:{id:"_3-1-元素scroll-系列属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-元素scroll-系列属性"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_31-%E5%85%83%E7%B4%A0scroll-%E7%B3%BB%E5%88%97%E5%B1%9E%E6%80%A7",target:"_blank",rel:"noopener noreferrer"}},[t._v("3.1 元素scroll 系列属性"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("code",[t._v("scroll")]),t._v(" 翻译过来就是滚动的，我们使用 "),a("code",[t._v("scroll")]),t._v(" 系列的相关属性可以动态的得到该元素的大小、滚动距离等。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("scroll系列属性")]),t._v(" "),a("th",[t._v("作用")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("element.scrollTop")])]),t._v(" "),a("td",[t._v("返回被卷上去的上侧距离，返回数值不带单位")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("element.scrollLeft")])]),t._v(" "),a("td",[t._v("返回被卷上去的左侧距离，返回数值不带单位")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("element.scrollWidth")])]),t._v(" "),a("td",[t._v("返回自身实际宽度，不含边框，返回数值不带单位")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("element.scrollHeight")])]),t._v(" "),a("td",[t._v("返回自身实际高度，不含边框，返回数值不带单位")])])])]),t._v(" "),a("p",[t._v("如下图所示 "),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Hacker-C/Picture-Bed@main/JavaScript/scroll1.4xrvppmwt800.png",alt:"scroll1"}})]),t._v(" "),a("h5",{attrs:{id:"_3-2-页面被卷去的头部"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-页面被卷去的头部"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_32-%E9%A1%B5%E9%9D%A2%E8%A2%AB%E5%8D%B7%E5%8E%BB%E7%9A%84%E5%A4%B4%E9%83%A8",target:"_blank",rel:"noopener noreferrer"}},[t._v("3.2 页面被卷去的头部"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("如果浏览器的高（或宽）度不足以显示整个页面时，会自动出现滚动条。当滚动条向下滚动时，页面上面被隐藏 掉的高度，我们就称为页面被卷去的头部。滚动条在滚动时会触发 "),a("code",[t._v("onscroll")]),t._v(" 事件。")]),t._v(" "),a("p",[a("strong",[t._v("获取页面被卷去的头部")]),t._v("：")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("页面")]),t._v(" 被卷去的头部：可以通过 "),a("code",[t._v("window.pageYOffset")]),t._v(" 获得，如果是被卷去的左侧 "),a("code",[t._v("window.pageXOffset")])]),t._v(" "),a("li",[t._v("注意，元素被卷去的头部是 "),a("code",[t._v("element.scrollTop")]),t._v("，左侧 "),a("code",[t._v("element.scrollLeft")])])]),t._v(" "),a("h5",{attrs:{id:"_3-3-案例-仿淘宝固定右侧侧边栏"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-案例-仿淘宝固定右侧侧边栏"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_33-%E6%A1%88%E4%BE%8B%EF%BC%9A%E4%BB%BF%E6%B7%98%E5%AE%9D%E5%9B%BA%E5%AE%9A%E5%8F%B3%E4%BE%A7%E4%BE%A7%E8%BE%B9%E6%A0%8F",target:"_blank",rel:"noopener noreferrer"}},[t._v("3.3 案例：仿淘宝固定右侧侧边栏"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Tip")]),t._v(" "),a("p",[t._v("我用阿里云盘分享了「05-仿淘宝侧边栏.html」，你可以不限速下载🚀 链接：https://www.aliyundrive.com/s/c1sic4RxuLf")]),t._v(" "),a("p",[t._v("需求（自己动手实践）：")]),t._v(" "),a("ol",[a("li",[t._v("原先侧边栏是绝对定位")]),t._v(" "),a("li",[t._v("当页面滚动到一定位置，侧边栏改为固定定位")]),t._v(" "),a("li",[t._v("页面继续滚动，会让返回顶部显示出来")])]),t._v(" "),a("p",[t._v("要点：")]),t._v(" "),a("ol",[a("li",[t._v("需要用到页面滚动事件 "),a("code",[t._v("scroll")]),t._v(" 因为是页面滚动，所以事件源是 "),a("code",[t._v("document")])]),t._v(" "),a("li",[t._v("滚动到某个位置，就是判断页面被卷去的上部值。")]),t._v(" "),a("li",[t._v("页面被卷去的头部：可以通过 "),a("code",[t._v("window.pageYOffset")]),t._v(" 获得如果是被卷去的左侧 "),a("code",[t._v("window.pageXOffset")])]),t._v(" "),a("li",[t._v("注意，元素被卷去的头部是 "),a("code",[t._v("element.scrollTop")]),t._v(" , 如果是页面被卷去的头部则是 "),a("code",[t._v("window.pageYOffset")])]),t._v(" "),a("li",[t._v("其实这个值可以通过盒子的 "),a("code",[t._v("offsetTop")]),t._v(" 可以得到，如果大于等于这个值，就可以让盒子固定定位了")])]),t._v(" "),a("h5",{attrs:{id:"_3-4-三大系列总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-三大系列总结"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_34-%E4%B8%89%E5%A4%A7%E7%B3%BB%E5%88%97%E6%80%BB%E7%BB%93",target:"_blank",rel:"noopener noreferrer"}},[t._v("3.4 三大系列总结"),a("OutboundLink")],1)]),t._v(" "),a("h6",{attrs:{id:"_3-4-1-对比"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-1-对比"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_341-%E5%AF%B9%E6%AF%94",target:"_blank",rel:"noopener noreferrer"}},[t._v("3.4.1 对比"),a("OutboundLink")],1)]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("三大系列大小对比")]),t._v(" "),a("th",[t._v("作用")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("element.offsetWidth")])]),t._v(" "),a("td",[t._v("返回自身包括 "),a("code",[t._v("padding")]),t._v("、边框、内容区的宽度，返回数值不带单位")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("element.clientWidth")])]),t._v(" "),a("td",[t._v("返回自身包括 "),a("code",[t._v("padding")]),t._v("、内容区的宽度，不含边框，返回数值不带单位")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("element.scrollWidth")])]),t._v(" "),a("td",[t._v("返回自身实际的宽度，不含边框，返回数值不带单位")])])])]),t._v(" "),a("h6",{attrs:{id:"_3-4-2-主要用法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-2-主要用法"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_342-%E4%B8%BB%E8%A6%81%E7%94%A8%E6%B3%95",target:"_blank",rel:"noopener noreferrer"}},[t._v("3.4.2 主要用法"),a("OutboundLink")],1)]),t._v(" "),a("ol",[a("li",[a("code",[t._v("offset")]),t._v(" 系列经常用于获得元素位置 "),a("code",[t._v("offsetLeft")]),t._v("、"),a("code",[t._v("offsetTop")])]),t._v(" "),a("li",[a("code",[t._v("client")]),t._v(" 经常用于获取元素大小 "),a("code",[t._v("clientWidth")]),t._v(" 、"),a("code",[t._v("clientHeight")])]),t._v(" "),a("li",[a("code",[t._v("scroll")]),t._v(" 经常用于获取滚动距离 "),a("code",[t._v("scrollTop")]),t._v("、"),a("code",[t._v("scrollLeft")])]),t._v(" "),a("li",[t._v("注意页面滚动的距离通过 "),a("code",[t._v("window.pageXOffset")]),t._v(" 获得")])]),t._v(" "),a("h6",{attrs:{id:"_3-5-mouseenter-和-mouseover-的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-mouseenter-和-mouseover-的区别"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_35-mouseenter-%E5%92%8C-mouseover-%E7%9A%84%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"}},[t._v("3.5 mouseenter 和 mouseover 的区别"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[t._v("当鼠标移动到元素上时就会触发 "),a("code",[t._v("mouseenter")]),t._v(" 事件")]),t._v(" "),a("li",[t._v("类似 "),a("code",[t._v("mouseover")]),t._v("，它们两者之间的差别是")]),t._v(" "),a("li",[a("code",[t._v("mouseover")]),t._v(" 鼠标经过自身盒子会触发，经过子盒子还会触发。"),a("code",[t._v("mouseenter")]),t._v(" 只会经过自身盒子触发")]),t._v(" "),a("li",[t._v("之所以这样，就是因为 "),a("code",[t._v("mouseenter")]),t._v(" 不会冒泡")]),t._v(" "),a("li",[t._v("跟 "),a("code",[t._v("mouseenter")]),t._v(" 搭配鼠标离开 "),a("code",[t._v("mouseleave")]),t._v(" 同样不会冒泡")])]),t._v(" "),a("h4",{attrs:{id:"_4-动画函数封装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-动画函数封装"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_4-%E5%8A%A8%E7%94%BB%E5%87%BD%E6%95%B0%E5%B0%81%E8%A3%85",target:"_blank",rel:"noopener noreferrer"}},[t._v("4. 动画函数封装"),a("OutboundLink")],1)]),t._v(" "),a("h5",{attrs:{id:"_4-1-动画实现原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-动画实现原理"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_41-%E5%8A%A8%E7%94%BB%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86",target:"_blank",rel:"noopener noreferrer"}},[t._v("4.1 动画实现原理"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("核心原理：通过定时器 "),a("code",[t._v("setInterval()")]),t._v(" 不断移动盒子位置。 实现步骤：")]),t._v(" "),a("ol",[a("li",[t._v("获得盒子当前位置")]),t._v(" "),a("li",[t._v("让盒子在当前位置加上 1 个移动距离")]),t._v(" "),a("li",[t._v("利用定时器不断重复这个操作")]),t._v(" "),a("li",[t._v("加一个结束定时器的条件")]),t._v(" "),a("li",[t._v("注意此元素需要添加定位（"),a("code",[t._v("position: absolute")]),t._v("），才能使用 "),a("code",[t._v("element.style.left")])])]),t._v(" "),a("h5",{attrs:{id:"_4-2-动画函数简单封装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-动画函数简单封装"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_42-%E5%8A%A8%E7%94%BB%E5%87%BD%E6%95%B0%E7%AE%80%E5%8D%95%E5%B0%81%E8%A3%85",target:"_blank",rel:"noopener noreferrer"}},[t._v("4.2 动画函数简单封装"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("注意函数需要传递 2 个参数，"),a("strong",[t._v("动画对象和移动到的距离")]),t._v("。")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("animate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" target")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置定时器")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" timer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setInterval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetLeft "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("left "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetLeft "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'px'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 清除定时器")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clearInterval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("timer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br")])]),a("h5",{attrs:{id:"_4-3-动画函数给不同元素记录不同定时器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-动画函数给不同元素记录不同定时器"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_43-%E5%8A%A8%E7%94%BB%E5%87%BD%E6%95%B0%E7%BB%99%E4%B8%8D%E5%90%8C%E5%85%83%E7%B4%A0%E8%AE%B0%E5%BD%95%E4%B8%8D%E5%90%8C%E5%AE%9A%E6%97%B6%E5%99%A8",target:"_blank",rel:"noopener noreferrer"}},[t._v("4.3 动画函数给不同元素记录不同定时器"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("如果多个元素都使用这个动画函数，每次都要 "),a("code",[t._v("var")]),t._v(" 声明定时器。我们可以给不同的元素使用不同的定时器（自己专门用自己的定时器）。")]),t._v(" "),a("p",[t._v("核心原理：利用 JS 是一门动态语言，可以很方便的给当前对象添加属性。")]),t._v(" "),a("p",[t._v("举例")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 封装动画函数")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("animate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" target")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 给不同节点对象 obj 设置定时器")]),t._v("\n    obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setInterval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetLeft "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("left "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetLeft "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'px'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 清除对象自己的定时器")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clearInterval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br")])]),a("h5",{attrs:{id:"_4-4-缓动效果原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-缓动效果原理"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_44-%E7%BC%93%E5%8A%A8%E6%95%88%E6%9E%9C%E5%8E%9F%E7%90%86",target:"_blank",rel:"noopener noreferrer"}},[t._v("4.4 缓动效果原理"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("之前讲的是匀速动画：盒子当前位置 = 盒子当前位置 + 固定值盒子当前位置=盒子当前位置+固定值")]),t._v(" "),a("p",[t._v("缓动动画就是让元素运动速度有所变化，最常见的是让速度慢慢停下来\n思路：")]),t._v(" "),a("ol",[a("li",[t._v("让盒子每次移动的距离慢慢变小，速度就会慢慢落下来。")]),t._v(" "),a("li",[a("strong",[t._v("核心算法")]),t._v("：每次移动的距离步长 = (目标值 - 现在的位置) / 10每次移动的距离步长=(目标值−现在的位置)/10")]),t._v(" "),a("li",[t._v("停止的条件是：让当前盒子位置等于目标位置就停止定时器")]),t._v(" "),a("li",[t._v("注意步长值需要取整")])]),t._v(" "),a("p",[t._v("举例：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("animate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" target")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clearInterval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setInterval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 缓冲动画核心算法")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" step "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ceil")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetLeft"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetLeft "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clearInterval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("left "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetLeft "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" step "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'px'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br")])]),a("h5",{attrs:{id:"_4-5-动画函数多个目标值之间移动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-动画函数多个目标值之间移动"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_45-%E5%8A%A8%E7%94%BB%E5%87%BD%E6%95%B0%E5%A4%9A%E4%B8%AA%E7%9B%AE%E6%A0%87%E5%80%BC%E4%B9%8B%E9%97%B4%E7%A7%BB%E5%8A%A8",target:"_blank",rel:"noopener noreferrer"}},[t._v("4.5 动画函数多个目标值之间移动"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("可以让动画函数从 "),a("code",[t._v("800")]),t._v(" 移动到 "),a("code",[t._v("500")]),t._v("。\n当我们点击按钮时候，判断步长是正值还是负值：")]),t._v(" "),a("ol",[a("li",[t._v("如果是正值，则步长往大了取整（"),a("code",[t._v("Math.ceil()")]),t._v("）")]),t._v(" "),a("li",[t._v("如果是负值，则步长向小了取整（"),a("code",[t._v("Math.floor()")]),t._v("）")])]),t._v(" "),a("p",[t._v("举例：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("animate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" target")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clearInterval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setInterval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 缓冲动画核心算法")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" step "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" target "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetLeft"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 左右移动步值正负处理")]),t._v("\n        step "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" step "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v("  Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ceil")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("step "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("  Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("floor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("step "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetLeft "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clearInterval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("left "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetLeft "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" step "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'px'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br")])]),a("h5",{attrs:{id:"_4-6-动画函数添加回调函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-6-动画函数添加回调函数"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_46-%E5%8A%A8%E7%94%BB%E5%87%BD%E6%95%B0%E6%B7%BB%E5%8A%A0%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0",target:"_blank",rel:"noopener noreferrer"}},[t._v("4.6 动画函数添加回调函数"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("回调函数原理")]),t._v("：函数可以作为一个参数。将这个函数作为参数传到另一个函数里面，当那个函数执行完之后， 再执行传进去的这个函数，这个过程就叫做 "),a("strong",[t._v("回调（"),a("code",[t._v("callback")]),t._v("）")]),t._v("。")]),t._v(" "),a("li",[a("strong",[t._v("回调函数写的位置：定时器结束的位置")]),t._v("。")])]),t._v(" "),a("p",[t._v("案例：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 增加回调函数形参 callback")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("animate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" callback")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clearInterval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setInterval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 缓冲动画核心算法")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" step "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" target "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetLeft"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 左右移动步值正负处理")]),t._v("\n        step "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" step "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ceil")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("step "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("floor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("step "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetLeft "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clearInterval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 判断，回调函数 callback 存在则调用")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("callback"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("callback")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("left "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetLeft "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" step "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'px'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 回调函数作为实参传入")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("animate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("span"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("800")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    span"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("backgroundColor "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pink'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br")])]),a("h5",{attrs:{id:"_4-7-动画函数封装到单独js文件里面"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-7-动画函数封装到单独js文件里面"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_47-%E5%8A%A8%E7%94%BB%E5%87%BD%E6%95%B0%E5%B0%81%E8%A3%85%E5%88%B0%E5%8D%95%E7%8B%ACjs%E6%96%87%E4%BB%B6%E9%87%8C%E9%9D%A2",target:"_blank",rel:"noopener noreferrer"}},[t._v("4.7 动画函数封装到单独JS文件里面"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("因为以后经常使用这个动画函数，可以单独封装到一个JS文件里面，使用的时候引用这个JS文件即可。")]),t._v(" "),a("ol",[a("li",[t._v("单独新建一个 JS 文件。")]),t._v(" "),a("li",[t._v("HTML文件引入 JS 文件。")])]),t._v(" "),a("h5",{attrs:{id:"_5-常见网页特效案例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-常见网页特效案例"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_5-%E5%B8%B8%E8%A7%81%E7%BD%91%E9%A1%B5%E7%89%B9%E6%95%88%E6%A1%88%E4%BE%8B",target:"_blank",rel:"noopener noreferrer"}},[t._v("5. 常见网页特效案例"),a("OutboundLink")],1)]),t._v(" "),a("h5",{attrs:{id:"_5-1-案例1-轮播图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-案例1-轮播图"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_51-%E6%A1%88%E4%BE%8B1%EF%BC%9A%E8%BD%AE%E6%92%AD%E5%9B%BE",target:"_blank",rel:"noopener noreferrer"}},[t._v("5.1 案例1：轮播图"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Tip")]),t._v(" "),a("p",[t._v("轮播图是JS的一个经典案例，建议自己动手实践一遍，项目源码地址：https://hacker-c.github.io/PinYouGou-Shopping/")]),t._v(" "),a("p",[t._v("轮播图也称为焦点图，是网页中比较常见的网页特效。")]),t._v(" "),a("p",[t._v("功能需求：")]),t._v(" "),a("ol",[a("li",[t._v("鼠标经过轮播图模块，左右按钮显示，离开隐藏左右按钮。")]),t._v(" "),a("li",[t._v("点击右侧按钮一次，图片往左播放一张，以此类推，左侧按钮同理。")]),t._v(" "),a("li",[t._v("图片播放的同时，下面小圆圈模块跟随一起变化。")]),t._v(" "),a("li",[t._v("点击小圆圈，可以播放相应图片。")]),t._v(" "),a("li",[t._v("鼠标不经过轮播图，轮播图也会自动播放图片。")]),t._v(" "),a("li",[t._v("鼠标经过，轮播图模块，自动播放停止。")])]),t._v(" "),a("details",{staticStyle:{"-webkit-font-smoothing":"antialiased","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)","text-size-adjust":"none","box-sizing":"border-box","font-size":"15px",color:"rgb(52, 73, 94)","font-family":'"Source Sans Pro", "Helvetica Neue", Arial, sans-serif',"font-style":"normal","font-variant-ligatures":"normal","font-variant-caps":"normal","font-weight":"400","letter-spacing":"normal",orphans:"2","text-align":"start","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","background-color":"rgb(255, 255, 255)","text-decoration-thickness":"initial","text-decoration-style":"initial","text-decoration-color":"initial",cursor:"pointer"}},[a("summary",{staticStyle:{"-webkit-font-smoothing":"antialiased","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)","text-size-adjust":"none","box-sizing":"border-box"}},[t._v("思路分析点击展开")])]),t._v(" "),a("h5",{attrs:{id:"_5-2-案例2-返回顶部"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-案例2-返回顶部"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_52-%E6%A1%88%E4%BE%8B2%EF%BC%9A%E8%BF%94%E5%9B%9E%E9%A1%B6%E9%83%A8",target:"_blank",rel:"noopener noreferrer"}},[t._v("5.2 案例2：返回顶部"),a("OutboundLink")],1)]),t._v(" "),a("h6",{attrs:{id:"_5-2-1-window-scroll"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-1-window-scroll"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_521-windowscroll",target:"_blank",rel:"noopener noreferrer"}},[t._v("5.2.1 window.scroll"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("滚动窗口至文档中的特定位置：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("scroll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("注意：里面的 "),a("code",[t._v("x")]),t._v(" 和 "),a("code",[t._v("y")]),t._v(" 不跟单位，直接写数字。")]),t._v(" "),a("h6",{attrs:{id:"_5-2-2-带有动画的返回顶部"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-2-带有动画的返回顶部"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_522-%E5%B8%A6%E6%9C%89%E5%8A%A8%E7%94%BB%E7%9A%84%E8%BF%94%E5%9B%9E%E9%A1%B6%E9%83%A8",target:"_blank",rel:"noopener noreferrer"}},[t._v("5.2.2 带有动画的返回顶部"),a("OutboundLink")],1)]),t._v(" "),a("ol",[a("li",[t._v("此时可以继续使用我们封装的动画函数")]),t._v(" "),a("li",[t._v("只需要把所有的 "),a("code",[t._v("left")]),t._v(" 相关的值改为跟页面垂直滚动距离相关就可以了")]),t._v(" "),a("li",[t._v("页面滚动了多少，可以通过 "),a("code",[t._v("window.pageYOffset")]),t._v(" 得到")]),t._v(" "),a("li",[t._v("最后是页面滚动，使用 "),a("code",[t._v("window.scroll(x, y)")])])]),t._v(" "),a("h6",{attrs:{id:"_5-2-3-修改后的缓存动画函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-3-修改后的缓存动画函数"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_523-%E4%BF%AE%E6%94%B9%E5%90%8E%E7%9A%84%E7%BC%93%E5%AD%98%E5%8A%A8%E7%94%BB%E5%87%BD%E6%95%B0",target:"_blank",rel:"noopener noreferrer"}},[t._v("5.2.3 修改后的缓存动画函数"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("animate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" callback")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clearInterval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setInterval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 缓冲动画核心算法")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" step "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" target "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pageYOffset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        step "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" step "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ceil")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("step "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("floor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("step "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pageYOffset "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clearInterval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            callback "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("callback")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("scroll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pageYOffset "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" step"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br")])]),a("p",[t._v("调用：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("animate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("h5",{attrs:{id:"_5-3-案例3-筋斗云"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-案例3-筋斗云"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_53-%E6%A1%88%E4%BE%8B3%EF%BC%9A%E7%AD%8B%E6%96%97%E4%BA%91",target:"_blank",rel:"noopener noreferrer"}},[t._v("5.3 案例3：筋斗云"),a("OutboundLink")],1)]),t._v(" "),a("h6",{attrs:{id:"_5-3-1-效果"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-1-效果"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_531-%E6%95%88%E6%9E%9C",target:"_blank",rel:"noopener noreferrer"}},[t._v("5.3.1 效果"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[t._v("鼠标经过某个小 "),a("code",[t._v("li")]),t._v("，筋斗云跟这到当前小 "),a("code",[t._v("li")]),t._v(" 位置")]),t._v(" "),a("li",[t._v("鼠标离开这个小 "),a("code",[t._v("li")]),t._v("，筋斗云复原为原来的位置")]),t._v(" "),a("li",[t._v("鼠标点击了某个小 "),a("code",[t._v("li")]),t._v("，筋斗云就会留在点击这个小 "),a("code",[t._v("li")]),t._v(" 的位置")])]),t._v(" "),a("h6",{attrs:{id:"_5-3-2-实现"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-2-实现"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch05?id=_532-%E5%AE%9E%E7%8E%B0",target:"_blank",rel:"noopener noreferrer"}},[t._v("5.3.2 实现"),a("OutboundLink")],1)]),t._v(" "),a("ol",[a("li",[t._v("利用动画函数做动画效果")]),t._v(" "),a("li",[t._v("原先筋斗云的起始位置是 "),a("code",[t._v("0")])]),t._v(" "),a("li",[t._v("鼠标经过某个小 "),a("code",[t._v("li")]),t._v("，把当前小 "),a("code",[t._v("li")]),t._v(" 的 "),a("code",[t._v("offsetLeft")]),t._v(" 位置做为目标值即可")]),t._v(" "),a("li",[t._v("鼠标离开某个小 "),a("code",[t._v("li")]),t._v("，就把目标值设为 "),a("code",[t._v("0")])]),t._v(" "),a("li",[t._v("如果点击了某个小 "),a("code",[t._v("li")]),t._v("，就把 "),a("code",[t._v("li")]),t._v(" 当前的位置存储起来，做为筋斗云的起始位置")])]),t._v(" "),a("p",[t._v("核心代码：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" current "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" lis"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// (1) 鼠标经过把当前小li 的位置做为目标值")]),t._v("\n    lis"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mouseenter'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("animate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cloud"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetLeft"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// (2) 鼠标离开就回到起始的位置 ")]),t._v("\n    lis"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mouseleave'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("animate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cloud"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" current"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// (3) 当我们鼠标点击，就把当前位置做为目标值")]),t._v("\n    lis"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        current "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetLeft"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br")])]),a("h3",{attrs:{id:"六-移动端特效"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#六-移动端特效"}},[t._v("#")]),t._v(" （六）移动端特效")]),t._v(" "),a("h3",{attrs:{id:"七-本地存储"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#七-本地存储"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch07?id=%EF%BC%88%E4%B8%83%EF%BC%89%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8",target:"_blank",rel:"noopener noreferrer"}},[t._v("（七）本地存储"),a("OutboundLink")],1)]),t._v(" "),a("h4",{attrs:{id:"_1-本地存储概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-本地存储概述"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch07?id=_1-%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E6%A6%82%E8%BF%B0",target:"_blank",rel:"noopener noreferrer"}},[t._v("1. 本地存储概述"),a("OutboundLink")],1)]),t._v(" "),a("h5",{attrs:{id:"_1-1-背景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-背景"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch07?id=_11-%E8%83%8C%E6%99%AF",target:"_blank",rel:"noopener noreferrer"}},[t._v("1.1 背景"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("随着互联网的快速发展，基于网页的应用越来越普遍，同时也变的越来越复杂，为了满足各种各样的需求，会经 常性在本地存储大量的数据，HTML5 规范提出了相关解决方案。")]),t._v(" "),a("h5",{attrs:{id:"_1-2-本地存储特性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-本地存储特性"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch07?id=_12-%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E7%89%B9%E6%80%A7",target:"_blank",rel:"noopener noreferrer"}},[t._v("1.2 本地存储特性"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[t._v("数据存储在用户浏览器中")]),t._v(" "),a("li",[t._v("设置、读取方便、甚至页面刷新不丢失数据")]),t._v(" "),a("li",[t._v("容量较大，"),a("code",[t._v("sessionStorage")]),t._v(" 约5M、"),a("code",[t._v("localStorage")]),t._v(" 约20M")]),t._v(" "),a("li",[t._v("只能存储字符串，可以将对象 "),a("code",[t._v("JSON.stringify()")]),t._v(" 编码后存储")])]),t._v(" "),a("h4",{attrs:{id:"_2-window-sessionstorage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-window-sessionstorage"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch07?id=_2-windowsessionstorage",target:"_blank",rel:"noopener noreferrer"}},[t._v("2. window.sessionStorage"),a("OutboundLink")],1)]),t._v(" "),a("h5",{attrs:{id:"_2-1-特点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-特点"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch07?id=_21-%E7%89%B9%E7%82%B9",target:"_blank",rel:"noopener noreferrer"}},[t._v("2.1 特点"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[t._v("生命周期为 "),a("strong",[t._v("关闭浏览器窗口")])]),t._v(" "),a("li",[t._v("在同一个窗口（页面）下数据可以共享")]),t._v(" "),a("li",[t._v("以键值对的形式存储使用")])]),t._v(" "),a("h5",{attrs:{id:"_2-2-相关操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-相关操作"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch07?id=_22-%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C",target:"_blank",rel:"noopener noreferrer"}},[t._v("2.2 相关操作"),a("OutboundLink")],1)]),t._v(" "),a("ol",[a("li",[a("p",[t._v("存储数据：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("sessionStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])])]),t._v(" "),a("li",[a("p",[t._v("获取数据：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("sessionStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])])]),t._v(" "),a("li",[a("p",[t._v("删除数据：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("sessionStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("Copy to clipboardErrorCopied\n\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])])]),t._v(" "),a("li",[a("p",[t._v("删除所有数据：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("sessionStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clear")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("Copy to clipboardErrorCopied\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])])])]),t._v(" "),a("h4",{attrs:{id:"_3-window-localstorage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-window-localstorage"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch07?id=_3-windowlocalstorage",target:"_blank",rel:"noopener noreferrer"}},[t._v("3. window.localStorage"),a("OutboundLink")],1)]),t._v(" "),a("h5",{attrs:{id:"_3-1-特点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-特点"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch07?id=_31-%E7%89%B9%E7%82%B9",target:"_blank",rel:"noopener noreferrer"}},[t._v("3.1 特点"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[t._v("生命周期 "),a("strong",[t._v("永久生效")]),t._v("，除非手动删除否则关闭页面也会存在")]),t._v(" "),a("li",[t._v("可以多窗口（页面）共享（同一浏览器可以共享）")]),t._v(" "),a("li",[t._v("以键值对的形式存储使用")])]),t._v(" "),a("h5",{attrs:{id:"_3-2-相关操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-相关操作"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch07?id=_32-%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C",target:"_blank",rel:"noopener noreferrer"}},[t._v("3.2 相关操作"),a("OutboundLink")],1)]),t._v(" "),a("ol",[a("li",[a("p",[t._v("存储数据：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("localStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("Copy to clipboardErrorCopied\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])])]),t._v(" "),a("li",[a("p",[t._v("获取数据：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("localStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("Copy to clipboardErrorCopied\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])])]),t._v(" "),a("li",[a("p",[t._v("删除数据：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("loaclStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("Copy to clipboardErrorCopied\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])])]),t._v(" "),a("li",[a("p",[t._v("删除所有数据：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("localStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clear")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("Copy to clipboardErrorCopied\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])])])]),t._v(" "),a("h4",{attrs:{id:"_4-案例-记住用户名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-案例-记住用户名"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch07?id=_4-%E6%A1%88%E4%BE%8B%EF%BC%9A%E8%AE%B0%E4%BD%8F%E7%94%A8%E6%88%B7%E5%90%8D",target:"_blank",rel:"noopener noreferrer"}},[t._v("4. 案例：记住用户名"),a("OutboundLink")],1)]),t._v(" "),a("h5",{attrs:{id:"_4-1-分析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-分析"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch07?id=_41-%E5%88%86%E6%9E%90",target:"_blank",rel:"noopener noreferrer"}},[t._v("4.1 分析"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("如果勾选记住用户名，下次用户打开浏览器，就在文本框里面自动显示上次登录的用户名。")]),t._v(" "),a("ul",[a("li",[t._v("把数据存起来，用到本地存储")]),t._v(" "),a("li",[t._v("关闭页面，也可以显示用户名，所以用到 "),a("code",[t._v("localStorage")])]),t._v(" "),a("li",[t._v("打开页面，先判断是否有这个用户名，如果有，就在表单里面显示用户名，并且勾选复选框")]),t._v(" "),a("li",[t._v("当复选框发生改变的时候 "),a("code",[t._v("change")]),t._v(" 事件")]),t._v(" "),a("li",[t._v("如果勾选，就存储，否则就移除")])]),t._v(" "),a("h5",{attrs:{id:"_4-2-代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-代码"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://docs.mphy.top/#/WebApi/ch07?id=_42-%E4%BB%A3%E7%A0%81",target:"_blank",rel:"noopener noreferrer"}},[t._v("4.2 代码"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" nameInput "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#username'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" remember "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#remember'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("localStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'username'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    nameInput"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" localStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'username'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    remember"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("checked "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nremember"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'change'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("remember"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("checked"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        localStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'username'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" nameInput"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        localStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'username'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br")])])])}),[],!1,null,null,null);s.default=e.exports}}]);